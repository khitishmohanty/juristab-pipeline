2025-10-14 16:49:19 - root - INFO - main:75 - Starting Text Extraction Service in mode: both
2025-10-14 16:49:19 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 16:49:19 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 16:49:19 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 16:49:19 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 16:49:19 - root - INFO - main:90 - ============================================================
2025-10-14 16:49:19 - root - INFO - main:91 - STAGE 1: JURISCONTENT HTML GENERATION
2025-10-14 16:49:19 - root - INFO - main:92 - ============================================================
2025-10-14 16:49:19 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: destination_database
2025-10-14 16:49:19 - utils.audit_logger - ERROR - _create_db_engine:62 - AuditLogger failed to create database engine: No module named 'psycopg2'
2025-10-14 16:49:19 - root - CRITICAL - main:113 - Could not start audit logger. Aborting. Error: No module named 'psycopg2'
2025-10-14 16:50:24 - root - INFO - main:75 - Starting Text Extraction Service in mode: both
2025-10-14 16:50:24 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 16:50:24 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 16:50:24 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 16:50:24 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 16:50:24 - root - INFO - main:90 - ============================================================
2025-10-14 16:50:24 - root - INFO - main:91 - STAGE 1: JURISCONTENT HTML GENERATION
2025-10-14 16:50:24 - root - INFO - main:92 - ============================================================
2025-10-14 16:50:24 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: destination_database
2025-10-14 16:50:25 - utils.audit_logger - ERROR - log_start:94 - Failed to log job start: (psycopg2.OperationalError) could not translate host name "your-dest-db-host.com" to address: nodename nor servname provided, or not known

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-14 16:50:25 - root - CRITICAL - main:113 - Could not start audit logger. Aborting. Error: (psycopg2.OperationalError) could not translate host name "your-dest-db-host.com" to address: nodename nor servname provided, or not known

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-14 16:52:53 - root - INFO - main:75 - Starting Text Extraction Service in mode: both
2025-10-14 16:52:53 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 16:52:53 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 16:52:53 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 16:52:53 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 16:52:53 - root - INFO - main:90 - ============================================================
2025-10-14 16:52:53 - root - INFO - main:91 - STAGE 1: JURISCONTENT HTML GENERATION
2025-10-14 16:52:53 - root - INFO - main:92 - ============================================================
2025-10-14 16:52:53 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 16:52:54 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent generation' started. Log ID: ed47ab93-da2d-4f6b-9c2d-c090731998cc
2025-10-14 16:52:54 - src.text_processor - INFO - __init__:34 - Successfully loaded headless HTML processing rules.
2025-10-14 16:52:54 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 16:52:54 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 16:52:54 - src.text_processor - INFO - __init__:55 - Heading Hierarchy Rules loaded:
2025-10-14 16:52:54 - src.text_processor - INFO - __init__:56 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 16:52:54 - src.text_processor - INFO - process_cases:84 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 16:52:55 - src.text_processor - INFO - process_cases:103 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 16:52:55 - src.text_processor - INFO - process_cases:109 - ===== Processing for All Years =====
2025-10-14 16:52:55 - src.text_processor - INFO - process_cases:118 - --- Checking Jurisdiction: NSW ---
2025-10-14 16:52:56 - src.text_processor - INFO - process_cases:141 - Found 541 cases for all years from registry requiring processing.
2025-10-14 16:52:56 - src.text_processor - INFO - process_cases:152 - - Processing case: aa0f4dec-c41e-4867-92ad-4c8a2bbb42bc
2025-10-14 16:52:56 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aa0f4dec-c41e-4867-92ad-4c8a2bbb42bc/miniviewer.html
2025-10-14 16:52:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aa0f4dec-c41e-4867-92ad-4c8a2bbb42bc/juriscontent.html
2025-10-14 16:52:57 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for aa0f4dec-c41e-4867-92ad-4c8a2bbb42bc: juriscontent.html size (142829 bytes), miniviewer.html size (141399 bytes).
2025-10-14 16:52:57 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for aa0f4dec-c41e-4867-92ad-4c8a2bbb42bc.
2025-10-14 16:52:57 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.83s for source_id: aa0f4dec-c41e-4867-92ad-4c8a2bbb42bc
2025-10-14 16:52:57 - src.text_processor - INFO - process_cases:152 - - Processing case: fb77b575-8426-4f59-8a4c-61366e9a11de
2025-10-14 16:52:57 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fb77b575-8426-4f59-8a4c-61366e9a11de/miniviewer.html
2025-10-14 16:52:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb77b575-8426-4f59-8a4c-61366e9a11de/juriscontent.html
2025-10-14 16:52:58 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for fb77b575-8426-4f59-8a4c-61366e9a11de: juriscontent.html size (210669 bytes), miniviewer.html size (203742 bytes).
2025-10-14 16:52:58 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for fb77b575-8426-4f59-8a4c-61366e9a11de.
2025-10-14 16:52:58 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.64s for source_id: fb77b575-8426-4f59-8a4c-61366e9a11de
2025-10-14 16:52:58 - src.text_processor - INFO - process_cases:152 - - Processing case: 1f8f38d7-8d30-477a-8ab7-329c0f913300
2025-10-14 16:52:58 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1f8f38d7-8d30-477a-8ab7-329c0f913300/miniviewer.html
2025-10-14 16:52:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1f8f38d7-8d30-477a-8ab7-329c0f913300/juriscontent.html
2025-10-14 16:52:59 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for 1f8f38d7-8d30-477a-8ab7-329c0f913300: juriscontent.html size (397603 bytes), miniviewer.html size (404216 bytes).
2025-10-14 16:52:59 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for 1f8f38d7-8d30-477a-8ab7-329c0f913300.
2025-10-14 16:52:59 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.82s for source_id: 1f8f38d7-8d30-477a-8ab7-329c0f913300
2025-10-14 16:52:59 - src.text_processor - INFO - process_cases:152 - - Processing case: 57a31c89-865b-4042-9671-5fe3328b15f7
2025-10-14 16:52:59 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/57a31c89-865b-4042-9671-5fe3328b15f7/miniviewer.html
2025-10-14 16:53:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/57a31c89-865b-4042-9671-5fe3328b15f7/juriscontent.html
2025-10-14 16:53:00 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for 57a31c89-865b-4042-9671-5fe3328b15f7: juriscontent.html size (522711 bytes), miniviewer.html size (553776 bytes).
2025-10-14 16:53:00 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for 57a31c89-865b-4042-9671-5fe3328b15f7.
2025-10-14 16:53:00 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.01s for source_id: 57a31c89-865b-4042-9671-5fe3328b15f7
2025-10-14 16:53:00 - src.text_processor - INFO - process_cases:152 - - Processing case: ce65e498-851b-4ab0-95a0-1d1989b603fe
2025-10-14 16:53:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ce65e498-851b-4ab0-95a0-1d1989b603fe/miniviewer.html
2025-10-14 16:53:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce65e498-851b-4ab0-95a0-1d1989b603fe/juriscontent.html
2025-10-14 16:53:01 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for ce65e498-851b-4ab0-95a0-1d1989b603fe: juriscontent.html size (90194 bytes), miniviewer.html size (84829 bytes).
2025-10-14 16:53:01 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for ce65e498-851b-4ab0-95a0-1d1989b603fe.
2025-10-14 16:53:01 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.40s for source_id: ce65e498-851b-4ab0-95a0-1d1989b603fe
2025-10-14 16:53:01 - src.text_processor - INFO - process_cases:152 - - Processing case: 05494902-2f79-4746-8f61-10b210f884f1
2025-10-14 16:53:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/05494902-2f79-4746-8f61-10b210f884f1/miniviewer.html
2025-10-14 17:00:49 - root - INFO - main:75 - Starting Text Extraction Service in mode: both
2025-10-14 17:00:49 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:00:49 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:00:49 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:00:49 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:00:49 - root - INFO - main:90 - ============================================================
2025-10-14 17:00:49 - root - INFO - main:91 - STAGE 1: JURISCONTENT HTML GENERATION
2025-10-14 17:00:49 - root - INFO - main:92 - ============================================================
2025-10-14 17:00:49 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:00:49 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent generation' started. Log ID: 886bdc16-5c22-42a0-a967-24cc291318d9
2025-10-14 17:00:49 - src.text_processor - INFO - __init__:34 - Successfully loaded headless HTML processing rules.
2025-10-14 17:00:49 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:00:49 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:00:49 - src.text_processor - INFO - __init__:55 - Heading Hierarchy Rules loaded:
2025-10-14 17:00:49 - src.text_processor - INFO - __init__:56 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:00:49 - src.text_processor - INFO - process_cases:84 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:00:50 - src.text_processor - INFO - process_cases:103 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:00:50 - src.text_processor - INFO - process_cases:109 - ===== Processing for All Years =====
2025-10-14 17:00:50 - src.text_processor - INFO - process_cases:118 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:00:51 - src.text_processor - INFO - process_cases:141 - Found 536 cases for all years from registry requiring processing.
2025-10-14 17:00:51 - src.text_processor - INFO - process_cases:152 - - Processing case: 05494902-2f79-4746-8f61-10b210f884f1
2025-10-14 17:00:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/05494902-2f79-4746-8f61-10b210f884f1/miniviewer.html
2025-10-14 17:00:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/05494902-2f79-4746-8f61-10b210f884f1/juriscontent.html
2025-10-14 17:00:52 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for 05494902-2f79-4746-8f61-10b210f884f1: juriscontent.html size (103646 bytes), miniviewer.html size (102698 bytes).
2025-10-14 17:00:52 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for 05494902-2f79-4746-8f61-10b210f884f1.
2025-10-14 17:00:52 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.61s for source_id: 05494902-2f79-4746-8f61-10b210f884f1
2025-10-14 17:00:52 - src.text_processor - INFO - process_cases:152 - - Processing case: caaf2765-95e7-460d-b992-9e63dd371681
2025-10-14 17:00:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/caaf2765-95e7-460d-b992-9e63dd371681/miniviewer.html
2025-10-14 17:00:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/caaf2765-95e7-460d-b992-9e63dd371681/juriscontent.html
2025-10-14 17:00:53 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for caaf2765-95e7-460d-b992-9e63dd371681: juriscontent.html size (176191 bytes), miniviewer.html size (176786 bytes).
2025-10-14 17:00:53 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for caaf2765-95e7-460d-b992-9e63dd371681.
2025-10-14 17:00:53 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.57s for source_id: caaf2765-95e7-460d-b992-9e63dd371681
2025-10-14 17:00:53 - src.text_processor - INFO - process_cases:152 - - Processing case: b9bd096a-89ec-44d6-806c-3b55f0b4f37f
2025-10-14 17:00:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b9bd096a-89ec-44d6-806c-3b55f0b4f37f/miniviewer.html
2025-10-14 17:00:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b9bd096a-89ec-44d6-806c-3b55f0b4f37f/juriscontent.html
2025-10-14 17:00:54 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for b9bd096a-89ec-44d6-806c-3b55f0b4f37f: juriscontent.html size (145387 bytes), miniviewer.html size (136764 bytes).
2025-10-14 17:00:54 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for b9bd096a-89ec-44d6-806c-3b55f0b4f37f.
2025-10-14 17:00:54 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.54s for source_id: b9bd096a-89ec-44d6-806c-3b55f0b4f37f
2025-10-14 17:00:54 - src.text_processor - INFO - process_cases:152 - - Processing case: c26bb111-9994-43f2-9856-37e482802131
2025-10-14 17:00:54 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c26bb111-9994-43f2-9856-37e482802131/miniviewer.html
2025-10-14 17:00:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c26bb111-9994-43f2-9856-37e482802131/juriscontent.html
2025-10-14 17:00:54 - src.text_processor - INFO - _generate_and_save_juriscontent:208 - VERIFICATION PASSED for c26bb111-9994-43f2-9856-37e482802131: juriscontent.html size (129441 bytes), miniviewer.html size (130061 bytes).
2025-10-14 17:00:54 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Successfully generated juriscontent.html for c26bb111-9994-43f2-9856-37e482802131.
2025-10-14 17:00:55 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.42s for source_id: c26bb111-9994-43f2-9856-37e482802131
2025-10-14 17:00:55 - src.text_processor - INFO - process_cases:152 - - Processing case: 341e5823-6562-4847-9069-c5103e542362
2025-10-14 17:00:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/341e5823-6562-4847-9069-c5103e542362/miniviewer.html
2025-10-14 17:06:46 - root - INFO - main:75 - ======================================================================
2025-10-14 17:06:46 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:06:46 - root - INFO - main:77 - Mode: both
2025-10-14 17:06:46 - root - INFO - main:78 - ======================================================================
2025-10-14 17:06:46 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:06:46 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:06:46 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:06:46 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:06:46 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:06:46 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: c06ae912-370b-491d-99a2-cf8b80ffd885
2025-10-14 17:06:46 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:06:46 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:06:46 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:06:46 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:06:46 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:06:46 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:06:47 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:06:47 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:06:47 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:06:47 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:06:48 - src.text_processor - INFO - process_cases:147 - Found 532 cases for all years from registry requiring processing.
2025-10-14 17:06:48 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:06:48 - src.text_processor - INFO - process_cases:159 - Processing case: 341e5823-6562-4847-9069-c5103e542362 (1/532)
2025-10-14 17:06:48 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:06:48 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 341e5823-6562-4847-9069-c5103e542362
2025-10-14 17:06:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/341e5823-6562-4847-9069-c5103e542362/miniviewer.html
2025-10-14 17:06:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/341e5823-6562-4847-9069-c5103e542362/juriscontent.html
2025-10-14 17:06:49 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 299658 bytes
2025-10-14 17:06:49 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.99s for source_id: 341e5823-6562-4847-9069-c5103e542362
2025-10-14 17:06:49 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 341e5823-6562-4847-9069-c5103e542362
2025-10-14 17:06:49 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 341e5823-6562-4847-9069-c5103e542362
2025-10-14 17:06:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/341e5823-6562-4847-9069-c5103e542362/juriscontent.html
2025-10-14 17:06:50 - src.text_processor - INFO - _extract_and_save_sections:289 - Extracted 23 sections from 341e5823-6562-4847-9069-c5103e542362
2025-10-14 17:06:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/341e5823-6562-4847-9069-c5103e542362/section-level-content/miniviewer_1.txt
2025-10-14 17:06:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/341e5823-6562-4847-9069-c5103e542362/section-level-content/miniviewer_2.txt
2025-10-14 17:06:50 - utils.database_connector - ERROR - insert_legislation_section:247 - Error inserting section for source_id 341e5823-6562-4847-9069-c5103e542362, section_id 2: (mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry '341e5823-6562-4847-9069-c5103e542362' for key 'legislation_sections.source_id'
[SQL: 
                INSERT INTO legislation_sections (id, source_id, section_id)
                VALUES (%(id)s, %(source_id)s, %(section_id)s)
            ]
[parameters: {'id': 'bba4ef61-eabc-4871-b2b8-3597e529f0df', 'source_id': '341e5823-6562-4847-9069-c5103e542362', 'section_id': 2}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-14 17:06:50 - src.text_processor - ERROR - _extract_and_save_sections:328 - ❌ Section extraction FAILED: IntegrityError: (mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry '341e5823-6562-4847-9069-c5103e542362' for key 'legislation_sections.source_id'
[SQL: 
                INSERT INTO legislation_sections (id, source_id, section_id)
                VALUES (%(id)s, %(source_id)s, %(section_id)s)
            ]
[parameters: {'id': 'bba4ef61-eabc-4871-b2b8-3597e529f0df', 'source_id': '341e5823-6562-4847-9069-c5103e542362', 'section_id': 2}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-14 17:06:51 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'failed' with duration 1.06s for source_id: 341e5823-6562-4847-9069-c5103e542362
2025-10-14 17:06:51 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:06:51 - src.text_processor - INFO - process_cases:159 - Processing case: cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a (2/532)
2025-10-14 17:06:51 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:06:51 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a
2025-10-14 17:06:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/miniviewer.html
2025-10-14 17:06:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/juriscontent.html
2025-10-14 17:06:51 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 307139 bytes
2025-10-14 17:07:28 - root - INFO - main:75 - ======================================================================
2025-10-14 17:07:28 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:07:28 - root - INFO - main:77 - Mode: both
2025-10-14 17:07:28 - root - INFO - main:78 - ======================================================================
2025-10-14 17:07:28 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:07:28 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:07:28 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:07:28 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:07:28 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:07:28 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 92f9420d-ce7e-4dce-90d6-3b759e13dceb
2025-10-14 17:07:28 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:07:28 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:07:28 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:07:28 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:07:28 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:07:28 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:07:29 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:07:29 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:07:29 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:07:29 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:07:30 - src.text_processor - INFO - process_cases:147 - Found 531 cases for all years from registry requiring processing.
2025-10-14 17:07:30 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:07:30 - src.text_processor - INFO - process_cases:159 - Processing case: cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a (1/531)
2025-10-14 17:07:30 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:07:31 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a
2025-10-14 17:07:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/miniviewer.html
2025-10-14 17:07:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/juriscontent.html
2025-10-14 17:07:32 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 307139 bytes
2025-10-14 17:07:32 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.89s for source_id: cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a
2025-10-14 17:07:32 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a
2025-10-14 17:07:32 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a
2025-10-14 17:07:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/juriscontent.html
2025-10-14 17:07:32 - src.text_processor - INFO - _extract_and_save_sections:289 - Extracted 16 sections from cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a
2025-10-14 17:07:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_1.txt
2025-10-14 17:07:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_2.txt
2025-10-14 17:07:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_3.txt
2025-10-14 17:07:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_4.txt
2025-10-14 17:07:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_5.txt
2025-10-14 17:07:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_6.txt
2025-10-14 17:07:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_7.txt
2025-10-14 17:07:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_8.txt
2025-10-14 17:07:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_9.txt
2025-10-14 17:07:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_10.txt
2025-10-14 17:07:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_11.txt
2025-10-14 17:07:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_12.txt
2025-10-14 17:07:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_13.txt
2025-10-14 17:07:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_14.txt
2025-10-14 17:07:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_15.txt
2025-10-14 17:07:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a/section-level-content/miniviewer_16.txt
2025-10-14 17:07:36 - src.text_processor - INFO - _extract_and_save_sections:317 - ✅ Section extraction SUCCESS: 16 sections saved
2025-10-14 17:07:36 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.37s for source_id: cc8d9431-2f9b-4d76-ba8a-8ab3d0c8143a
2025-10-14 17:07:36 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:07:36 - src.text_processor - INFO - process_cases:159 - Processing case: a1e09957-d02b-4828-a26a-eea445082932 (2/531)
2025-10-14 17:07:36 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:07:36 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:07:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/miniviewer.html
2025-10-14 17:07:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:07:37 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 231705 bytes
2025-10-14 17:07:37 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.64s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:07:37 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:07:37 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:07:37 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:07:37 - src.text_processor - INFO - _extract_and_save_sections:289 - Extracted 13 sections from a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:07:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_1.txt
2025-10-14 17:07:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_2.txt
2025-10-14 17:07:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_3.txt
2025-10-14 17:07:38 - sqlalchemy.pool.impl.QueuePool - ERROR - _finalize_fairy:1010 - Exception during reset or similar
Traceback (most recent call last):
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 988, in _finalize_fairy
    fairy._reset(
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1438, in _reset
    pool._dialect.do_rollback(self)
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 611, in rollback
    self._cmysql.rollback()
KeyboardInterrupt
2025-10-14 17:14:44 - root - INFO - main:75 - ======================================================================
2025-10-14 17:14:44 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:14:44 - root - INFO - main:77 - Mode: both
2025-10-14 17:14:44 - root - INFO - main:78 - ======================================================================
2025-10-14 17:14:44 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:14:44 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:14:44 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:14:44 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:14:44 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:14:44 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 722b4c58-0592-4963-b547-09ed486dceb7
2025-10-14 17:14:44 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:14:44 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:14:44 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:14:44 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:14:44 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:14:44 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:14:45 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:14:45 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:14:45 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:14:45 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:14:46 - src.text_processor - INFO - process_cases:147 - Found 529 cases for all years from registry requiring processing.
2025-10-14 17:14:46 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:14:46 - src.text_processor - INFO - process_cases:159 - Processing case: 3b236c37-0742-45ba-9887-c43a7a781658 (1/529)
2025-10-14 17:14:46 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:14:46 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3b236c37-0742-45ba-9887-c43a7a781658
2025-10-14 17:14:46 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/miniviewer.html
2025-10-14 17:14:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/juriscontent.html
2025-10-14 17:14:47 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 354626 bytes
2025-10-14 17:14:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.01s for source_id: 3b236c37-0742-45ba-9887-c43a7a781658
2025-10-14 17:14:47 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 3b236c37-0742-45ba-9887-c43a7a781658
2025-10-14 17:14:47 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 3b236c37-0742-45ba-9887-c43a7a781658
2025-10-14 17:14:47 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:14:47 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/
2025-10-14 17:14:47 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/
2025-10-14 17:14:47 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:14:48 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 3b236c37-0742-45ba-9887-c43a7a781658
2025-10-14 17:14:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/juriscontent.html
2025-10-14 17:14:48 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 21 sections from 3b236c37-0742-45ba-9887-c43a7a781658
2025-10-14 17:14:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_1.txt
2025-10-14 17:14:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_2.txt
2025-10-14 17:14:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_3.txt
2025-10-14 17:14:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_4.txt
2025-10-14 17:14:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_5.txt
2025-10-14 17:14:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_6.txt
2025-10-14 17:14:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_7.txt
2025-10-14 17:14:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_8.txt
2025-10-14 17:14:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_9.txt
2025-10-14 17:14:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_10.txt
2025-10-14 17:14:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_11.txt
2025-10-14 17:14:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_12.txt
2025-10-14 17:14:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_13.txt
2025-10-14 17:14:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_14.txt
2025-10-14 17:14:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_15.txt
2025-10-14 17:14:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_16.txt
2025-10-14 17:14:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_17.txt
2025-10-14 17:14:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_18.txt
2025-10-14 17:14:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_19.txt
2025-10-14 17:14:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_20.txt
2025-10-14 17:14:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3b236c37-0742-45ba-9887-c43a7a781658/section-level-content/miniviewer_21.txt
2025-10-14 17:14:53 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 21 sections saved
2025-10-14 17:14:53 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 5.59s for source_id: 3b236c37-0742-45ba-9887-c43a7a781658
2025-10-14 17:14:53 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:14:53 - src.text_processor - INFO - process_cases:159 - Processing case: 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea (2/529)
2025-10-14 17:14:53 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:14:53 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea
2025-10-14 17:14:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/miniviewer.html
2025-10-14 17:14:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/juriscontent.html
2025-10-14 17:14:54 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 476243 bytes
2025-10-14 17:14:54 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.06s for source_id: 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea
2025-10-14 17:14:54 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea
2025-10-14 17:14:55 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea
2025-10-14 17:14:55 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:14:55 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/
2025-10-14 17:14:55 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/
2025-10-14 17:14:55 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:14:55 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea
2025-10-14 17:14:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/juriscontent.html
2025-10-14 17:14:55 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 24 sections from 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea
2025-10-14 17:14:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_1.txt
2025-10-14 17:14:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_2.txt
2025-10-14 17:14:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_3.txt
2025-10-14 17:14:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_4.txt
2025-10-14 17:14:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_5.txt
2025-10-14 17:14:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_6.txt
2025-10-14 17:14:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_7.txt
2025-10-14 17:14:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_8.txt
2025-10-14 17:14:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_9.txt
2025-10-14 17:14:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_10.txt
2025-10-14 17:14:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_11.txt
2025-10-14 17:14:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_12.txt
2025-10-14 17:14:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_13.txt
2025-10-14 17:14:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_14.txt
2025-10-14 17:14:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_15.txt
2025-10-14 17:14:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_16.txt
2025-10-14 17:14:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_17.txt
2025-10-14 17:14:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_18.txt
2025-10-14 17:15:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_19.txt
2025-10-14 17:15:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_20.txt
2025-10-14 17:15:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_21.txt
2025-10-14 17:15:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_22.txt
2025-10-14 17:15:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_23.txt
2025-10-14 17:15:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/70bbb5c3-8bbb-4b31-826b-9dcc089a74ea/section-level-content/miniviewer_24.txt
2025-10-14 17:15:01 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 24 sections saved
2025-10-14 17:15:01 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 6.45s for source_id: 70bbb5c3-8bbb-4b31-826b-9dcc089a74ea
2025-10-14 17:15:01 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:15:01 - src.text_processor - INFO - process_cases:159 - Processing case: c173c036-0ec1-4dcd-a02f-80eda684ebcc (3/529)
2025-10-14 17:15:01 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:15:01 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c173c036-0ec1-4dcd-a02f-80eda684ebcc
2025-10-14 17:15:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/miniviewer.html
2025-10-14 17:15:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/juriscontent.html
2025-10-14 17:15:02 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 125566 bytes
2025-10-14 17:15:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.55s for source_id: c173c036-0ec1-4dcd-a02f-80eda684ebcc
2025-10-14 17:15:02 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for c173c036-0ec1-4dcd-a02f-80eda684ebcc
2025-10-14 17:15:02 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: c173c036-0ec1-4dcd-a02f-80eda684ebcc
2025-10-14 17:15:02 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:15:02 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/section-level-content/
2025-10-14 17:15:02 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/section-level-content/
2025-10-14 17:15:02 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:15:02 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: c173c036-0ec1-4dcd-a02f-80eda684ebcc
2025-10-14 17:15:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/juriscontent.html
2025-10-14 17:15:02 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 5 sections from c173c036-0ec1-4dcd-a02f-80eda684ebcc
2025-10-14 17:15:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/section-level-content/miniviewer_1.txt
2025-10-14 17:15:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/section-level-content/miniviewer_2.txt
2025-10-14 17:15:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/section-level-content/miniviewer_3.txt
2025-10-14 17:15:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/section-level-content/miniviewer_4.txt
2025-10-14 17:15:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c173c036-0ec1-4dcd-a02f-80eda684ebcc/section-level-content/miniviewer_5.txt
2025-10-14 17:15:04 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-14 17:15:04 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.70s for source_id: c173c036-0ec1-4dcd-a02f-80eda684ebcc
2025-10-14 17:15:04 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:15:04 - src.text_processor - INFO - process_cases:159 - Processing case: 3eafc14e-30ae-49e7-822d-1fdd53fde068 (4/529)
2025-10-14 17:15:04 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:15:04 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3eafc14e-30ae-49e7-822d-1fdd53fde068
2025-10-14 17:15:04 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/miniviewer.html
2025-10-14 17:15:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/juriscontent.html
2025-10-14 17:15:04 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 91332 bytes
2025-10-14 17:15:04 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.38s for source_id: 3eafc14e-30ae-49e7-822d-1fdd53fde068
2025-10-14 17:15:04 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 3eafc14e-30ae-49e7-822d-1fdd53fde068
2025-10-14 17:15:05 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 3eafc14e-30ae-49e7-822d-1fdd53fde068
2025-10-14 17:15:05 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:15:05 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/
2025-10-14 17:15:05 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/
2025-10-14 17:15:05 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:15:05 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 3eafc14e-30ae-49e7-822d-1fdd53fde068
2025-10-14 17:15:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/juriscontent.html
2025-10-14 17:15:05 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 17 sections from 3eafc14e-30ae-49e7-822d-1fdd53fde068
2025-10-14 17:15:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_1.txt
2025-10-14 17:15:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_2.txt
2025-10-14 17:15:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_3.txt
2025-10-14 17:15:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_4.txt
2025-10-14 17:15:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_5.txt
2025-10-14 17:15:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_6.txt
2025-10-14 17:15:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_7.txt
2025-10-14 17:15:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_8.txt
2025-10-14 17:15:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_9.txt
2025-10-14 17:15:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_10.txt
2025-10-14 17:15:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_11.txt
2025-10-14 17:15:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_12.txt
2025-10-14 17:15:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_13.txt
2025-10-14 17:15:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_14.txt
2025-10-14 17:15:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_15.txt
2025-10-14 17:15:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_16.txt
2025-10-14 17:15:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3eafc14e-30ae-49e7-822d-1fdd53fde068/section-level-content/miniviewer_17.txt
2025-10-14 17:15:09 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 17 sections saved
2025-10-14 17:15:09 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.67s for source_id: 3eafc14e-30ae-49e7-822d-1fdd53fde068
2025-10-14 17:15:09 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:15:09 - src.text_processor - INFO - process_cases:159 - Processing case: b7ad79a7-2754-45a6-9554-44459c0db08d (5/529)
2025-10-14 17:15:09 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:15:09 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b7ad79a7-2754-45a6-9554-44459c0db08d
2025-10-14 17:15:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/miniviewer.html
2025-10-14 17:15:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/juriscontent.html
2025-10-14 17:15:10 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 102934 bytes
2025-10-14 17:15:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.43s for source_id: b7ad79a7-2754-45a6-9554-44459c0db08d
2025-10-14 17:15:10 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for b7ad79a7-2754-45a6-9554-44459c0db08d
2025-10-14 17:15:10 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: b7ad79a7-2754-45a6-9554-44459c0db08d
2025-10-14 17:15:10 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:15:10 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/
2025-10-14 17:15:10 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/
2025-10-14 17:15:10 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:15:10 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: b7ad79a7-2754-45a6-9554-44459c0db08d
2025-10-14 17:15:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/juriscontent.html
2025-10-14 17:15:10 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 14 sections from b7ad79a7-2754-45a6-9554-44459c0db08d
2025-10-14 17:15:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_1.txt
2025-10-14 17:15:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_2.txt
2025-10-14 17:15:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_3.txt
2025-10-14 17:15:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_4.txt
2025-10-14 17:15:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_5.txt
2025-10-14 17:15:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_6.txt
2025-10-14 17:15:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_7.txt
2025-10-14 17:15:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_8.txt
2025-10-14 17:15:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_9.txt
2025-10-14 17:15:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_10.txt
2025-10-14 17:15:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_11.txt
2025-10-14 17:15:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_12.txt
2025-10-14 17:15:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_13.txt
2025-10-14 17:15:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7ad79a7-2754-45a6-9554-44459c0db08d/section-level-content/miniviewer_14.txt
2025-10-14 17:15:14 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 14 sections saved
2025-10-14 17:15:14 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.93s for source_id: b7ad79a7-2754-45a6-9554-44459c0db08d
2025-10-14 17:15:14 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:15:14 - src.text_processor - INFO - process_cases:159 - Processing case: 69ab6434-ce79-4426-a732-c1f22615f478 (6/529)
2025-10-14 17:15:14 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:15:14 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 69ab6434-ce79-4426-a732-c1f22615f478
2025-10-14 17:15:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/miniviewer.html
2025-10-14 17:15:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/juriscontent.html
2025-10-14 17:15:15 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 215159 bytes
2025-10-14 17:15:15 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.73s for source_id: 69ab6434-ce79-4426-a732-c1f22615f478
2025-10-14 17:15:15 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 69ab6434-ce79-4426-a732-c1f22615f478
2025-10-14 17:15:15 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 69ab6434-ce79-4426-a732-c1f22615f478
2025-10-14 17:15:15 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:15:15 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/
2025-10-14 17:15:15 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/
2025-10-14 17:15:15 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:15:15 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 69ab6434-ce79-4426-a732-c1f22615f478
2025-10-14 17:15:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/juriscontent.html
2025-10-14 17:15:16 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from 69ab6434-ce79-4426-a732-c1f22615f478
2025-10-14 17:15:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_1.txt
2025-10-14 17:15:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_2.txt
2025-10-14 17:15:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_3.txt
2025-10-14 17:15:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_4.txt
2025-10-14 17:15:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_5.txt
2025-10-14 17:15:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_6.txt
2025-10-14 17:15:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_7.txt
2025-10-14 17:15:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/69ab6434-ce79-4426-a732-c1f22615f478/section-level-content/miniviewer_8.txt
2025-10-14 17:15:18 - sqlalchemy.pool.impl.QueuePool - ERROR - _finalize_fairy:1010 - Exception during reset or similar
Traceback (most recent call last):
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 988, in _finalize_fairy
    fairy._reset(
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1438, in _reset
    pool._dialect.do_rollback(self)
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 611, in rollback
    self._cmysql.rollback()
KeyboardInterrupt
2025-10-14 17:15:26 - root - INFO - main:75 - ======================================================================
2025-10-14 17:15:26 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:15:26 - root - INFO - main:77 - Mode: both
2025-10-14 17:15:26 - root - INFO - main:78 - ======================================================================
2025-10-14 17:15:26 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:15:26 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:15:26 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:15:26 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:15:26 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:15:27 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 0c3b0009-b76d-40d3-98c0-f5c93ed104b9
2025-10-14 17:15:27 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:15:27 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:15:27 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:15:27 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:15:27 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:15:27 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:15:28 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:15:28 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:15:28 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:15:28 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:15:29 - src.text_processor - INFO - process_cases:147 - Found 524 cases for all years from registry requiring processing.
2025-10-14 17:15:29 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:15:29 - src.text_processor - INFO - process_cases:159 - Processing case: a1e09957-d02b-4828-a26a-eea445082932 (1/524)
2025-10-14 17:15:29 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:15:29 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:15:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/miniviewer.html
2025-10-14 17:15:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:15:30 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 231705 bytes
2025-10-14 17:15:30 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.91s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:15:30 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:15:30 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:15:30 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:15:30 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:15:30 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:15:30 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 3 objects from s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:15:30 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 3 files from folder
2025-10-14 17:15:30 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:15:30 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:15:31 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 3 existing sections for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:15:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:15:31 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:15:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_1.txt
2025-10-14 17:15:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_2.txt
2025-10-14 17:15:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_3.txt
2025-10-14 17:15:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_4.txt
2025-10-14 17:15:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_5.txt
2025-10-14 17:15:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_6.txt
2025-10-14 17:15:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_7.txt
2025-10-14 17:15:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_8.txt
2025-10-14 17:15:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_9.txt
2025-10-14 17:15:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_10.txt
2025-10-14 17:15:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_11.txt
2025-10-14 17:15:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_12.txt
2025-10-14 17:15:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_13.txt
2025-10-14 17:15:34 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 13 sections saved
2025-10-14 17:15:34 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.10s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:15:34 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:15:34 - src.text_processor - INFO - process_cases:159 - Processing case: 0d9e5bcb-928d-44c7-8f70-faaeb01bea9f (2/524)
2025-10-14 17:15:34 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:15:34 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 0d9e5bcb-928d-44c7-8f70-faaeb01bea9f
2025-10-14 17:15:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0d9e5bcb-928d-44c7-8f70-faaeb01bea9f/miniviewer.html
2025-10-14 17:15:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0d9e5bcb-928d-44c7-8f70-faaeb01bea9f/juriscontent.html
2025-10-14 17:15:35 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 95424 bytes
2025-10-14 17:15:35 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.43s for source_id: 0d9e5bcb-928d-44c7-8f70-faaeb01bea9f
2025-10-14 17:15:35 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 0d9e5bcb-928d-44c7-8f70-faaeb01bea9f
2025-10-14 17:22:23 - root - INFO - main:75 - ======================================================================
2025-10-14 17:22:23 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:22:23 - root - INFO - main:77 - Mode: both
2025-10-14 17:22:23 - root - INFO - main:78 - ======================================================================
2025-10-14 17:22:23 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:22:23 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:22:23 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:22:23 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:22:23 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:22:24 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: b7f2ff15-e061-4e8e-b8c5-8ec26ba31e04
2025-10-14 17:22:24 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:22:24 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:22:24 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:22:24 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:22:24 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:22:24 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:22:25 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:22:25 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:22:25 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:22:25 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:22:26 - src.text_processor - INFO - process_cases:147 - Found 523 cases for all years from registry requiring processing.
2025-10-14 17:22:26 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:22:26 - src.text_processor - INFO - process_cases:159 - Processing case: a1e09957-d02b-4828-a26a-eea445082932 (1/523)
2025-10-14 17:22:26 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:22:26 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:22:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/miniviewer.html
2025-10-14 17:22:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:22:27 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 231705 bytes
2025-10-14 17:22:27 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.85s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:22:27 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:22:27 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:22:27 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:22:27 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:22:27 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:22:27 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 13 objects from s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:22:27 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 13 files from folder
2025-10-14 17:22:27 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:22:27 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:22:27 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 13 existing sections for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:22:28 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:22:28 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:22:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_1.txt
2025-10-14 17:22:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_2.txt
2025-10-14 17:22:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_3.txt
2025-10-14 17:22:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_4.txt
2025-10-14 17:22:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_5.txt
2025-10-14 17:22:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_6.txt
2025-10-14 17:22:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_7.txt
2025-10-14 17:22:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_8.txt
2025-10-14 17:22:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_9.txt
2025-10-14 17:22:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_10.txt
2025-10-14 17:22:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_11.txt
2025-10-14 17:22:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_12.txt
2025-10-14 17:22:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_13.txt
2025-10-14 17:22:31 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 13 sections saved
2025-10-14 17:22:31 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.30s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:22:31 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:22:31 - src.text_processor - INFO - process_cases:159 - Processing case: 5f1bfc34-8b8a-476c-9816-79140eddbabc (2/523)
2025-10-14 17:22:31 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:22:31 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5f1bfc34-8b8a-476c-9816-79140eddbabc
2025-10-14 17:22:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/miniviewer.html
2025-10-14 17:22:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/juriscontent.html
2025-10-14 17:22:32 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 204270 bytes
2025-10-14 17:22:32 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.78s for source_id: 5f1bfc34-8b8a-476c-9816-79140eddbabc
2025-10-14 17:22:32 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 5f1bfc34-8b8a-476c-9816-79140eddbabc
2025-10-14 17:22:33 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 5f1bfc34-8b8a-476c-9816-79140eddbabc
2025-10-14 17:22:33 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:22:33 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/
2025-10-14 17:22:33 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/
2025-10-14 17:22:33 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:22:33 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 5f1bfc34-8b8a-476c-9816-79140eddbabc
2025-10-14 17:22:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/juriscontent.html
2025-10-14 17:22:33 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 10 sections from 5f1bfc34-8b8a-476c-9816-79140eddbabc
2025-10-14 17:22:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_1.txt
2025-10-14 17:22:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_2.txt
2025-10-14 17:22:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_3.txt
2025-10-14 17:22:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_4.txt
2025-10-14 17:22:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_5.txt
2025-10-14 17:22:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_6.txt
2025-10-14 17:22:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_7.txt
2025-10-14 17:22:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_8.txt
2025-10-14 17:22:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_9.txt
2025-10-14 17:22:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5f1bfc34-8b8a-476c-9816-79140eddbabc/section-level-content/miniviewer_10.txt
2025-10-14 17:22:35 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 10 sections saved
2025-10-14 17:22:36 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.08s for source_id: 5f1bfc34-8b8a-476c-9816-79140eddbabc
2025-10-14 17:22:36 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:22:36 - src.text_processor - INFO - process_cases:159 - Processing case: a38f4092-2202-4ac6-a36c-6e884d0c36fe (3/523)
2025-10-14 17:22:36 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:22:36 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a38f4092-2202-4ac6-a36c-6e884d0c36fe
2025-10-14 17:22:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/miniviewer.html
2025-10-14 17:26:21 - root - INFO - main:75 - ======================================================================
2025-10-14 17:26:21 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:26:21 - root - INFO - main:77 - Mode: both
2025-10-14 17:26:21 - root - INFO - main:78 - ======================================================================
2025-10-14 17:26:21 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:26:21 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:26:21 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:26:21 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:26:21 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:26:22 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 8421ad89-76a5-439f-b37d-1a7ae3e257b4
2025-10-14 17:26:22 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:26:22 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:26:22 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:26:22 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:26:22 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:26:22 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:26:35 - root - INFO - main:75 - ======================================================================
2025-10-14 17:26:35 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:26:35 - root - INFO - main:77 - Mode: both
2025-10-14 17:26:35 - root - INFO - main:78 - ======================================================================
2025-10-14 17:26:35 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:26:35 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:26:36 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:26:36 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:26:36 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:26:36 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 9ab7c9be-666e-47a8-a274-936176579eee
2025-10-14 17:26:36 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:26:36 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:26:36 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:26:36 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:26:36 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:26:36 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:26:37 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:26:37 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:26:37 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:26:37 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:26:38 - src.text_processor - INFO - process_cases:147 - Found 522 cases for all years from registry requiring processing.
2025-10-14 17:26:38 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:26:38 - src.text_processor - INFO - process_cases:159 - Processing case: a1e09957-d02b-4828-a26a-eea445082932 (1/522)
2025-10-14 17:26:38 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:26:38 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:26:38 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/miniviewer.html
2025-10-14 17:26:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:26:39 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 231705 bytes
2025-10-14 17:26:39 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.85s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:26:39 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:26:39 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:26:39 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:26:39 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:26:39 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:26:40 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 13 objects from s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:26:40 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 13 files from folder
2025-10-14 17:26:40 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:26:40 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:26:40 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 13 existing sections for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:26:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:26:40 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:26:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_1.txt
2025-10-14 17:26:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_2.txt
2025-10-14 17:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_3.txt
2025-10-14 17:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_4.txt
2025-10-14 17:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_5.txt
2025-10-14 17:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_6.txt
2025-10-14 17:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_7.txt
2025-10-14 17:26:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_8.txt
2025-10-14 17:26:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_9.txt
2025-10-14 17:26:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_10.txt
2025-10-14 17:26:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_11.txt
2025-10-14 17:26:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_12.txt
2025-10-14 17:26:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_13.txt
2025-10-14 17:26:43 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 13 sections saved
2025-10-14 17:26:43 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.00s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:26:43 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:26:43 - src.text_processor - INFO - process_cases:159 - Processing case: a38f4092-2202-4ac6-a36c-6e884d0c36fe (2/522)
2025-10-14 17:26:43 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:26:43 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a38f4092-2202-4ac6-a36c-6e884d0c36fe
2025-10-14 17:26:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/miniviewer.html
2025-10-14 17:26:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/juriscontent.html
2025-10-14 17:26:44 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 504359 bytes
2025-10-14 17:26:44 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.07s for source_id: a38f4092-2202-4ac6-a36c-6e884d0c36fe
2025-10-14 17:26:44 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a38f4092-2202-4ac6-a36c-6e884d0c36fe
2025-10-14 17:26:45 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a38f4092-2202-4ac6-a36c-6e884d0c36fe
2025-10-14 17:26:45 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:26:45 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/section-level-content/
2025-10-14 17:26:45 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/section-level-content/
2025-10-14 17:26:45 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:26:45 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: a38f4092-2202-4ac6-a36c-6e884d0c36fe
2025-10-14 17:26:45 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/juriscontent.html
2025-10-14 17:26:45 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 24 sections from a38f4092-2202-4ac6-a36c-6e884d0c36fe
2025-10-14 17:26:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/section-level-content/miniviewer_1.txt
2025-10-14 17:26:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/section-level-content/miniviewer_2.txt
2025-10-14 17:26:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/section-level-content/miniviewer_3.txt
2025-10-14 17:26:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/section-level-content/miniviewer_4.txt
2025-10-14 17:26:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a38f4092-2202-4ac6-a36c-6e884d0c36fe/section-level-content/miniviewer_5.txt
2025-10-14 17:31:58 - root - INFO - main:75 - ======================================================================
2025-10-14 17:31:58 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:31:58 - root - INFO - main:77 - Mode: both
2025-10-14 17:31:58 - root - INFO - main:78 - ======================================================================
2025-10-14 17:31:58 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:31:58 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:31:58 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:31:58 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:31:58 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:31:59 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: ff3e8359-e1ad-4b03-b91b-efd3c3637998
2025-10-14 17:31:59 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:31:59 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:31:59 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:31:59 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:31:59 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:31:59 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:32:00 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:32:00 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:32:00 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:32:00 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:32:01 - src.text_processor - INFO - process_cases:147 - Found 521 cases for all years from registry requiring processing.
2025-10-14 17:32:01 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:32:01 - src.text_processor - INFO - process_cases:159 - Processing case: a1e09957-d02b-4828-a26a-eea445082932 (1/521)
2025-10-14 17:32:01 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:32:01 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:32:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/miniviewer.html
2025-10-14 17:32:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:32:02 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 231705 bytes
2025-10-14 17:32:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.89s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:32:02 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:32:02 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:32:02 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:32:02 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:32:02 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:32:03 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 13 objects from s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:32:03 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 13 files from folder
2025-10-14 17:32:03 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:32:03 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:32:03 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 13 existing sections for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:32:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:32:03 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:32:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_1.txt
2025-10-14 17:32:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_2.txt
2025-10-14 17:32:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_3.txt
2025-10-14 17:32:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_4.txt
2025-10-14 17:32:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_5.txt
2025-10-14 17:32:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_6.txt
2025-10-14 17:32:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_7.txt
2025-10-14 17:32:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_8.txt
2025-10-14 17:32:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_9.txt
2025-10-14 17:32:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_10.txt
2025-10-14 17:32:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_11.txt
2025-10-14 17:32:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_12.txt
2025-10-14 17:32:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_13.txt
2025-10-14 17:32:06 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 13 sections saved
2025-10-14 17:32:06 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.01s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:32:06 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:32:06 - src.text_processor - INFO - process_cases:159 - Processing case: 3317d1be-3eab-468b-a7ad-a76f270e8540 (2/521)
2025-10-14 17:32:06 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:32:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3317d1be-3eab-468b-a7ad-a76f270e8540
2025-10-14 17:32:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/miniviewer.html
2025-10-14 17:32:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/juriscontent.html
2025-10-14 17:32:08 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 485313 bytes
2025-10-14 17:32:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.28s for source_id: 3317d1be-3eab-468b-a7ad-a76f270e8540
2025-10-14 17:32:08 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 3317d1be-3eab-468b-a7ad-a76f270e8540
2025-10-14 17:32:08 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 3317d1be-3eab-468b-a7ad-a76f270e8540
2025-10-14 17:32:08 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:32:08 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/section-level-content/
2025-10-14 17:32:08 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/section-level-content/
2025-10-14 17:32:08 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:32:08 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 3317d1be-3eab-468b-a7ad-a76f270e8540
2025-10-14 17:32:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/juriscontent.html
2025-10-14 17:32:08 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 26 sections from 3317d1be-3eab-468b-a7ad-a76f270e8540
2025-10-14 17:32:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/section-level-content/miniviewer_1.txt
2025-10-14 17:32:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/section-level-content/miniviewer_2.txt
2025-10-14 17:32:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3317d1be-3eab-468b-a7ad-a76f270e8540/section-level-content/miniviewer_3.txt
2025-10-14 17:35:18 - root - INFO - main:75 - ======================================================================
2025-10-14 17:35:18 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:35:18 - root - INFO - main:77 - Mode: both
2025-10-14 17:35:18 - root - INFO - main:78 - ======================================================================
2025-10-14 17:35:18 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:35:18 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:35:18 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:35:18 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:35:18 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:35:19 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 661d81cf-653e-46cd-b418-ed2c33a291e6
2025-10-14 17:35:19 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:35:19 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:35:19 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:35:19 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:35:19 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:35:19 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:147 - Found 520 cases for all years from registry requiring processing.
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:159 - Processing case: a1e09957-d02b-4828-a26a-eea445082932 (1/520)
2025-10-14 17:35:20 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:35:21 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:35:21 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/miniviewer.html
2025-10-14 17:35:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:35:21 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 231705 bytes
2025-10-14 17:35:21 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.81s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:35:21 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:35:22 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:35:22 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:35:22 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:35:22 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:35:22 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 13 objects from s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:35:22 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 13 files from folder
2025-10-14 17:35:22 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:35:22 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:35:22 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 13 existing sections for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:35:22 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:35:22 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:35:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_1.txt
2025-10-14 17:35:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_2.txt
2025-10-14 17:35:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_3.txt
2025-10-14 17:35:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_4.txt
2025-10-14 17:35:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_5.txt
2025-10-14 17:35:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_6.txt
2025-10-14 17:35:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_7.txt
2025-10-14 17:35:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_8.txt
2025-10-14 17:35:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_9.txt
2025-10-14 17:35:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_10.txt
2025-10-14 17:35:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_11.txt
2025-10-14 17:35:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_12.txt
2025-10-14 17:35:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_13.txt
2025-10-14 17:35:26 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 13 sections saved
2025-10-14 17:35:26 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.06s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:35:26 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:35:26 - src.text_processor - INFO - process_cases:159 - Processing case: 1c54264a-3343-43a0-84f9-dfa6fb4859e3 (2/520)
2025-10-14 17:35:26 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:35:26 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 1c54264a-3343-43a0-84f9-dfa6fb4859e3
2025-10-14 17:35:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/miniviewer.html
2025-10-14 17:35:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/juriscontent.html
2025-10-14 17:35:26 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 125188 bytes
2025-10-14 17:35:26 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.45s for source_id: 1c54264a-3343-43a0-84f9-dfa6fb4859e3
2025-10-14 17:35:26 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 1c54264a-3343-43a0-84f9-dfa6fb4859e3
2025-10-14 17:35:27 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 1c54264a-3343-43a0-84f9-dfa6fb4859e3
2025-10-14 17:35:27 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:35:27 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/
2025-10-14 17:35:27 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/
2025-10-14 17:35:27 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:35:27 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 1c54264a-3343-43a0-84f9-dfa6fb4859e3
2025-10-14 17:35:27 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/juriscontent.html
2025-10-14 17:35:27 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 11 sections from 1c54264a-3343-43a0-84f9-dfa6fb4859e3
2025-10-14 17:35:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_1.txt
2025-10-14 17:35:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_2.txt
2025-10-14 17:35:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_3.txt
2025-10-14 17:35:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_4.txt
2025-10-14 17:35:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_5.txt
2025-10-14 17:35:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_6.txt
2025-10-14 17:35:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_7.txt
2025-10-14 17:35:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_8.txt
2025-10-14 17:35:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_9.txt
2025-10-14 17:35:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_10.txt
2025-10-14 17:35:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1c54264a-3343-43a0-84f9-dfa6fb4859e3/section-level-content/miniviewer_11.txt
2025-10-14 17:35:30 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 11 sections saved
2025-10-14 17:35:30 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.09s for source_id: 1c54264a-3343-43a0-84f9-dfa6fb4859e3
2025-10-14 17:35:30 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:35:30 - src.text_processor - INFO - process_cases:159 - Processing case: b43e3c78-4cee-4ba3-9e11-93fe00b436e7 (3/520)
2025-10-14 17:35:30 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:35:30 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b43e3c78-4cee-4ba3-9e11-93fe00b436e7
2025-10-14 17:35:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b43e3c78-4cee-4ba3-9e11-93fe00b436e7/miniviewer.html
2025-10-14 17:35:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b43e3c78-4cee-4ba3-9e11-93fe00b436e7/juriscontent.html
2025-10-14 17:35:31 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 301440 bytes
2025-10-14 17:35:31 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.83s for source_id: b43e3c78-4cee-4ba3-9e11-93fe00b436e7
2025-10-14 17:35:31 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for b43e3c78-4cee-4ba3-9e11-93fe00b436e7
2025-10-14 17:40:13 - root - INFO - main:75 - ======================================================================
2025-10-14 17:40:13 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:40:13 - root - INFO - main:77 - Mode: both
2025-10-14 17:40:13 - root - INFO - main:78 - ======================================================================
2025-10-14 17:40:13 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:40:13 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:40:13 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:40:13 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:40:13 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:40:14 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 837f72c3-0ee8-4834-8851-e277a1a731d8
2025-10-14 17:40:14 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:40:14 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:40:14 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:40:14 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:40:14 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:40:14 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:147 - Found 518 cases for all years from registry requiring processing.
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:159 - Processing case: a1e09957-d02b-4828-a26a-eea445082932 (1/518)
2025-10-14 17:40:15 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:40:16 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:40:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/miniviewer.html
2025-10-14 17:40:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:40:16 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 231705 bytes
2025-10-14 17:40:17 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.84s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:40:17 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:40:17 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:40:17 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:40:17 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:40:17 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:40:17 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 13 objects from s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:40:17 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 13 files from folder
2025-10-14 17:40:17 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/
2025-10-14 17:40:17 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:40:17 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 13 existing sections for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:40:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/juriscontent.html
2025-10-14 17:40:17 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:40:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_1.txt
2025-10-14 17:40:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_2.txt
2025-10-14 17:40:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_3.txt
2025-10-14 17:40:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_4.txt
2025-10-14 17:40:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_5.txt
2025-10-14 17:40:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_6.txt
2025-10-14 17:40:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_7.txt
2025-10-14 17:40:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_8.txt
2025-10-14 17:40:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_9.txt
2025-10-14 17:40:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_10.txt
2025-10-14 17:40:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_11.txt
2025-10-14 17:40:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_12.txt
2025-10-14 17:40:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1e09957-d02b-4828-a26a-eea445082932/section-level-content/miniviewer_13.txt
2025-10-14 17:40:21 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 13 sections saved
2025-10-14 17:40:21 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.14s for source_id: a1e09957-d02b-4828-a26a-eea445082932
2025-10-14 17:40:21 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:40:21 - src.text_processor - INFO - process_cases:159 - Processing case: 9846fdcf-87ff-4ca5-9359-145d67910dcb (2/518)
2025-10-14 17:40:21 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:40:21 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:40:21 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/miniviewer.html
2025-10-14 17:41:34 - root - INFO - main:75 - ======================================================================
2025-10-14 17:41:34 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:41:34 - root - INFO - main:77 - Mode: both
2025-10-14 17:41:34 - root - INFO - main:78 - ======================================================================
2025-10-14 17:41:34 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:41:34 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:41:34 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:41:34 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:41:34 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:41:34 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: ae41f149-b90a-45dd-877b-171570a10318
2025-10-14 17:41:34 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:41:34 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:41:34 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:41:34 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:41:34 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:41:34 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:41:35 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:41:35 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:41:35 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:41:35 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:41:36 - src.text_processor - INFO - process_cases:147 - Found 517 cases for all years from registry requiring processing.
2025-10-14 17:41:36 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:41:36 - src.text_processor - INFO - process_cases:159 - Processing case: 9846fdcf-87ff-4ca5-9359-145d67910dcb (1/517)
2025-10-14 17:41:36 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:41:36 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:41:37 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/miniviewer.html
2025-10-14 17:41:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:41:39 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 1810750 bytes
2025-10-14 17:41:39 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 2.67s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:41:39 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:41:39 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:41:39 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:41:39 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:41:39 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:41:39 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:41:40 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:41:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:41:40 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 23 sections from 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:41:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_1.txt
2025-10-14 17:41:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_2.txt
2025-10-14 17:41:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_3.txt
2025-10-14 17:41:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_4.txt
2025-10-14 17:41:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_5.txt
2025-10-14 17:41:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_6.txt
2025-10-14 17:41:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_7.txt
2025-10-14 17:41:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_8.txt
2025-10-14 17:41:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_9.txt
2025-10-14 17:41:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_10.txt
2025-10-14 17:41:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_11.txt
2025-10-14 17:41:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_12.txt
2025-10-14 17:41:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_13.txt
2025-10-14 17:41:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_14.txt
2025-10-14 17:41:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_15.txt
2025-10-14 17:41:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_16.txt
2025-10-14 17:41:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_17.txt
2025-10-14 17:41:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_18.txt
2025-10-14 17:41:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_19.txt
2025-10-14 17:41:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_20.txt
2025-10-14 17:41:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_21.txt
2025-10-14 17:41:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_22.txt
2025-10-14 17:41:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_23.txt
2025-10-14 17:41:46 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 23 sections saved
2025-10-14 17:41:46 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 6.48s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:41:46 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:41:46 - src.text_processor - INFO - process_cases:159 - Processing case: b7cd962c-7555-45c9-ae41-168bdc167c38 (2/517)
2025-10-14 17:41:46 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:41:46 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b7cd962c-7555-45c9-ae41-168bdc167c38
2025-10-14 17:41:46 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/miniviewer.html
2025-10-14 17:41:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/juriscontent.html
2025-10-14 17:41:47 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 384768 bytes
2025-10-14 17:41:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.85s for source_id: b7cd962c-7555-45c9-ae41-168bdc167c38
2025-10-14 17:41:47 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for b7cd962c-7555-45c9-ae41-168bdc167c38
2025-10-14 17:41:47 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: b7cd962c-7555-45c9-ae41-168bdc167c38
2025-10-14 17:41:47 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:41:47 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/
2025-10-14 17:41:47 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/
2025-10-14 17:41:47 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:41:47 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: b7cd962c-7555-45c9-ae41-168bdc167c38
2025-10-14 17:41:47 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/juriscontent.html
2025-10-14 17:41:47 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 12 sections from b7cd962c-7555-45c9-ae41-168bdc167c38
2025-10-14 17:41:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_1.txt
2025-10-14 17:41:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_2.txt
2025-10-14 17:41:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_3.txt
2025-10-14 17:41:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_4.txt
2025-10-14 17:41:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_5.txt
2025-10-14 17:41:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_6.txt
2025-10-14 17:41:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_7.txt
2025-10-14 17:41:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_8.txt
2025-10-14 17:41:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_9.txt
2025-10-14 17:41:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_10.txt
2025-10-14 17:41:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_11.txt
2025-10-14 17:41:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b7cd962c-7555-45c9-ae41-168bdc167c38/section-level-content/miniviewer_12.txt
2025-10-14 17:41:50 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 12 sections saved
2025-10-14 17:41:51 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.45s for source_id: b7cd962c-7555-45c9-ae41-168bdc167c38
2025-10-14 17:41:51 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:41:51 - src.text_processor - INFO - process_cases:159 - Processing case: 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41 (3/517)
2025-10-14 17:41:51 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:41:51 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41
2025-10-14 17:41:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/miniviewer.html
2025-10-14 17:41:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/juriscontent.html
2025-10-14 17:41:51 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 81711 bytes
2025-10-14 17:41:51 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.41s for source_id: 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41
2025-10-14 17:41:51 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41
2025-10-14 17:41:52 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41
2025-10-14 17:41:52 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:41:52 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/
2025-10-14 17:41:52 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/
2025-10-14 17:41:52 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:41:52 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41
2025-10-14 17:41:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/juriscontent.html
2025-10-14 17:41:52 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 16 sections from 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41
2025-10-14 17:41:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_1.txt
2025-10-14 17:41:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_2.txt
2025-10-14 17:41:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_3.txt
2025-10-14 17:41:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_4.txt
2025-10-14 17:41:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_5.txt
2025-10-14 17:41:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_6.txt
2025-10-14 17:41:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_7.txt
2025-10-14 17:41:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_8.txt
2025-10-14 17:41:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_9.txt
2025-10-14 17:41:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_10.txt
2025-10-14 17:41:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_11.txt
2025-10-14 17:41:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_12.txt
2025-10-14 17:41:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_13.txt
2025-10-14 17:41:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_14.txt
2025-10-14 17:41:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_15.txt
2025-10-14 17:41:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41/section-level-content/miniviewer_16.txt
2025-10-14 17:41:55 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 16 sections saved
2025-10-14 17:41:56 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.07s for source_id: 3bdcdb98-dfa0-4aa9-8bb4-435f8641bc41
2025-10-14 17:41:56 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:41:56 - src.text_processor - INFO - process_cases:159 - Processing case: 6567a590-cc1a-4756-81a0-e7d335b2bf03 (4/517)
2025-10-14 17:41:56 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:41:56 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6567a590-cc1a-4756-81a0-e7d335b2bf03
2025-10-14 17:41:56 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/miniviewer.html
2025-10-14 17:42:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/juriscontent.html
2025-10-14 17:42:01 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 2532963 bytes
2025-10-14 17:42:01 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 5.11s for source_id: 6567a590-cc1a-4756-81a0-e7d335b2bf03
2025-10-14 17:42:01 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 6567a590-cc1a-4756-81a0-e7d335b2bf03
2025-10-14 17:42:01 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 6567a590-cc1a-4756-81a0-e7d335b2bf03
2025-10-14 17:42:01 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:01 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/
2025-10-14 17:42:01 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/
2025-10-14 17:42:01 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:01 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 6567a590-cc1a-4756-81a0-e7d335b2bf03
2025-10-14 17:42:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/juriscontent.html
2025-10-14 17:42:02 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 135 sections from 6567a590-cc1a-4756-81a0-e7d335b2bf03
2025-10-14 17:42:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_1.txt
2025-10-14 17:42:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_2.txt
2025-10-14 17:42:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_3.txt
2025-10-14 17:42:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_4.txt
2025-10-14 17:42:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_5.txt
2025-10-14 17:42:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_6.txt
2025-10-14 17:42:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_7.txt
2025-10-14 17:42:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_8.txt
2025-10-14 17:42:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_9.txt
2025-10-14 17:42:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_10.txt
2025-10-14 17:42:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_11.txt
2025-10-14 17:42:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_12.txt
2025-10-14 17:42:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_13.txt
2025-10-14 17:42:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_14.txt
2025-10-14 17:42:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_15.txt
2025-10-14 17:42:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_16.txt
2025-10-14 17:42:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_17.txt
2025-10-14 17:42:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_18.txt
2025-10-14 17:42:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_19.txt
2025-10-14 17:42:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_20.txt
2025-10-14 17:42:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_21.txt
2025-10-14 17:42:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_22.txt
2025-10-14 17:42:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_23.txt
2025-10-14 17:42:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_24.txt
2025-10-14 17:42:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_25.txt
2025-10-14 17:42:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_26.txt
2025-10-14 17:42:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_27.txt
2025-10-14 17:42:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_28.txt
2025-10-14 17:42:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_29.txt
2025-10-14 17:42:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_30.txt
2025-10-14 17:42:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_31.txt
2025-10-14 17:42:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_32.txt
2025-10-14 17:42:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_33.txt
2025-10-14 17:42:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_34.txt
2025-10-14 17:42:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_35.txt
2025-10-14 17:42:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_36.txt
2025-10-14 17:42:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_37.txt
2025-10-14 17:42:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_38.txt
2025-10-14 17:42:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_39.txt
2025-10-14 17:42:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_40.txt
2025-10-14 17:42:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_41.txt
2025-10-14 17:42:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_42.txt
2025-10-14 17:42:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_43.txt
2025-10-14 17:42:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_44.txt
2025-10-14 17:42:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_45.txt
2025-10-14 17:42:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_46.txt
2025-10-14 17:42:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_47.txt
2025-10-14 17:42:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_48.txt
2025-10-14 17:42:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_49.txt
2025-10-14 17:42:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_50.txt
2025-10-14 17:42:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_51.txt
2025-10-14 17:42:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_52.txt
2025-10-14 17:42:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_53.txt
2025-10-14 17:42:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_54.txt
2025-10-14 17:42:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_55.txt
2025-10-14 17:42:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_56.txt
2025-10-14 17:42:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_57.txt
2025-10-14 17:42:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_58.txt
2025-10-14 17:42:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_59.txt
2025-10-14 17:42:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_60.txt
2025-10-14 17:42:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_61.txt
2025-10-14 17:42:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_62.txt
2025-10-14 17:42:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_63.txt
2025-10-14 17:42:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_64.txt
2025-10-14 17:42:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_65.txt
2025-10-14 17:42:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_66.txt
2025-10-14 17:42:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_67.txt
2025-10-14 17:42:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_68.txt
2025-10-14 17:42:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_69.txt
2025-10-14 17:42:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_70.txt
2025-10-14 17:42:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_71.txt
2025-10-14 17:42:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_72.txt
2025-10-14 17:42:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_73.txt
2025-10-14 17:42:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_74.txt
2025-10-14 17:42:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_75.txt
2025-10-14 17:42:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_76.txt
2025-10-14 17:42:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_77.txt
2025-10-14 17:42:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_78.txt
2025-10-14 17:42:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_79.txt
2025-10-14 17:42:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_80.txt
2025-10-14 17:42:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_81.txt
2025-10-14 17:42:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_82.txt
2025-10-14 17:42:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_83.txt
2025-10-14 17:42:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_84.txt
2025-10-14 17:42:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_85.txt
2025-10-14 17:42:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_86.txt
2025-10-14 17:42:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_87.txt
2025-10-14 17:42:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_88.txt
2025-10-14 17:42:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_89.txt
2025-10-14 17:42:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_90.txt
2025-10-14 17:42:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_91.txt
2025-10-14 17:42:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_92.txt
2025-10-14 17:42:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_93.txt
2025-10-14 17:42:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_94.txt
2025-10-14 17:42:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_95.txt
2025-10-14 17:42:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_96.txt
2025-10-14 17:42:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_97.txt
2025-10-14 17:42:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_98.txt
2025-10-14 17:42:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_99.txt
2025-10-14 17:42:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_100.txt
2025-10-14 17:42:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_101.txt
2025-10-14 17:42:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_102.txt
2025-10-14 17:42:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_103.txt
2025-10-14 17:42:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_104.txt
2025-10-14 17:42:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_105.txt
2025-10-14 17:42:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_106.txt
2025-10-14 17:42:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_107.txt
2025-10-14 17:42:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_108.txt
2025-10-14 17:42:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_109.txt
2025-10-14 17:42:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_110.txt
2025-10-14 17:42:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_111.txt
2025-10-14 17:42:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_112.txt
2025-10-14 17:42:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_113.txt
2025-10-14 17:42:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_114.txt
2025-10-14 17:42:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_115.txt
2025-10-14 17:42:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_116.txt
2025-10-14 17:42:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_117.txt
2025-10-14 17:42:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_118.txt
2025-10-14 17:42:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_119.txt
2025-10-14 17:42:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_120.txt
2025-10-14 17:42:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_121.txt
2025-10-14 17:42:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_122.txt
2025-10-14 17:42:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_123.txt
2025-10-14 17:42:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_124.txt
2025-10-14 17:42:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_125.txt
2025-10-14 17:42:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_126.txt
2025-10-14 17:42:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_127.txt
2025-10-14 17:42:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_128.txt
2025-10-14 17:42:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_129.txt
2025-10-14 17:42:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_130.txt
2025-10-14 17:42:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_131.txt
2025-10-14 17:42:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_132.txt
2025-10-14 17:42:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_133.txt
2025-10-14 17:42:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_134.txt
2025-10-14 17:42:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6567a590-cc1a-4756-81a0-e7d335b2bf03/section-level-content/miniviewer_135.txt
2025-10-14 17:42:33 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 135 sections saved
2025-10-14 17:42:34 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 32.40s for source_id: 6567a590-cc1a-4756-81a0-e7d335b2bf03
2025-10-14 17:42:34 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:42:34 - src.text_processor - INFO - process_cases:159 - Processing case: 8ddb55b4-3760-4905-92ab-14e8024dcb20 (5/517)
2025-10-14 17:42:34 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:42:34 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 8ddb55b4-3760-4905-92ab-14e8024dcb20
2025-10-14 17:42:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/miniviewer.html
2025-10-14 17:42:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/juriscontent.html
2025-10-14 17:42:34 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 71984 bytes
2025-10-14 17:42:34 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.44s for source_id: 8ddb55b4-3760-4905-92ab-14e8024dcb20
2025-10-14 17:42:34 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 8ddb55b4-3760-4905-92ab-14e8024dcb20
2025-10-14 17:42:34 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 8ddb55b4-3760-4905-92ab-14e8024dcb20
2025-10-14 17:42:34 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:34 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/section-level-content/
2025-10-14 17:42:34 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/section-level-content/
2025-10-14 17:42:34 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:35 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 8ddb55b4-3760-4905-92ab-14e8024dcb20
2025-10-14 17:42:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/juriscontent.html
2025-10-14 17:42:35 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 5 sections from 8ddb55b4-3760-4905-92ab-14e8024dcb20
2025-10-14 17:42:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/section-level-content/miniviewer_1.txt
2025-10-14 17:42:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/section-level-content/miniviewer_2.txt
2025-10-14 17:42:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/section-level-content/miniviewer_3.txt
2025-10-14 17:42:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/section-level-content/miniviewer_4.txt
2025-10-14 17:42:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ddb55b4-3760-4905-92ab-14e8024dcb20/section-level-content/miniviewer_5.txt
2025-10-14 17:42:36 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-14 17:42:36 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.66s for source_id: 8ddb55b4-3760-4905-92ab-14e8024dcb20
2025-10-14 17:42:36 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:42:36 - src.text_processor - INFO - process_cases:159 - Processing case: cc814319-fe0c-4d9d-9335-5cafc7e2fede (6/517)
2025-10-14 17:42:36 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:42:36 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for cc814319-fe0c-4d9d-9335-5cafc7e2fede
2025-10-14 17:42:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/miniviewer.html
2025-10-14 17:42:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/juriscontent.html
2025-10-14 17:42:37 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 226786 bytes
2025-10-14 17:42:37 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.63s for source_id: cc814319-fe0c-4d9d-9335-5cafc7e2fede
2025-10-14 17:42:37 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for cc814319-fe0c-4d9d-9335-5cafc7e2fede
2025-10-14 17:42:37 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: cc814319-fe0c-4d9d-9335-5cafc7e2fede
2025-10-14 17:42:37 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:37 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/
2025-10-14 17:42:37 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/
2025-10-14 17:42:37 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:37 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: cc814319-fe0c-4d9d-9335-5cafc7e2fede
2025-10-14 17:42:37 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/juriscontent.html
2025-10-14 17:42:38 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 7 sections from cc814319-fe0c-4d9d-9335-5cafc7e2fede
2025-10-14 17:42:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/miniviewer_1.txt
2025-10-14 17:42:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/miniviewer_2.txt
2025-10-14 17:42:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/miniviewer_3.txt
2025-10-14 17:42:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/miniviewer_4.txt
2025-10-14 17:42:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/miniviewer_5.txt
2025-10-14 17:42:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/miniviewer_6.txt
2025-10-14 17:42:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/cc814319-fe0c-4d9d-9335-5cafc7e2fede/section-level-content/miniviewer_7.txt
2025-10-14 17:42:39 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 7 sections saved
2025-10-14 17:42:39 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.22s for source_id: cc814319-fe0c-4d9d-9335-5cafc7e2fede
2025-10-14 17:42:39 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:42:39 - src.text_processor - INFO - process_cases:159 - Processing case: 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16 (7/517)
2025-10-14 17:42:39 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:42:40 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16
2025-10-14 17:42:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/miniviewer.html
2025-10-14 17:42:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/juriscontent.html
2025-10-14 17:42:40 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 113170 bytes
2025-10-14 17:42:40 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.45s for source_id: 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16
2025-10-14 17:42:40 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16
2025-10-14 17:42:40 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16
2025-10-14 17:42:40 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:40 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/
2025-10-14 17:42:40 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/
2025-10-14 17:42:40 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:40 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16
2025-10-14 17:42:41 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/juriscontent.html
2025-10-14 17:42:41 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 8 sections from 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16
2025-10-14 17:42:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_1.txt
2025-10-14 17:42:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_2.txt
2025-10-14 17:42:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_3.txt
2025-10-14 17:42:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_4.txt
2025-10-14 17:42:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_5.txt
2025-10-14 17:42:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_6.txt
2025-10-14 17:42:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_7.txt
2025-10-14 17:42:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16/section-level-content/miniviewer_8.txt
2025-10-14 17:42:43 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 8 sections saved
2025-10-14 17:42:43 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.36s for source_id: 19c37c1f-a4d0-4be9-8367-e4b0a3ccbe16
2025-10-14 17:42:43 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:42:43 - src.text_processor - INFO - process_cases:159 - Processing case: 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577 (8/517)
2025-10-14 17:42:43 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:42:43 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577
2025-10-14 17:42:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/miniviewer.html
2025-10-14 17:42:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/juriscontent.html
2025-10-14 17:42:43 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 113680 bytes
2025-10-14 17:42:43 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.44s for source_id: 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577
2025-10-14 17:42:43 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577
2025-10-14 17:42:44 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577
2025-10-14 17:42:44 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:44 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/
2025-10-14 17:42:44 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/
2025-10-14 17:42:44 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:44 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577
2025-10-14 17:42:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/juriscontent.html
2025-10-14 17:42:44 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 11 sections from 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577
2025-10-14 17:42:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_1.txt
2025-10-14 17:42:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_2.txt
2025-10-14 17:42:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_3.txt
2025-10-14 17:42:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_4.txt
2025-10-14 17:42:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_5.txt
2025-10-14 17:42:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_6.txt
2025-10-14 17:42:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_7.txt
2025-10-14 17:42:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_8.txt
2025-10-14 17:42:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_9.txt
2025-10-14 17:42:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_10.txt
2025-10-14 17:42:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577/section-level-content/miniviewer_11.txt
2025-10-14 17:42:46 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 11 sections saved
2025-10-14 17:42:47 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.03s for source_id: 9f5a5797-ebdd-414b-8cc3-5a6d3ca2d577
2025-10-14 17:42:47 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:42:47 - src.text_processor - INFO - process_cases:159 - Processing case: 299c405e-0f68-4262-af4b-a750e4b96dcb (9/517)
2025-10-14 17:42:47 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:42:47 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 299c405e-0f68-4262-af4b-a750e4b96dcb
2025-10-14 17:42:47 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/miniviewer.html
2025-10-14 17:42:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/juriscontent.html
2025-10-14 17:42:47 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 153449 bytes
2025-10-14 17:42:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.50s for source_id: 299c405e-0f68-4262-af4b-a750e4b96dcb
2025-10-14 17:42:47 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 299c405e-0f68-4262-af4b-a750e4b96dcb
2025-10-14 17:42:48 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 299c405e-0f68-4262-af4b-a750e4b96dcb
2025-10-14 17:42:48 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:48 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/
2025-10-14 17:42:48 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/
2025-10-14 17:42:48 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:48 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 299c405e-0f68-4262-af4b-a750e4b96dcb
2025-10-14 17:42:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/juriscontent.html
2025-10-14 17:42:48 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 6 sections from 299c405e-0f68-4262-af4b-a750e4b96dcb
2025-10-14 17:42:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/miniviewer_1.txt
2025-10-14 17:42:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/miniviewer_2.txt
2025-10-14 17:42:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/miniviewer_3.txt
2025-10-14 17:42:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/miniviewer_4.txt
2025-10-14 17:42:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/miniviewer_5.txt
2025-10-14 17:42:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/299c405e-0f68-4262-af4b-a750e4b96dcb/section-level-content/miniviewer_6.txt
2025-10-14 17:42:49 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 6 sections saved
2025-10-14 17:42:49 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.91s for source_id: 299c405e-0f68-4262-af4b-a750e4b96dcb
2025-10-14 17:42:49 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:42:49 - src.text_processor - INFO - process_cases:159 - Processing case: 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34 (10/517)
2025-10-14 17:42:49 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:42:50 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34
2025-10-14 17:42:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/miniviewer.html
2025-10-14 17:42:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/juriscontent.html
2025-10-14 17:42:50 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 139085 bytes
2025-10-14 17:42:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.54s for source_id: 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34
2025-10-14 17:42:50 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34
2025-10-14 17:42:50 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34
2025-10-14 17:42:50 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:51 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/
2025-10-14 17:42:51 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/
2025-10-14 17:42:51 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:51 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34
2025-10-14 17:42:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/juriscontent.html
2025-10-14 17:42:51 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 13 sections from 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34
2025-10-14 17:42:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_1.txt
2025-10-14 17:42:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_2.txt
2025-10-14 17:42:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_3.txt
2025-10-14 17:42:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_4.txt
2025-10-14 17:42:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_5.txt
2025-10-14 17:42:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_6.txt
2025-10-14 17:42:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_7.txt
2025-10-14 17:42:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_8.txt
2025-10-14 17:42:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_9.txt
2025-10-14 17:42:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_10.txt
2025-10-14 17:42:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_11.txt
2025-10-14 17:42:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_12.txt
2025-10-14 17:42:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34/section-level-content/miniviewer_13.txt
2025-10-14 17:42:54 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 13 sections saved
2025-10-14 17:42:54 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.61s for source_id: 33c8f89b-1dae-4b32-b4bc-ba1bf7ab4b34
2025-10-14 17:42:54 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:42:54 - src.text_processor - INFO - process_cases:159 - Processing case: 7465e700-b210-4ec5-9f8e-ebcd3a8581ec (11/517)
2025-10-14 17:42:54 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:42:54 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7465e700-b210-4ec5-9f8e-ebcd3a8581ec
2025-10-14 17:42:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/miniviewer.html
2025-10-14 17:42:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/juriscontent.html
2025-10-14 17:42:56 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 849559 bytes
2025-10-14 17:42:56 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.58s for source_id: 7465e700-b210-4ec5-9f8e-ebcd3a8581ec
2025-10-14 17:42:56 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 7465e700-b210-4ec5-9f8e-ebcd3a8581ec
2025-10-14 17:42:56 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 7465e700-b210-4ec5-9f8e-ebcd3a8581ec
2025-10-14 17:42:56 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:42:56 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/
2025-10-14 17:42:56 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/
2025-10-14 17:42:56 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:42:56 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 7465e700-b210-4ec5-9f8e-ebcd3a8581ec
2025-10-14 17:42:57 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/juriscontent.html
2025-10-14 17:42:57 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 54 sections from 7465e700-b210-4ec5-9f8e-ebcd3a8581ec
2025-10-14 17:42:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_1.txt
2025-10-14 17:42:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_2.txt
2025-10-14 17:42:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_3.txt
2025-10-14 17:42:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_4.txt
2025-10-14 17:42:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_5.txt
2025-10-14 17:42:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_6.txt
2025-10-14 17:42:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_7.txt
2025-10-14 17:42:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_8.txt
2025-10-14 17:42:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_9.txt
2025-10-14 17:42:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_10.txt
2025-10-14 17:42:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_11.txt
2025-10-14 17:43:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_12.txt
2025-10-14 17:43:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_13.txt
2025-10-14 17:43:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_14.txt
2025-10-14 17:43:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_15.txt
2025-10-14 17:43:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_16.txt
2025-10-14 17:43:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_17.txt
2025-10-14 17:43:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_18.txt
2025-10-14 17:43:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_19.txt
2025-10-14 17:43:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_20.txt
2025-10-14 17:43:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_21.txt
2025-10-14 17:43:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_22.txt
2025-10-14 17:43:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_23.txt
2025-10-14 17:43:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_24.txt
2025-10-14 17:43:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_25.txt
2025-10-14 17:43:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_26.txt
2025-10-14 17:43:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_27.txt
2025-10-14 17:43:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_28.txt
2025-10-14 17:43:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_29.txt
2025-10-14 17:43:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_30.txt
2025-10-14 17:43:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_31.txt
2025-10-14 17:43:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_32.txt
2025-10-14 17:43:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_33.txt
2025-10-14 17:43:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_34.txt
2025-10-14 17:43:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_35.txt
2025-10-14 17:43:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_36.txt
2025-10-14 17:43:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_37.txt
2025-10-14 17:43:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_38.txt
2025-10-14 17:43:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_39.txt
2025-10-14 17:43:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_40.txt
2025-10-14 17:43:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_41.txt
2025-10-14 17:43:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_42.txt
2025-10-14 17:43:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_43.txt
2025-10-14 17:43:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_44.txt
2025-10-14 17:43:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_45.txt
2025-10-14 17:43:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_46.txt
2025-10-14 17:43:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_47.txt
2025-10-14 17:43:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_48.txt
2025-10-14 17:43:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_49.txt
2025-10-14 17:43:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_50.txt
2025-10-14 17:43:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_51.txt
2025-10-14 17:43:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_52.txt
2025-10-14 17:43:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_53.txt
2025-10-14 17:43:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7465e700-b210-4ec5-9f8e-ebcd3a8581ec/section-level-content/miniviewer_54.txt
2025-10-14 17:43:10 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 54 sections saved
2025-10-14 17:43:10 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 13.88s for source_id: 7465e700-b210-4ec5-9f8e-ebcd3a8581ec
2025-10-14 17:43:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:10 - src.text_processor - INFO - process_cases:159 - Processing case: 66bfa1a8-892a-42a6-840e-d14bd1102151 (12/517)
2025-10-14 17:43:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 66bfa1a8-892a-42a6-840e-d14bd1102151
2025-10-14 17:43:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/miniviewer.html
2025-10-14 17:43:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/juriscontent.html
2025-10-14 17:43:11 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 157069 bytes
2025-10-14 17:43:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.56s for source_id: 66bfa1a8-892a-42a6-840e-d14bd1102151
2025-10-14 17:43:11 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 66bfa1a8-892a-42a6-840e-d14bd1102151
2025-10-14 17:43:11 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 66bfa1a8-892a-42a6-840e-d14bd1102151
2025-10-14 17:43:11 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:11 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/
2025-10-14 17:43:11 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/
2025-10-14 17:43:11 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:11 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 66bfa1a8-892a-42a6-840e-d14bd1102151
2025-10-14 17:43:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/juriscontent.html
2025-10-14 17:43:11 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 15 sections from 66bfa1a8-892a-42a6-840e-d14bd1102151
2025-10-14 17:43:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_1.txt
2025-10-14 17:43:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_2.txt
2025-10-14 17:43:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_3.txt
2025-10-14 17:43:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_4.txt
2025-10-14 17:43:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_5.txt
2025-10-14 17:43:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_6.txt
2025-10-14 17:43:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_7.txt
2025-10-14 17:43:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_8.txt
2025-10-14 17:43:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_9.txt
2025-10-14 17:43:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_10.txt
2025-10-14 17:43:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_11.txt
2025-10-14 17:43:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_12.txt
2025-10-14 17:43:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_13.txt
2025-10-14 17:43:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_14.txt
2025-10-14 17:43:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/66bfa1a8-892a-42a6-840e-d14bd1102151/section-level-content/miniviewer_15.txt
2025-10-14 17:43:15 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 15 sections saved
2025-10-14 17:43:15 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.97s for source_id: 66bfa1a8-892a-42a6-840e-d14bd1102151
2025-10-14 17:43:15 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:15 - src.text_processor - INFO - process_cases:159 - Processing case: e88e65b8-787c-4246-8f43-77a36ecbf4c0 (13/517)
2025-10-14 17:43:15 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:15 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for e88e65b8-787c-4246-8f43-77a36ecbf4c0
2025-10-14 17:43:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/miniviewer.html
2025-10-14 17:43:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/juriscontent.html
2025-10-14 17:43:16 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 184254 bytes
2025-10-14 17:43:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.59s for source_id: e88e65b8-787c-4246-8f43-77a36ecbf4c0
2025-10-14 17:43:16 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for e88e65b8-787c-4246-8f43-77a36ecbf4c0
2025-10-14 17:43:16 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: e88e65b8-787c-4246-8f43-77a36ecbf4c0
2025-10-14 17:43:16 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:16 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/
2025-10-14 17:43:16 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/
2025-10-14 17:43:16 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:16 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: e88e65b8-787c-4246-8f43-77a36ecbf4c0
2025-10-14 17:43:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/juriscontent.html
2025-10-14 17:43:16 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 21 sections from e88e65b8-787c-4246-8f43-77a36ecbf4c0
2025-10-14 17:43:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_1.txt
2025-10-14 17:43:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_2.txt
2025-10-14 17:43:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_3.txt
2025-10-14 17:43:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_4.txt
2025-10-14 17:43:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_5.txt
2025-10-14 17:43:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_6.txt
2025-10-14 17:43:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_7.txt
2025-10-14 17:43:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_8.txt
2025-10-14 17:43:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_9.txt
2025-10-14 17:43:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_10.txt
2025-10-14 17:43:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_11.txt
2025-10-14 17:43:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_12.txt
2025-10-14 17:43:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_13.txt
2025-10-14 17:43:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_14.txt
2025-10-14 17:43:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_15.txt
2025-10-14 17:43:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_16.txt
2025-10-14 17:43:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_17.txt
2025-10-14 17:43:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_18.txt
2025-10-14 17:43:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_19.txt
2025-10-14 17:43:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_20.txt
2025-10-14 17:43:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/e88e65b8-787c-4246-8f43-77a36ecbf4c0/section-level-content/miniviewer_21.txt
2025-10-14 17:43:22 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 21 sections saved
2025-10-14 17:43:22 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 5.56s for source_id: e88e65b8-787c-4246-8f43-77a36ecbf4c0
2025-10-14 17:43:22 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:22 - src.text_processor - INFO - process_cases:159 - Processing case: c6bd6662-a4a4-4b89-9803-ed9dbfa06397 (14/517)
2025-10-14 17:43:22 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:22 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c6bd6662-a4a4-4b89-9803-ed9dbfa06397
2025-10-14 17:43:22 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/miniviewer.html
2025-10-14 17:43:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/juriscontent.html
2025-10-14 17:43:23 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 154260 bytes
2025-10-14 17:43:23 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.69s for source_id: c6bd6662-a4a4-4b89-9803-ed9dbfa06397
2025-10-14 17:43:23 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for c6bd6662-a4a4-4b89-9803-ed9dbfa06397
2025-10-14 17:43:23 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: c6bd6662-a4a4-4b89-9803-ed9dbfa06397
2025-10-14 17:43:23 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:23 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/
2025-10-14 17:43:23 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/
2025-10-14 17:43:23 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:23 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: c6bd6662-a4a4-4b89-9803-ed9dbfa06397
2025-10-14 17:43:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/juriscontent.html
2025-10-14 17:43:23 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 12 sections from c6bd6662-a4a4-4b89-9803-ed9dbfa06397
2025-10-14 17:43:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_1.txt
2025-10-14 17:43:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_2.txt
2025-10-14 17:43:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_3.txt
2025-10-14 17:43:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_4.txt
2025-10-14 17:43:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_5.txt
2025-10-14 17:43:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_6.txt
2025-10-14 17:43:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_7.txt
2025-10-14 17:43:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_8.txt
2025-10-14 17:43:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_9.txt
2025-10-14 17:43:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_10.txt
2025-10-14 17:43:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_11.txt
2025-10-14 17:43:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c6bd6662-a4a4-4b89-9803-ed9dbfa06397/section-level-content/miniviewer_12.txt
2025-10-14 17:43:26 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 12 sections saved
2025-10-14 17:43:26 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.39s for source_id: c6bd6662-a4a4-4b89-9803-ed9dbfa06397
2025-10-14 17:43:26 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:26 - src.text_processor - INFO - process_cases:159 - Processing case: 6756a524-c282-4b41-bba6-6f6329db903a (15/517)
2025-10-14 17:43:26 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:26 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6756a524-c282-4b41-bba6-6f6329db903a
2025-10-14 17:43:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/miniviewer.html
2025-10-14 17:43:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/juriscontent.html
2025-10-14 17:43:27 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 102432 bytes
2025-10-14 17:43:27 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.44s for source_id: 6756a524-c282-4b41-bba6-6f6329db903a
2025-10-14 17:43:27 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 6756a524-c282-4b41-bba6-6f6329db903a
2025-10-14 17:43:27 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 6756a524-c282-4b41-bba6-6f6329db903a
2025-10-14 17:43:27 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:27 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/
2025-10-14 17:43:27 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/
2025-10-14 17:43:27 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:27 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 6756a524-c282-4b41-bba6-6f6329db903a
2025-10-14 17:43:27 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/juriscontent.html
2025-10-14 17:43:27 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 15 sections from 6756a524-c282-4b41-bba6-6f6329db903a
2025-10-14 17:43:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_1.txt
2025-10-14 17:43:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_2.txt
2025-10-14 17:43:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_3.txt
2025-10-14 17:43:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_4.txt
2025-10-14 17:43:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_5.txt
2025-10-14 17:43:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_6.txt
2025-10-14 17:43:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_7.txt
2025-10-14 17:43:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_8.txt
2025-10-14 17:43:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_9.txt
2025-10-14 17:43:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_10.txt
2025-10-14 17:43:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_11.txt
2025-10-14 17:43:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_12.txt
2025-10-14 17:43:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_13.txt
2025-10-14 17:43:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_14.txt
2025-10-14 17:43:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6756a524-c282-4b41-bba6-6f6329db903a/section-level-content/miniviewer_15.txt
2025-10-14 17:43:31 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 15 sections saved
2025-10-14 17:43:31 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.95s for source_id: 6756a524-c282-4b41-bba6-6f6329db903a
2025-10-14 17:43:31 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:31 - src.text_processor - INFO - process_cases:159 - Processing case: 8ac88a7b-0352-4a97-a512-2d3b412184a6 (16/517)
2025-10-14 17:43:31 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:31 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 8ac88a7b-0352-4a97-a512-2d3b412184a6
2025-10-14 17:43:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/miniviewer.html
2025-10-14 17:43:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/juriscontent.html
2025-10-14 17:43:32 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 56266 bytes
2025-10-14 17:43:32 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.30s for source_id: 8ac88a7b-0352-4a97-a512-2d3b412184a6
2025-10-14 17:43:32 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 8ac88a7b-0352-4a97-a512-2d3b412184a6
2025-10-14 17:43:32 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 8ac88a7b-0352-4a97-a512-2d3b412184a6
2025-10-14 17:43:32 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:32 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/section-level-content/
2025-10-14 17:43:32 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/section-level-content/
2025-10-14 17:43:32 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:32 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 8ac88a7b-0352-4a97-a512-2d3b412184a6
2025-10-14 17:43:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/juriscontent.html
2025-10-14 17:43:32 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 5 sections from 8ac88a7b-0352-4a97-a512-2d3b412184a6
2025-10-14 17:43:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/section-level-content/miniviewer_1.txt
2025-10-14 17:43:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/section-level-content/miniviewer_2.txt
2025-10-14 17:43:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/section-level-content/miniviewer_3.txt
2025-10-14 17:43:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/section-level-content/miniviewer_4.txt
2025-10-14 17:43:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/8ac88a7b-0352-4a97-a512-2d3b412184a6/section-level-content/miniviewer_5.txt
2025-10-14 17:43:33 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-14 17:43:33 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.52s for source_id: 8ac88a7b-0352-4a97-a512-2d3b412184a6
2025-10-14 17:43:33 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:33 - src.text_processor - INFO - process_cases:159 - Processing case: 17c966f7-40a8-4111-bd8b-7b57924f6edc (17/517)
2025-10-14 17:43:33 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:33 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 17c966f7-40a8-4111-bd8b-7b57924f6edc
2025-10-14 17:43:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/miniviewer.html
2025-10-14 17:43:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/juriscontent.html
2025-10-14 17:43:35 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 448072 bytes
2025-10-14 17:43:35 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.05s for source_id: 17c966f7-40a8-4111-bd8b-7b57924f6edc
2025-10-14 17:43:35 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 17c966f7-40a8-4111-bd8b-7b57924f6edc
2025-10-14 17:43:35 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 17c966f7-40a8-4111-bd8b-7b57924f6edc
2025-10-14 17:43:35 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:35 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/
2025-10-14 17:43:35 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/
2025-10-14 17:43:35 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:35 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 17c966f7-40a8-4111-bd8b-7b57924f6edc
2025-10-14 17:43:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/juriscontent.html
2025-10-14 17:43:35 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 19 sections from 17c966f7-40a8-4111-bd8b-7b57924f6edc
2025-10-14 17:43:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_1.txt
2025-10-14 17:43:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_2.txt
2025-10-14 17:43:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_3.txt
2025-10-14 17:43:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_4.txt
2025-10-14 17:43:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_5.txt
2025-10-14 17:43:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_6.txt
2025-10-14 17:43:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_7.txt
2025-10-14 17:43:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_8.txt
2025-10-14 17:43:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_9.txt
2025-10-14 17:43:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_10.txt
2025-10-14 17:43:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_11.txt
2025-10-14 17:43:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_12.txt
2025-10-14 17:43:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_13.txt
2025-10-14 17:43:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_14.txt
2025-10-14 17:43:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_15.txt
2025-10-14 17:43:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_16.txt
2025-10-14 17:43:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_17.txt
2025-10-14 17:43:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_18.txt
2025-10-14 17:43:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/17c966f7-40a8-4111-bd8b-7b57924f6edc/section-level-content/miniviewer_19.txt
2025-10-14 17:43:40 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 19 sections saved
2025-10-14 17:43:40 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 5.15s for source_id: 17c966f7-40a8-4111-bd8b-7b57924f6edc
2025-10-14 17:43:40 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:40 - src.text_processor - INFO - process_cases:159 - Processing case: da9aaa6f-ffd1-4996-a184-2b7d8a42f309 (18/517)
2025-10-14 17:43:40 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:40 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for da9aaa6f-ffd1-4996-a184-2b7d8a42f309
2025-10-14 17:43:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/miniviewer.html
2025-10-14 17:43:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/juriscontent.html
2025-10-14 17:43:41 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 248817 bytes
2025-10-14 17:43:41 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.65s for source_id: da9aaa6f-ffd1-4996-a184-2b7d8a42f309
2025-10-14 17:43:41 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for da9aaa6f-ffd1-4996-a184-2b7d8a42f309
2025-10-14 17:43:41 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: da9aaa6f-ffd1-4996-a184-2b7d8a42f309
2025-10-14 17:43:41 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:41 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/
2025-10-14 17:43:41 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/
2025-10-14 17:43:41 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:41 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: da9aaa6f-ffd1-4996-a184-2b7d8a42f309
2025-10-14 17:43:41 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/juriscontent.html
2025-10-14 17:43:41 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 22 sections from da9aaa6f-ffd1-4996-a184-2b7d8a42f309
2025-10-14 17:43:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_1.txt
2025-10-14 17:43:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_2.txt
2025-10-14 17:43:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_3.txt
2025-10-14 17:43:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_4.txt
2025-10-14 17:43:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_5.txt
2025-10-14 17:43:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_6.txt
2025-10-14 17:43:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_7.txt
2025-10-14 17:43:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_8.txt
2025-10-14 17:43:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_9.txt
2025-10-14 17:43:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_10.txt
2025-10-14 17:43:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_11.txt
2025-10-14 17:43:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_12.txt
2025-10-14 17:43:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_13.txt
2025-10-14 17:43:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_14.txt
2025-10-14 17:43:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_15.txt
2025-10-14 17:43:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_16.txt
2025-10-14 17:43:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_17.txt
2025-10-14 17:43:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_18.txt
2025-10-14 17:43:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_19.txt
2025-10-14 17:43:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_20.txt
2025-10-14 17:43:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_21.txt
2025-10-14 17:43:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/da9aaa6f-ffd1-4996-a184-2b7d8a42f309/section-level-content/miniviewer_22.txt
2025-10-14 17:43:47 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 22 sections saved
2025-10-14 17:43:47 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 5.80s for source_id: da9aaa6f-ffd1-4996-a184-2b7d8a42f309
2025-10-14 17:43:47 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:47 - src.text_processor - INFO - process_cases:159 - Processing case: c10cfaf6-57cd-45e3-90b1-6c447eb5e93c (19/517)
2025-10-14 17:43:47 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:47 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c10cfaf6-57cd-45e3-90b1-6c447eb5e93c
2025-10-14 17:43:47 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/miniviewer.html
2025-10-14 17:43:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/juriscontent.html
2025-10-14 17:43:47 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 78948 bytes
2025-10-14 17:43:48 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.39s for source_id: c10cfaf6-57cd-45e3-90b1-6c447eb5e93c
2025-10-14 17:43:48 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for c10cfaf6-57cd-45e3-90b1-6c447eb5e93c
2025-10-14 17:43:48 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: c10cfaf6-57cd-45e3-90b1-6c447eb5e93c
2025-10-14 17:43:48 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:48 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/section-level-content/
2025-10-14 17:43:48 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/section-level-content/
2025-10-14 17:43:48 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:48 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: c10cfaf6-57cd-45e3-90b1-6c447eb5e93c
2025-10-14 17:43:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/juriscontent.html
2025-10-14 17:43:48 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 5 sections from c10cfaf6-57cd-45e3-90b1-6c447eb5e93c
2025-10-14 17:43:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/section-level-content/miniviewer_1.txt
2025-10-14 17:43:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/section-level-content/miniviewer_2.txt
2025-10-14 17:43:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/section-level-content/miniviewer_3.txt
2025-10-14 17:43:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/section-level-content/miniviewer_4.txt
2025-10-14 17:43:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c10cfaf6-57cd-45e3-90b1-6c447eb5e93c/section-level-content/miniviewer_5.txt
2025-10-14 17:43:49 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-14 17:43:49 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.63s for source_id: c10cfaf6-57cd-45e3-90b1-6c447eb5e93c
2025-10-14 17:43:49 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:49 - src.text_processor - INFO - process_cases:159 - Processing case: 303f0353-2f4c-4393-99d7-6f9f9e773bce (20/517)
2025-10-14 17:43:49 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:50 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 303f0353-2f4c-4393-99d7-6f9f9e773bce
2025-10-14 17:43:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/303f0353-2f4c-4393-99d7-6f9f9e773bce/miniviewer.html
2025-10-14 17:43:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/303f0353-2f4c-4393-99d7-6f9f9e773bce/juriscontent.html
2025-10-14 17:43:50 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 327637 bytes
2025-10-14 17:43:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.74s for source_id: 303f0353-2f4c-4393-99d7-6f9f9e773bce
2025-10-14 17:43:50 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 303f0353-2f4c-4393-99d7-6f9f9e773bce
2025-10-14 17:43:50 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 303f0353-2f4c-4393-99d7-6f9f9e773bce
2025-10-14 17:43:50 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:51 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/303f0353-2f4c-4393-99d7-6f9f9e773bce/section-level-content/
2025-10-14 17:43:51 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/303f0353-2f4c-4393-99d7-6f9f9e773bce/section-level-content/
2025-10-14 17:43:51 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:51 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 303f0353-2f4c-4393-99d7-6f9f9e773bce
2025-10-14 17:43:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/303f0353-2f4c-4393-99d7-6f9f9e773bce/juriscontent.html
2025-10-14 17:43:51 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 2 sections from 303f0353-2f4c-4393-99d7-6f9f9e773bce
2025-10-14 17:43:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/303f0353-2f4c-4393-99d7-6f9f9e773bce/section-level-content/miniviewer_1.txt
2025-10-14 17:43:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/303f0353-2f4c-4393-99d7-6f9f9e773bce/section-level-content/miniviewer_2.txt
2025-10-14 17:43:51 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 2 sections saved
2025-10-14 17:43:51 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.89s for source_id: 303f0353-2f4c-4393-99d7-6f9f9e773bce
2025-10-14 17:43:51 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:51 - src.text_processor - INFO - process_cases:159 - Processing case: d53a726a-a8a8-40fe-b499-80d1bfad0978 (21/517)
2025-10-14 17:43:51 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:51 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for d53a726a-a8a8-40fe-b499-80d1bfad0978
2025-10-14 17:43:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/miniviewer.html
2025-10-14 17:43:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/juriscontent.html
2025-10-14 17:43:52 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 63852 bytes
2025-10-14 17:43:52 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.29s for source_id: d53a726a-a8a8-40fe-b499-80d1bfad0978
2025-10-14 17:43:52 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for d53a726a-a8a8-40fe-b499-80d1bfad0978
2025-10-14 17:43:52 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: d53a726a-a8a8-40fe-b499-80d1bfad0978
2025-10-14 17:43:52 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:52 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/section-level-content/
2025-10-14 17:43:52 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/section-level-content/
2025-10-14 17:43:52 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:52 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: d53a726a-a8a8-40fe-b499-80d1bfad0978
2025-10-14 17:43:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/juriscontent.html
2025-10-14 17:43:52 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 4 sections from d53a726a-a8a8-40fe-b499-80d1bfad0978
2025-10-14 17:43:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/section-level-content/miniviewer_1.txt
2025-10-14 17:43:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/section-level-content/miniviewer_2.txt
2025-10-14 17:43:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/section-level-content/miniviewer_3.txt
2025-10-14 17:43:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d53a726a-a8a8-40fe-b499-80d1bfad0978/section-level-content/miniviewer_4.txt
2025-10-14 17:43:53 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-14 17:43:53 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.10s for source_id: d53a726a-a8a8-40fe-b499-80d1bfad0978
2025-10-14 17:43:53 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:53 - src.text_processor - INFO - process_cases:159 - Processing case: ce92e1fa-669d-4fe3-b517-235688b2c514 (22/517)
2025-10-14 17:43:53 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:53 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ce92e1fa-669d-4fe3-b517-235688b2c514
2025-10-14 17:43:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/miniviewer.html
2025-10-14 17:43:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/juriscontent.html
2025-10-14 17:43:54 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 60976 bytes
2025-10-14 17:43:54 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.34s for source_id: ce92e1fa-669d-4fe3-b517-235688b2c514
2025-10-14 17:43:54 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for ce92e1fa-669d-4fe3-b517-235688b2c514
2025-10-14 17:43:54 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: ce92e1fa-669d-4fe3-b517-235688b2c514
2025-10-14 17:43:54 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:54 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/
2025-10-14 17:43:54 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/
2025-10-14 17:43:54 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:54 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: ce92e1fa-669d-4fe3-b517-235688b2c514
2025-10-14 17:43:54 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/juriscontent.html
2025-10-14 17:43:54 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 6 sections from ce92e1fa-669d-4fe3-b517-235688b2c514
2025-10-14 17:43:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/miniviewer_1.txt
2025-10-14 17:43:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/miniviewer_2.txt
2025-10-14 17:43:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/miniviewer_3.txt
2025-10-14 17:43:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/miniviewer_4.txt
2025-10-14 17:43:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/miniviewer_5.txt
2025-10-14 17:43:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ce92e1fa-669d-4fe3-b517-235688b2c514/section-level-content/miniviewer_6.txt
2025-10-14 17:43:55 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 6 sections saved
2025-10-14 17:43:55 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.50s for source_id: ce92e1fa-669d-4fe3-b517-235688b2c514
2025-10-14 17:43:55 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:55 - src.text_processor - INFO - process_cases:159 - Processing case: 09746eed-689c-4aac-ba7c-c4ca3c935b9e (23/517)
2025-10-14 17:43:55 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:55 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 09746eed-689c-4aac-ba7c-c4ca3c935b9e
2025-10-14 17:43:56 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/miniviewer.html
2025-10-14 17:43:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/juriscontent.html
2025-10-14 17:43:56 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 300730 bytes
2025-10-14 17:43:56 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.88s for source_id: 09746eed-689c-4aac-ba7c-c4ca3c935b9e
2025-10-14 17:43:56 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 09746eed-689c-4aac-ba7c-c4ca3c935b9e
2025-10-14 17:43:57 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 09746eed-689c-4aac-ba7c-c4ca3c935b9e
2025-10-14 17:43:57 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:57 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/
2025-10-14 17:43:57 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/
2025-10-14 17:43:57 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:57 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 09746eed-689c-4aac-ba7c-c4ca3c935b9e
2025-10-14 17:43:57 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/juriscontent.html
2025-10-14 17:43:57 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 6 sections from 09746eed-689c-4aac-ba7c-c4ca3c935b9e
2025-10-14 17:43:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/miniviewer_1.txt
2025-10-14 17:43:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/miniviewer_2.txt
2025-10-14 17:43:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/miniviewer_3.txt
2025-10-14 17:43:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/miniviewer_4.txt
2025-10-14 17:43:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/miniviewer_5.txt
2025-10-14 17:43:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09746eed-689c-4aac-ba7c-c4ca3c935b9e/section-level-content/miniviewer_6.txt
2025-10-14 17:43:58 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 6 sections saved
2025-10-14 17:43:59 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.90s for source_id: 09746eed-689c-4aac-ba7c-c4ca3c935b9e
2025-10-14 17:43:59 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:43:59 - src.text_processor - INFO - process_cases:159 - Processing case: 00993b32-1357-4e97-8980-0a590b075b22 (24/517)
2025-10-14 17:43:59 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:43:59 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 00993b32-1357-4e97-8980-0a590b075b22
2025-10-14 17:43:59 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/miniviewer.html
2025-10-14 17:43:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/juriscontent.html
2025-10-14 17:43:59 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 43326 bytes
2025-10-14 17:43:59 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.29s for source_id: 00993b32-1357-4e97-8980-0a590b075b22
2025-10-14 17:43:59 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 00993b32-1357-4e97-8980-0a590b075b22
2025-10-14 17:43:59 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 00993b32-1357-4e97-8980-0a590b075b22
2025-10-14 17:43:59 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:43:59 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/section-level-content/
2025-10-14 17:43:59 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/section-level-content/
2025-10-14 17:43:59 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:43:59 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 00993b32-1357-4e97-8980-0a590b075b22
2025-10-14 17:43:59 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/juriscontent.html
2025-10-14 17:43:59 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 5 sections from 00993b32-1357-4e97-8980-0a590b075b22
2025-10-14 17:44:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/section-level-content/miniviewer_1.txt
2025-10-14 17:44:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/section-level-content/miniviewer_2.txt
2025-10-14 17:44:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/section-level-content/miniviewer_3.txt
2025-10-14 17:44:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/section-level-content/miniviewer_4.txt
2025-10-14 17:44:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/00993b32-1357-4e97-8980-0a590b075b22/section-level-content/miniviewer_5.txt
2025-10-14 17:44:01 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-14 17:44:01 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.61s for source_id: 00993b32-1357-4e97-8980-0a590b075b22
2025-10-14 17:44:01 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:44:01 - src.text_processor - INFO - process_cases:159 - Processing case: c3e000b9-ae02-4294-a8ed-09bd4d533fa1 (25/517)
2025-10-14 17:44:01 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:44:01 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c3e000b9-ae02-4294-a8ed-09bd4d533fa1
2025-10-14 17:44:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/miniviewer.html
2025-10-14 17:44:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/juriscontent.html
2025-10-14 17:44:02 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 187906 bytes
2025-10-14 17:44:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.59s for source_id: c3e000b9-ae02-4294-a8ed-09bd4d533fa1
2025-10-14 17:44:02 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for c3e000b9-ae02-4294-a8ed-09bd4d533fa1
2025-10-14 17:44:02 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: c3e000b9-ae02-4294-a8ed-09bd4d533fa1
2025-10-14 17:44:02 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:44:02 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/
2025-10-14 17:44:02 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/
2025-10-14 17:44:02 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:44:02 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: c3e000b9-ae02-4294-a8ed-09bd4d533fa1
2025-10-14 17:44:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/juriscontent.html
2025-10-14 17:44:02 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 16 sections from c3e000b9-ae02-4294-a8ed-09bd4d533fa1
2025-10-14 17:44:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_1.txt
2025-10-14 17:44:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_2.txt
2025-10-14 17:44:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_3.txt
2025-10-14 17:44:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_4.txt
2025-10-14 17:44:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_5.txt
2025-10-14 17:44:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_6.txt
2025-10-14 17:44:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_7.txt
2025-10-14 17:44:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_8.txt
2025-10-14 17:44:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_9.txt
2025-10-14 17:44:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_10.txt
2025-10-14 17:44:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_11.txt
2025-10-14 17:44:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_12.txt
2025-10-14 17:44:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_13.txt
2025-10-14 17:44:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_14.txt
2025-10-14 17:44:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_15.txt
2025-10-14 17:44:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c3e000b9-ae02-4294-a8ed-09bd4d533fa1/section-level-content/miniviewer_16.txt
2025-10-14 17:44:06 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 16 sections saved
2025-10-14 17:44:06 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 4.26s for source_id: c3e000b9-ae02-4294-a8ed-09bd4d533fa1
2025-10-14 17:44:06 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:44:06 - src.text_processor - INFO - process_cases:159 - Processing case: 343ce310-6e0f-46f2-b17f-f4020992d35b (26/517)
2025-10-14 17:44:06 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:44:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 343ce310-6e0f-46f2-b17f-f4020992d35b
2025-10-14 17:44:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/miniviewer.html
2025-10-14 17:44:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/juriscontent.html
2025-10-14 17:44:07 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 123677 bytes
2025-10-14 17:44:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.42s for source_id: 343ce310-6e0f-46f2-b17f-f4020992d35b
2025-10-14 17:44:07 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 343ce310-6e0f-46f2-b17f-f4020992d35b
2025-10-14 17:44:07 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 343ce310-6e0f-46f2-b17f-f4020992d35b
2025-10-14 17:44:07 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:44:07 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/
2025-10-14 17:44:07 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/
2025-10-14 17:44:07 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:44:07 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 343ce310-6e0f-46f2-b17f-f4020992d35b
2025-10-14 17:44:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/juriscontent.html
2025-10-14 17:44:07 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 10 sections from 343ce310-6e0f-46f2-b17f-f4020992d35b
2025-10-14 17:44:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_1.txt
2025-10-14 17:44:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_2.txt
2025-10-14 17:44:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_3.txt
2025-10-14 17:44:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_4.txt
2025-10-14 17:44:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_5.txt
2025-10-14 17:44:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_6.txt
2025-10-14 17:44:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_7.txt
2025-10-14 17:44:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_8.txt
2025-10-14 17:44:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_9.txt
2025-10-14 17:44:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/343ce310-6e0f-46f2-b17f-f4020992d35b/section-level-content/miniviewer_10.txt
2025-10-14 17:44:10 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 10 sections saved
2025-10-14 17:44:10 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 3.06s for source_id: 343ce310-6e0f-46f2-b17f-f4020992d35b
2025-10-14 17:44:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:44:10 - src.text_processor - INFO - process_cases:159 - Processing case: aba69bfc-0001-49c5-8835-98500135050e (27/517)
2025-10-14 17:44:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:44:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for aba69bfc-0001-49c5-8835-98500135050e
2025-10-14 17:44:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/miniviewer.html
2025-10-14 17:44:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/juriscontent.html
2025-10-14 17:44:11 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 356061 bytes
2025-10-14 17:44:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.88s for source_id: aba69bfc-0001-49c5-8835-98500135050e
2025-10-14 17:44:11 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for aba69bfc-0001-49c5-8835-98500135050e
2025-10-14 17:44:11 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: aba69bfc-0001-49c5-8835-98500135050e
2025-10-14 17:44:11 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:44:11 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/
2025-10-14 17:44:11 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/
2025-10-14 17:44:11 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:44:12 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: aba69bfc-0001-49c5-8835-98500135050e
2025-10-14 17:44:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/juriscontent.html
2025-10-14 17:44:12 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 44 sections from aba69bfc-0001-49c5-8835-98500135050e
2025-10-14 17:44:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_1.txt
2025-10-14 17:44:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_2.txt
2025-10-14 17:44:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_3.txt
2025-10-14 17:44:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_4.txt
2025-10-14 17:44:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_5.txt
2025-10-14 17:44:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_6.txt
2025-10-14 17:44:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_7.txt
2025-10-14 17:44:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_8.txt
2025-10-14 17:44:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_9.txt
2025-10-14 17:44:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_10.txt
2025-10-14 17:44:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_11.txt
2025-10-14 17:44:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_12.txt
2025-10-14 17:44:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_13.txt
2025-10-14 17:44:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_14.txt
2025-10-14 17:44:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_15.txt
2025-10-14 17:44:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_16.txt
2025-10-14 17:44:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_17.txt
2025-10-14 17:44:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_18.txt
2025-10-14 17:44:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_19.txt
2025-10-14 17:44:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_20.txt
2025-10-14 17:44:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_21.txt
2025-10-14 17:44:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_22.txt
2025-10-14 17:44:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_23.txt
2025-10-14 17:44:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_24.txt
2025-10-14 17:44:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_25.txt
2025-10-14 17:44:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aba69bfc-0001-49c5-8835-98500135050e/section-level-content/miniviewer_26.txt
2025-10-14 17:44:20 - root - INFO - main:75 - ======================================================================
2025-10-14 17:44:20 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:44:20 - root - INFO - main:77 - Mode: both
2025-10-14 17:44:20 - root - INFO - main:78 - ======================================================================
2025-10-14 17:44:20 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:44:20 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:44:20 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:44:20 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:44:20 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:44:21 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 815eeefe-2c36-414d-be8f-ac3819fe1596
2025-10-14 17:44:21 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:44:21 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:44:21 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:44:21 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:44:21 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:44:21 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:44:22 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:44:22 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:44:22 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:44:22 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:44:23 - src.text_processor - INFO - process_cases:147 - Found 491 cases for all years from registry requiring processing.
2025-10-14 17:44:23 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:44:23 - src.text_processor - INFO - process_cases:159 - Processing case: 9846fdcf-87ff-4ca5-9359-145d67910dcb (1/491)
2025-10-14 17:44:23 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:44:23 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:44:24 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/miniviewer.html
2025-10-14 17:44:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:44:26 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 1810750 bytes
2025-10-14 17:44:26 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 2.85s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:44:26 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:44:26 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:44:26 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:44:26 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:44:26 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:44:27 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 23 objects from s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:44:27 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 23 files from folder
2025-10-14 17:44:27 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:44:27 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:44:27 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 23 existing sections for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:44:27 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:44:28 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 23 sections from 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:44:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_1.txt
2025-10-14 17:44:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_2.txt
2025-10-14 17:44:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_3.txt
2025-10-14 17:44:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_4.txt
2025-10-14 17:44:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_5.txt
2025-10-14 17:44:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_6.txt
2025-10-14 17:44:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_7.txt
2025-10-14 17:44:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_8.txt
2025-10-14 17:44:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_9.txt
2025-10-14 17:44:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_10.txt
2025-10-14 17:44:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_11.txt
2025-10-14 17:44:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_12.txt
2025-10-14 17:44:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_13.txt
2025-10-14 17:44:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_14.txt
2025-10-14 17:44:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_15.txt
2025-10-14 17:44:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_16.txt
2025-10-14 17:45:02 - root - INFO - main:75 - ======================================================================
2025-10-14 17:45:02 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:45:02 - root - INFO - main:77 - Mode: both
2025-10-14 17:45:02 - root - INFO - main:78 - ======================================================================
2025-10-14 17:45:02 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:45:02 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:45:02 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:45:02 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:45:02 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:45:03 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 83a1014a-e78a-45b1-b9c9-79acef066eca
2025-10-14 17:45:03 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:45:03 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:45:03 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:45:03 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:45:03 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:45:03 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:147 - Found 491 cases for all years from registry requiring processing.
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:159 - Processing case: 9846fdcf-87ff-4ca5-9359-145d67910dcb (1/491)
2025-10-14 17:45:04 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:45:05 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:45:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/miniviewer.html
2025-10-14 17:45:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:45:07 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 1810750 bytes
2025-10-14 17:45:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 2.74s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:45:08 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:45:08 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:45:08 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:45:08 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:45:08 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:45:08 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 16 objects from s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:45:08 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 16 files from folder
2025-10-14 17:45:08 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:45:08 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:45:08 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 16 existing sections for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:45:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:45:09 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 23 sections from 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:45:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_1.txt
2025-10-14 17:45:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_2.txt
2025-10-14 17:45:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_3.txt
2025-10-14 17:45:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_4.txt
2025-10-14 17:45:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_5.txt
2025-10-14 17:45:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_6.txt
2025-10-14 17:45:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_7.txt
2025-10-14 17:45:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_8.txt
2025-10-14 17:45:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_9.txt
2025-10-14 17:45:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_10.txt
2025-10-14 17:45:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_11.txt
2025-10-14 17:45:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_12.txt
2025-10-14 17:45:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_13.txt
2025-10-14 17:45:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_14.txt
2025-10-14 17:45:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_15.txt
2025-10-14 17:45:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_16.txt
2025-10-14 17:45:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_17.txt
2025-10-14 17:45:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_18.txt
2025-10-14 17:45:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_19.txt
2025-10-14 17:45:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_20.txt
2025-10-14 17:45:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_21.txt
2025-10-14 17:45:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_22.txt
2025-10-14 17:45:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_23.txt
2025-10-14 17:45:15 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 23 sections saved
2025-10-14 17:45:15 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 7.21s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:45:15 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:45:15 - src.text_processor - INFO - process_cases:159 - Processing case: 09ae2356-ec2d-459c-86ec-21bef90f4d83 (2/491)
2025-10-14 17:45:15 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:45:15 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 09ae2356-ec2d-459c-86ec-21bef90f4d83
2025-10-14 17:45:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/miniviewer.html
2025-10-14 17:45:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/juriscontent.html
2025-10-14 17:45:15 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 66856 bytes
2025-10-14 17:45:15 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.34s for source_id: 09ae2356-ec2d-459c-86ec-21bef90f4d83
2025-10-14 17:45:15 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 09ae2356-ec2d-459c-86ec-21bef90f4d83
2025-10-14 17:45:16 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 09ae2356-ec2d-459c-86ec-21bef90f4d83
2025-10-14 17:45:16 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:45:16 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/section-level-content/
2025-10-14 17:45:16 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/section-level-content/
2025-10-14 17:45:16 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:45:16 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 09ae2356-ec2d-459c-86ec-21bef90f4d83
2025-10-14 17:45:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/juriscontent.html
2025-10-14 17:45:16 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 9 sections from 09ae2356-ec2d-459c-86ec-21bef90f4d83
2025-10-14 17:45:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/section-level-content/miniviewer_1.txt
2025-10-14 17:45:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/section-level-content/miniviewer_2.txt
2025-10-14 17:45:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/section-level-content/miniviewer_3.txt
2025-10-14 17:45:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/09ae2356-ec2d-459c-86ec-21bef90f4d83/section-level-content/miniviewer_4.txt
2025-10-14 17:51:55 - root - INFO - main:75 - ======================================================================
2025-10-14 17:51:55 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:51:55 - root - INFO - main:77 - Mode: both
2025-10-14 17:51:55 - root - INFO - main:78 - ======================================================================
2025-10-14 17:51:55 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:51:55 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:51:55 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:51:55 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:51:55 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:51:56 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: addf3dca-b3a2-44c0-9f80-d21ecdd61b4d
2025-10-14 17:51:56 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:51:56 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:51:56 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:51:56 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:51:56 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:51:56 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:51:57 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:51:57 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:51:57 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:51:57 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:51:58 - src.text_processor - INFO - process_cases:147 - Found 490 cases for all years from registry requiring processing.
2025-10-14 17:51:58 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:51:58 - src.text_processor - INFO - process_cases:159 - Processing case: 9846fdcf-87ff-4ca5-9359-145d67910dcb (1/490)
2025-10-14 17:51:58 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:51:58 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:51:58 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/miniviewer.html
2025-10-14 17:52:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:52:01 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 1811025 bytes
2025-10-14 17:52:01 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 2.94s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:52:01 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:52:01 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:52:01 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:52:01 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:52:01 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:52:02 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 23 objects from s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:52:02 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 23 files from folder
2025-10-14 17:52:02 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:52:02 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:52:02 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 23 existing sections for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:52:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:52:02 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 23 sections from 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:52:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_1.txt
2025-10-14 17:52:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_2.txt
2025-10-14 17:52:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_3.txt
2025-10-14 17:52:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_4.txt
2025-10-14 17:52:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_5.txt
2025-10-14 17:52:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_6.txt
2025-10-14 17:52:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_7.txt
2025-10-14 17:52:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_8.txt
2025-10-14 17:52:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_9.txt
2025-10-14 17:52:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_10.txt
2025-10-14 17:52:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_11.txt
2025-10-14 17:52:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_12.txt
2025-10-14 17:52:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_13.txt
2025-10-14 17:52:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_14.txt
2025-10-14 17:52:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_15.txt
2025-10-14 17:52:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_16.txt
2025-10-14 17:52:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_17.txt
2025-10-14 17:52:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_18.txt
2025-10-14 17:52:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_19.txt
2025-10-14 17:52:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_20.txt
2025-10-14 17:52:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_21.txt
2025-10-14 17:52:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_22.txt
2025-10-14 17:52:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_23.txt
2025-10-14 17:52:08 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 23 sections saved
2025-10-14 17:52:08 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 7.36s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:52:08 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:52:08 - src.text_processor - INFO - process_cases:159 - Processing case: ff333775-8f92-458c-82cc-7be3f1d0905d (2/490)
2025-10-14 17:52:08 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:52:09 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ff333775-8f92-458c-82cc-7be3f1d0905d
2025-10-14 17:52:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ff333775-8f92-458c-82cc-7be3f1d0905d/miniviewer.html
2025-10-14 17:52:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ff333775-8f92-458c-82cc-7be3f1d0905d/juriscontent.html
2025-10-14 17:52:09 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 73518 bytes
2025-10-14 17:52:09 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.39s for source_id: ff333775-8f92-458c-82cc-7be3f1d0905d
2025-10-14 17:52:09 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for ff333775-8f92-458c-82cc-7be3f1d0905d
2025-10-14 17:55:02 - root - INFO - main:75 - ======================================================================
2025-10-14 17:55:02 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-14 17:55:02 - root - INFO - main:77 - Mode: both
2025-10-14 17:55:02 - root - INFO - main:78 - ======================================================================
2025-10-14 17:55:02 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-14 17:55:02 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-14 17:55:02 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-14 17:55:02 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-14 17:55:02 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-14 17:55:03 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 59723349-a1c2-4d72-89d0-cc7a8030e5d8
2025-10-14 17:55:03 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-14 17:55:03 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-14 17:55:03 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-14 17:55:03 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-14 17:55:03 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-14 17:55:03 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-14 17:55:04 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-14 17:55:04 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-14 17:55:04 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-14 17:55:04 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-14 17:55:05 - src.text_processor - INFO - process_cases:147 - Found 489 cases for all years from registry requiring processing.
2025-10-14 17:55:05 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:55:05 - src.text_processor - INFO - process_cases:159 - Processing case: 9846fdcf-87ff-4ca5-9359-145d67910dcb (1/489)
2025-10-14 17:55:05 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:55:05 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:55:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/miniviewer.html
2025-10-14 17:55:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:55:08 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 1811055 bytes
2025-10-14 17:55:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 2.83s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:55:08 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:55:08 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:55:08 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:55:08 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:55:08 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:55:09 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 23 objects from s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:55:09 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 23 files from folder
2025-10-14 17:55:09 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/
2025-10-14 17:55:09 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:55:09 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 23 existing sections for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:55:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/juriscontent.html
2025-10-14 17:55:10 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 23 sections from 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:55:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_1.txt
2025-10-14 17:55:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_2.txt
2025-10-14 17:55:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_3.txt
2025-10-14 17:55:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_4.txt
2025-10-14 17:55:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_5.txt
2025-10-14 17:55:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_6.txt
2025-10-14 17:55:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_7.txt
2025-10-14 17:55:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_8.txt
2025-10-14 17:55:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_9.txt
2025-10-14 17:55:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_10.txt
2025-10-14 17:55:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_11.txt
2025-10-14 17:55:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_12.txt
2025-10-14 17:55:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_13.txt
2025-10-14 17:55:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_14.txt
2025-10-14 17:55:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_15.txt
2025-10-14 17:55:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_16.txt
2025-10-14 17:55:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_17.txt
2025-10-14 17:55:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_18.txt
2025-10-14 17:55:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_19.txt
2025-10-14 17:55:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_20.txt
2025-10-14 17:55:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_21.txt
2025-10-14 17:55:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_22.txt
2025-10-14 17:55:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/9846fdcf-87ff-4ca5-9359-145d67910dcb/section-level-content/miniviewer_23.txt
2025-10-14 17:55:15 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 23 sections saved
2025-10-14 17:55:15 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 7.18s for source_id: 9846fdcf-87ff-4ca5-9359-145d67910dcb
2025-10-14 17:55:15 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-14 17:55:15 - src.text_processor - INFO - process_cases:159 - Processing case: 750770bd-daae-4931-a95b-876c7ece59ba (2/489)
2025-10-14 17:55:15 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-14 17:55:15 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 750770bd-daae-4931-a95b-876c7ece59ba
2025-10-14 17:55:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/750770bd-daae-4931-a95b-876c7ece59ba/miniviewer.html
2025-10-14 17:55:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/750770bd-daae-4931-a95b-876c7ece59ba/juriscontent.html
2025-10-14 17:55:16 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 221195 bytes
2025-10-14 17:55:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.60s for source_id: 750770bd-daae-4931-a95b-876c7ece59ba
2025-10-14 17:55:16 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 750770bd-daae-4931-a95b-876c7ece59ba
2025-10-14 17:55:16 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 750770bd-daae-4931-a95b-876c7ece59ba
2025-10-14 17:55:16 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-14 17:55:16 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/750770bd-daae-4931-a95b-876c7ece59ba/section-level-content/
2025-10-14 17:55:16 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/750770bd-daae-4931-a95b-876c7ece59ba/section-level-content/
2025-10-14 17:55:16 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-14 17:55:17 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 750770bd-daae-4931-a95b-876c7ece59ba
2025-10-14 17:55:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/750770bd-daae-4931-a95b-876c7ece59ba/juriscontent.html
2025-10-14 17:55:17 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 10 sections from 750770bd-daae-4931-a95b-876c7ece59ba
2025-10-14 17:55:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/750770bd-daae-4931-a95b-876c7ece59ba/section-level-content/miniviewer_1.txt
2025-10-15 17:40:07 - root - INFO - main:75 - ======================================================================
2025-10-15 17:40:07 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-15 17:40:07 - root - INFO - main:77 - Mode: both
2025-10-15 17:40:07 - root - INFO - main:78 - ======================================================================
2025-10-15 17:40:07 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-15 17:40:07 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-15 17:40:07 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-15 17:40:07 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-15 17:40:07 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-15 17:40:08 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 7c2799db-e760-4930-82c8-2c8d700bb1f2
2025-10-15 17:40:08 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-15 17:40:08 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-15 17:40:08 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-15 17:40:08 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-15 17:40:08 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-15 17:40:08 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:147 - Found 223 cases for all years from registry requiring processing.
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:159 - Processing case: 48b31cf6-7782-4d02-af36-2aa9f5e14030 (1/223)
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:09 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:40:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/48b31cf6-7782-4d02-af36-2aa9f5e14030/miniviewer.html
2025-10-15 17:40:10 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:40:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.22s for source_id: 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:40:10 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 48b31cf6-7782-4d02-af36-2aa9f5e14030 - juriscontent generation failed
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:159 - Processing case: 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08 (2/223)
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:40:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/92ec02a5-ac80-4e9a-a52d-ac6a58c81a08/miniviewer.html
2025-10-15 17:40:10 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:40:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:40:10 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08 - juriscontent generation failed
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:159 - Processing case: 56db60c0-a30f-4d55-92f4-eeacdc374cee (3/223)
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:40:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/56db60c0-a30f-4d55-92f4-eeacdc374cee/miniviewer.html
2025-10-15 17:40:10 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:40:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.09s for source_id: 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:40:10 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 56db60c0-a30f-4d55-92f4-eeacdc374cee - juriscontent generation failed
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:159 - Processing case: 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc (4/223)
2025-10-15 17:40:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:40:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc/miniviewer.html
2025-10-15 17:40:11 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:40:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.10s for source_id: 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:40:11 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc - juriscontent generation failed
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:159 - Processing case: d7c889a6-70df-4870-a510-82f99f14067b (5/223)
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:40:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d7c889a6-70df-4870-a510-82f99f14067b/miniviewer.html
2025-10-15 17:40:11 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:40:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:40:11 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for d7c889a6-70df-4870-a510-82f99f14067b - juriscontent generation failed
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:159 - Processing case: 5a20dc59-28a6-4b88-a51c-ad0e7102e89c (6/223)
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:40:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5a20dc59-28a6-4b88-a51c-ad0e7102e89c/miniviewer.html
2025-10-15 17:40:11 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:40:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.10s for source_id: 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:40:11 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 5a20dc59-28a6-4b88-a51c-ad0e7102e89c - juriscontent generation failed
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:159 - Processing case: 82901c02-3521-4190-acd6-baf4d85c894b (7/223)
2025-10-15 17:40:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:12 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:40:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/82901c02-3521-4190-acd6-baf4d85c894b/miniviewer.html
2025-10-15 17:40:12 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:40:12 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.10s for source_id: 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:40:12 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 82901c02-3521-4190-acd6-baf4d85c894b - juriscontent generation failed
2025-10-15 17:40:12 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:40:12 - src.text_processor - INFO - process_cases:159 - Processing case: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf (8/223)
2025-10-15 17:40:12 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:40:12 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:41:41 - root - INFO - main:75 - ======================================================================
2025-10-15 17:41:41 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-15 17:41:41 - root - INFO - main:77 - Mode: both
2025-10-15 17:41:41 - root - INFO - main:78 - ======================================================================
2025-10-15 17:41:41 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-15 17:41:41 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-15 17:41:41 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-15 17:41:41 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-15 17:41:41 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-15 17:41:41 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: d0af3dbf-c490-4341-badc-7ebbb5a391b3
2025-10-15 17:41:41 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-15 17:41:41 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-15 17:41:41 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-15 17:41:41 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-15 17:41:41 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-15 17:41:41 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-15 17:41:42 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-15 17:41:42 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-15 17:41:42 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-15 17:41:42 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-15 17:41:43 - src.text_processor - INFO - process_cases:147 - Found 223 cases for all years from registry requiring processing.
2025-10-15 17:41:43 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:41:43 - src.text_processor - INFO - process_cases:159 - Processing case: 48b31cf6-7782-4d02-af36-2aa9f5e14030 (1/223)
2025-10-15 17:41:43 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:41:43 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:41:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/48b31cf6-7782-4d02-af36-2aa9f5e14030/miniviewer.html
2025-10-15 17:41:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/48b31cf6-7782-4d02-af36-2aa9f5e14030/juriscontent.html
2025-10-15 17:41:43 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 17139 bytes
2025-10-15 17:41:43 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.33s for source_id: 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:41:43 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:41:43 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:41:43 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:41:43 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/48b31cf6-7782-4d02-af36-2aa9f5e14030/section-level-content/
2025-10-15 17:41:43 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/48b31cf6-7782-4d02-af36-2aa9f5e14030/section-level-content/
2025-10-15 17:41:43 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:41:44 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:41:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/48b31cf6-7782-4d02-af36-2aa9f5e14030/juriscontent.html
2025-10-15 17:41:44 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:41:44 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/48b31cf6-7782-4d02-af36-2aa9f5e14030/section-level-content/miniviewer_1.txt
2025-10-15 17:41:44 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:41:44 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.03s for source_id: 48b31cf6-7782-4d02-af36-2aa9f5e14030
2025-10-15 17:41:44 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:41:44 - src.text_processor - INFO - process_cases:159 - Processing case: 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08 (2/223)
2025-10-15 17:41:44 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:41:45 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:41:45 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/92ec02a5-ac80-4e9a-a52d-ac6a58c81a08/miniviewer.html
2025-10-15 17:41:45 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/92ec02a5-ac80-4e9a-a52d-ac6a58c81a08/juriscontent.html
2025-10-15 17:41:45 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 17261 bytes
2025-10-15 17:41:45 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:41:45 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:41:45 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:41:45 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:41:45 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/92ec02a5-ac80-4e9a-a52d-ac6a58c81a08/section-level-content/
2025-10-15 17:41:45 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/92ec02a5-ac80-4e9a-a52d-ac6a58c81a08/section-level-content/
2025-10-15 17:41:45 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:41:46 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:41:46 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/92ec02a5-ac80-4e9a-a52d-ac6a58c81a08/juriscontent.html
2025-10-15 17:41:46 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:41:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/92ec02a5-ac80-4e9a-a52d-ac6a58c81a08/section-level-content/miniviewer_1.txt
2025-10-15 17:41:46 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:41:46 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.98s for source_id: 92ec02a5-ac80-4e9a-a52d-ac6a58c81a08
2025-10-15 17:41:46 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:41:46 - src.text_processor - INFO - process_cases:159 - Processing case: 56db60c0-a30f-4d55-92f4-eeacdc374cee (3/223)
2025-10-15 17:41:46 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:41:46 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:41:46 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/56db60c0-a30f-4d55-92f4-eeacdc374cee/miniviewer.html
2025-10-15 17:41:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/56db60c0-a30f-4d55-92f4-eeacdc374cee/juriscontent.html
2025-10-15 17:41:46 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 16234 bytes
2025-10-15 17:41:46 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.21s for source_id: 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:41:46 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:41:47 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:41:47 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:41:47 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/56db60c0-a30f-4d55-92f4-eeacdc374cee/section-level-content/
2025-10-15 17:41:47 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/56db60c0-a30f-4d55-92f4-eeacdc374cee/section-level-content/
2025-10-15 17:41:47 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:41:47 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:41:47 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/56db60c0-a30f-4d55-92f4-eeacdc374cee/juriscontent.html
2025-10-15 17:41:47 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:41:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/56db60c0-a30f-4d55-92f4-eeacdc374cee/section-level-content/miniviewer_1.txt
2025-10-15 17:41:48 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:41:48 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.02s for source_id: 56db60c0-a30f-4d55-92f4-eeacdc374cee
2025-10-15 17:41:48 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:41:48 - src.text_processor - INFO - process_cases:159 - Processing case: 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc (4/223)
2025-10-15 17:41:48 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:41:48 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:41:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc/miniviewer.html
2025-10-15 17:41:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc/juriscontent.html
2025-10-15 17:41:48 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 17729 bytes
2025-10-15 17:41:48 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:41:48 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:41:48 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:41:48 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:41:48 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc/section-level-content/
2025-10-15 17:41:48 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc/section-level-content/
2025-10-15 17:41:48 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:41:49 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:41:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc/juriscontent.html
2025-10-15 17:41:49 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:41:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc/section-level-content/miniviewer_1.txt
2025-10-15 17:41:49 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:41:49 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.03s for source_id: 091adb1d-2e17-4476-a2a7-0cd7cfc3b7bc
2025-10-15 17:41:49 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:41:49 - src.text_processor - INFO - process_cases:159 - Processing case: d7c889a6-70df-4870-a510-82f99f14067b (5/223)
2025-10-15 17:41:49 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:41:49 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:41:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d7c889a6-70df-4870-a510-82f99f14067b/miniviewer.html
2025-10-15 17:41:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d7c889a6-70df-4870-a510-82f99f14067b/juriscontent.html
2025-10-15 17:41:50 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 27516 bytes
2025-10-15 17:41:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.22s for source_id: d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:41:50 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:41:50 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:41:50 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:41:50 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/d7c889a6-70df-4870-a510-82f99f14067b/section-level-content/
2025-10-15 17:41:50 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/d7c889a6-70df-4870-a510-82f99f14067b/section-level-content/
2025-10-15 17:41:50 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:41:50 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:41:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d7c889a6-70df-4870-a510-82f99f14067b/juriscontent.html
2025-10-15 17:41:50 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:41:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d7c889a6-70df-4870-a510-82f99f14067b/section-level-content/miniviewer_1.txt
2025-10-15 17:41:51 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:41:51 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.95s for source_id: d7c889a6-70df-4870-a510-82f99f14067b
2025-10-15 17:41:51 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:41:51 - src.text_processor - INFO - process_cases:159 - Processing case: 5a20dc59-28a6-4b88-a51c-ad0e7102e89c (6/223)
2025-10-15 17:41:51 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:41:51 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:41:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5a20dc59-28a6-4b88-a51c-ad0e7102e89c/miniviewer.html
2025-10-15 17:41:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5a20dc59-28a6-4b88-a51c-ad0e7102e89c/juriscontent.html
2025-10-15 17:41:51 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 19244 bytes
2025-10-15 17:41:51 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:41:51 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:41:51 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:41:51 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:41:51 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/5a20dc59-28a6-4b88-a51c-ad0e7102e89c/section-level-content/
2025-10-15 17:41:51 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/5a20dc59-28a6-4b88-a51c-ad0e7102e89c/section-level-content/
2025-10-15 17:41:51 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:41:52 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:41:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5a20dc59-28a6-4b88-a51c-ad0e7102e89c/juriscontent.html
2025-10-15 17:41:52 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:41:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5a20dc59-28a6-4b88-a51c-ad0e7102e89c/section-level-content/miniviewer_1.txt
2025-10-15 17:41:52 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:41:52 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.96s for source_id: 5a20dc59-28a6-4b88-a51c-ad0e7102e89c
2025-10-15 17:41:52 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:41:52 - src.text_processor - INFO - process_cases:159 - Processing case: 82901c02-3521-4190-acd6-baf4d85c894b (7/223)
2025-10-15 17:41:52 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:41:52 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:41:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/82901c02-3521-4190-acd6-baf4d85c894b/miniviewer.html
2025-10-15 17:41:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/82901c02-3521-4190-acd6-baf4d85c894b/juriscontent.html
2025-10-15 17:41:53 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 16370 bytes
2025-10-15 17:41:53 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.21s for source_id: 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:41:53 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:41:53 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:41:53 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:41:53 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/82901c02-3521-4190-acd6-baf4d85c894b/section-level-content/
2025-10-15 17:41:53 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/82901c02-3521-4190-acd6-baf4d85c894b/section-level-content/
2025-10-15 17:41:53 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:41:53 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:41:54 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/82901c02-3521-4190-acd6-baf4d85c894b/juriscontent.html
2025-10-15 17:41:54 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 82901c02-3521-4190-acd6-baf4d85c894b
2025-10-15 17:44:09 - root - INFO - main:75 - ======================================================================
2025-10-15 17:44:09 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-15 17:44:09 - root - INFO - main:77 - Mode: both
2025-10-15 17:44:09 - root - INFO - main:78 - ======================================================================
2025-10-15 17:44:09 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-15 17:44:09 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-15 17:44:09 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-15 17:44:09 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-15 17:44:09 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-15 17:44:09 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 31fd0444-1c88-4fb0-823f-c40235dd7151
2025-10-15 17:44:09 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-15 17:44:09 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-15 17:44:09 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-15 17:44:09 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-15 17:44:09 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-15 17:44:09 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-15 17:44:10 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-15 17:44:10 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-15 17:44:10 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-15 17:44:10 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:147 - Found 216 cases for all years from registry requiring processing.
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:159 - Processing case: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf (1/216)
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:44:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/miniviewer.html
2025-10-15 17:44:11 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:44:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.20s for source_id: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:44:11 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf - juriscontent generation failed
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:159 - Processing case: 74acd788-682b-4b4d-a769-193e8302009e (2/216)
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:44:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:44:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/miniviewer.html
2025-10-15 17:44:11 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:44:12 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:44:12 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 74acd788-682b-4b4d-a769-193e8302009e - juriscontent generation failed
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:159 - Processing case: 0d763992-f532-4fc2-9c81-b947ccd45d93 (3/216)
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:44:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/miniviewer.html
2025-10-15 17:44:12 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:44:12 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.29s for source_id: 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:44:12 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 0d763992-f532-4fc2-9c81-b947ccd45d93 - juriscontent generation failed
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:159 - Processing case: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a (4/216)
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:44:12 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:44:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/miniviewer.html
2025-10-15 17:44:12 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:44:13 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.23s for source_id: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:44:13 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a - juriscontent generation failed
2025-10-15 17:44:13 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:44:13 - src.text_processor - INFO - process_cases:159 - Processing case: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81 (5/216)
2025-10-15 17:44:13 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:44:13 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:44:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/miniviewer.html
2025-10-15 17:44:13 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:44:13 - sqlalchemy.pool.impl.QueuePool - ERROR - _finalize_fairy:1010 - Exception during reset or similar
Traceback (most recent call last):
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/src/text_processor.py", line 222, in _generate_and_save_juriscontent
    juriscontent_html = self.html_transformer.transform(html_content)
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/src/html_transformer.py", line 51, in transform
    processed_html = self.headless_processor.process(processed_html)
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/src/headless_html_processor.py", line 56, in process
    style_map = self._parse_styles(soup)
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/src/headless_html_processor.py", line 27, in _parse_styles
    class_definitions = re.findall(r'\.([a-zA-Z0-9_-]+)\s*\{([^}]+)\}', style_tag.string)
  File "/opt/anaconda3/envs/juristab/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 988, in _finalize_fairy
    fairy._reset(
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1438, in _reset
    pool._dialect.do_rollback(self)
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 611, in rollback
    self._cmysql.rollback()
KeyboardInterrupt
2025-10-15 17:45:47 - root - INFO - main:75 - ======================================================================
2025-10-15 17:45:47 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-15 17:45:47 - root - INFO - main:77 - Mode: both
2025-10-15 17:45:47 - root - INFO - main:78 - ======================================================================
2025-10-15 17:45:47 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-15 17:45:47 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-15 17:45:47 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-15 17:45:47 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-15 17:45:47 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-15 17:45:47 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: de959006-860b-40e4-999e-16af7e0231cf
2025-10-15 17:45:47 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-15 17:45:47 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-15 17:45:47 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-15 17:45:47 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-15 17:45:47 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-15 17:45:47 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-15 17:45:48 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-15 17:45:48 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-15 17:45:48 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-15 17:45:48 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:147 - Found 216 cases for all years from registry requiring processing.
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:159 - Processing case: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf (1/216)
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:45:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/miniviewer.html
2025-10-15 17:45:49 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:45:49 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.19s for source_id: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:45:49 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf - juriscontent generation failed
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:159 - Processing case: 74acd788-682b-4b4d-a769-193e8302009e (2/216)
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:45:49 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:45:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/miniviewer.html
2025-10-15 17:45:49 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:45:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.10s for source_id: 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:45:50 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 74acd788-682b-4b4d-a769-193e8302009e - juriscontent generation failed
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:159 - Processing case: 0d763992-f532-4fc2-9c81-b947ccd45d93 (3/216)
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:45:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/miniviewer.html
2025-10-15 17:45:50 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:45:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:45:50 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 0d763992-f532-4fc2-9c81-b947ccd45d93 - juriscontent generation failed
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:159 - Processing case: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a (4/216)
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:45:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/miniviewer.html
2025-10-15 17:45:50 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:45:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.27s for source_id: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:45:50 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a - juriscontent generation failed
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:159 - Processing case: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81 (5/216)
2025-10-15 17:45:50 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:45:51 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:46:31 - root - INFO - main:75 - ======================================================================
2025-10-15 17:46:31 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-15 17:46:31 - root - INFO - main:77 - Mode: both
2025-10-15 17:46:31 - root - INFO - main:78 - ======================================================================
2025-10-15 17:46:31 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-15 17:46:31 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-15 17:46:31 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-15 17:46:31 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-15 17:46:31 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-15 17:46:32 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 9d7b82ff-ccc0-48a2-81b0-cba6cc5c72a9
2025-10-15 17:46:32 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-15 17:46:32 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-15 17:46:32 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-15 17:46:32 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-15 17:46:32 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-15 17:46:32 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-15 17:46:33 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-15 17:46:33 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-15 17:46:33 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-15 17:46:33 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:147 - Found 216 cases for all years from registry requiring processing.
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:159 - Processing case: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf (1/216)
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:46:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/miniviewer.html
2025-10-15 17:46:34 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:34 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.23s for source_id: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:46:34 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf - juriscontent generation failed
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:159 - Processing case: 74acd788-682b-4b4d-a769-193e8302009e (2/216)
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:46:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/miniviewer.html
2025-10-15 17:46:34 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:34 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:46:34 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 74acd788-682b-4b4d-a769-193e8302009e - juriscontent generation failed
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:159 - Processing case: 0d763992-f532-4fc2-9c81-b947ccd45d93 (3/216)
2025-10-15 17:46:34 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:46:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/miniviewer.html
2025-10-15 17:46:35 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:35 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:46:35 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 0d763992-f532-4fc2-9c81-b947ccd45d93 - juriscontent generation failed
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:159 - Processing case: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a (4/216)
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:46:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/miniviewer.html
2025-10-15 17:46:35 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:35 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.22s for source_id: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:46:35 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a - juriscontent generation failed
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:159 - Processing case: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81 (5/216)
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:35 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:46:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/miniviewer.html
2025-10-15 17:46:35 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:36 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:46:36 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81 - juriscontent generation failed
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:159 - Processing case: ae9a6b0f-6889-425d-baff-397d06079106 (6/216)
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:46:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ae9a6b0f-6889-425d-baff-397d06079106/miniviewer.html
2025-10-15 17:46:36 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:36 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:46:36 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for ae9a6b0f-6889-425d-baff-397d06079106 - juriscontent generation failed
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:159 - Processing case: 362e186c-5152-4164-84e5-05f7ef300c83 (7/216)
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:46:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/362e186c-5152-4164-84e5-05f7ef300c83/miniviewer.html
2025-10-15 17:46:36 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:36 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:46:36 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 362e186c-5152-4164-84e5-05f7ef300c83 - juriscontent generation failed
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:159 - Processing case: 97516cbc-54cd-4434-8630-611e9b87e204 (8/216)
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:36 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:46:37 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/97516cbc-54cd-4434-8630-611e9b87e204/miniviewer.html
2025-10-15 17:46:37 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:37 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:46:37 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 97516cbc-54cd-4434-8630-611e9b87e204 - juriscontent generation failed
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:159 - Processing case: 2f720187-4bd5-4f96-8578-0614e2ae832d (9/216)
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2f720187-4bd5-4f96-8578-0614e2ae832d
2025-10-15 17:46:37 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2f720187-4bd5-4f96-8578-0614e2ae832d/miniviewer.html
2025-10-15 17:46:37 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:37 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 2f720187-4bd5-4f96-8578-0614e2ae832d
2025-10-15 17:46:37 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 2f720187-4bd5-4f96-8578-0614e2ae832d - juriscontent generation failed
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:159 - Processing case: dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b (10/216)
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:46:37 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/miniviewer.html
2025-10-15 17:46:37 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:37 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:46:37 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b - juriscontent generation failed
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:159 - Processing case: a6fe08d6-e6d4-4e81-ae70-ecb862760fac (11/216)
2025-10-15 17:46:37 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:46:38 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/miniviewer.html
2025-10-15 17:46:38 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:38 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:46:38 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for a6fe08d6-e6d4-4e81-ae70-ecb862760fac - juriscontent generation failed
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:159 - Processing case: 7176b613-1c2d-4b19-b7d2-57da166a33a8 (12/216)
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:46:38 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7176b613-1c2d-4b19-b7d2-57da166a33a8/miniviewer.html
2025-10-15 17:46:38 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:38 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:46:38 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 7176b613-1c2d-4b19-b7d2-57da166a33a8 - juriscontent generation failed
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:159 - Processing case: 52aa3842-c31a-4861-9d33-634242daf517 (13/216)
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:38 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:46:38 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/miniviewer.html
2025-10-15 17:46:38 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:39 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:46:39 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 52aa3842-c31a-4861-9d33-634242daf517 - juriscontent generation failed
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:159 - Processing case: 08c15517-d78a-486b-85b3-e8615541804f (14/216)
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:46:39 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/miniviewer.html
2025-10-15 17:46:39 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:39 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:46:39 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 08c15517-d78a-486b-85b3-e8615541804f - juriscontent generation failed
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:159 - Processing case: c24ec7ba-1430-4bde-bdb6-e642223d0eeb (15/216)
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:39 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c24ec7ba-1430-4bde-bdb6-e642223d0eeb
2025-10-15 17:46:39 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c24ec7ba-1430-4bde-bdb6-e642223d0eeb/miniviewer.html
2025-10-15 17:46:39 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:40 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: c24ec7ba-1430-4bde-bdb6-e642223d0eeb
2025-10-15 17:46:40 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for c24ec7ba-1430-4bde-bdb6-e642223d0eeb - juriscontent generation failed
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:159 - Processing case: fea3ada0-6490-438d-9e7b-feaaf03cec24 (16/216)
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-15 17:46:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/miniviewer.html
2025-10-15 17:46:40 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:40 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-15 17:46:40 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for fea3ada0-6490-438d-9e7b-feaaf03cec24 - juriscontent generation failed
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:159 - Processing case: 6b79c830-9854-40aa-8421-29ba67fc6633 (17/216)
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-15 17:46:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/miniviewer.html
2025-10-15 17:46:40 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:40 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.16s for source_id: 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-15 17:46:40 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 6b79c830-9854-40aa-8421-29ba67fc6633 - juriscontent generation failed
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:159 - Processing case: ecca6fcb-26c8-469c-a437-491c840b2e37 (18/216)
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:40 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-15 17:46:41 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ecca6fcb-26c8-469c-a437-491c840b2e37/miniviewer.html
2025-10-15 17:46:41 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:41 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-15 17:46:41 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for ecca6fcb-26c8-469c-a437-491c840b2e37 - juriscontent generation failed
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:159 - Processing case: 2ce72800-6643-43a7-b54b-252c3950c31e (19/216)
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-15 17:46:41 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ce72800-6643-43a7-b54b-252c3950c31e/miniviewer.html
2025-10-15 17:46:41 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:41 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-15 17:46:41 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 2ce72800-6643-43a7-b54b-252c3950c31e - juriscontent generation failed
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:159 - Processing case: bca761d4-265d-4c44-bb4b-e38387c0b12b (20/216)
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-15 17:46:41 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/miniviewer.html
2025-10-15 17:46:41 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:41 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-15 17:46:41 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for bca761d4-265d-4c44-bb4b-e38387c0b12b - juriscontent generation failed
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:159 - Processing case: fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d (21/216)
2025-10-15 17:46:41 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d
2025-10-15 17:46:42 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d/miniviewer.html
2025-10-15 17:46:42 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:42 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d
2025-10-15 17:46:42 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d - juriscontent generation failed
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:159 - Processing case: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48 (22/216)
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-15 17:46:42 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/miniviewer.html
2025-10-15 17:46:42 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:42 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-15 17:46:42 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for c22bcb63-1d9f-4cdd-b2a9-e2c26956df48 - juriscontent generation failed
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:159 - Processing case: 1cd46165-7a73-4f74-8e21-38669e1478a2 (23/216)
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:42 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-15 17:46:42 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/miniviewer.html
2025-10-15 17:46:43 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:43 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-15 17:46:43 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 1cd46165-7a73-4f74-8e21-38669e1478a2 - juriscontent generation failed
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:159 - Processing case: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c (24/216)
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-15 17:46:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6476912e-c4f1-4bf5-92b5-902f2e4d2e3c/miniviewer.html
2025-10-15 17:46:43 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:43 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-15 17:46:43 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c - juriscontent generation failed
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:159 - Processing case: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c (25/216)
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:43 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-15 17:46:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/miniviewer.html
2025-10-15 17:46:43 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:44 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.26s for source_id: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-15 17:46:44 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c - juriscontent generation failed
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:159 - Processing case: 909bf1bd-bfa2-41c0-96f3-621524e197dd (26/216)
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-15 17:46:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/miniviewer.html
2025-10-15 17:46:44 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:44 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-15 17:46:44 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 909bf1bd-bfa2-41c0-96f3-621524e197dd - juriscontent generation failed
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:159 - Processing case: aa1caad3-c87a-458f-9d50-e65d415f7daa (27/216)
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-15 17:46:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/miniviewer.html
2025-10-15 17:46:44 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:44 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-15 17:46:44 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for aa1caad3-c87a-458f-9d50-e65d415f7daa - juriscontent generation failed
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:159 - Processing case: 451d5307-ed03-4614-9059-e9168b53bc2d (28/216)
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:44 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-15 17:46:45 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/miniviewer.html
2025-10-15 17:46:45 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:45 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-15 17:46:45 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 451d5307-ed03-4614-9059-e9168b53bc2d - juriscontent generation failed
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:159 - Processing case: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0 (29/216)
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-15 17:46:45 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/miniviewer.html
2025-10-15 17:46:45 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:45 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.10s for source_id: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-15 17:46:45 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0 - juriscontent generation failed
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:159 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (30/216)
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-15 17:46:45 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-15 17:46:45 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:45 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-15 17:46:45 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 0486d0f8-0849-4875-a238-8cbe2aa120df - juriscontent generation failed
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:159 - Processing case: a5d7fc5f-3d05-4749-8310-e2780bff180b (31/216)
2025-10-15 17:46:45 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-15 17:46:46 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/miniviewer.html
2025-10-15 17:46:46 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:46 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-15 17:46:46 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for a5d7fc5f-3d05-4749-8310-e2780bff180b - juriscontent generation failed
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:159 - Processing case: 81372f2b-816a-45e0-9f70-bcabc0909534 (32/216)
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-15 17:46:46 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/miniviewer.html
2025-10-15 17:46:46 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:46 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-15 17:46:46 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 81372f2b-816a-45e0-9f70-bcabc0909534 - juriscontent generation failed
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:159 - Processing case: 45e8602d-8fb0-4350-af31-ae87d43a2c6c (33/216)
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:46 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-15 17:46:46 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/miniviewer.html
2025-10-15 17:46:46 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-15 17:46:47 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 45e8602d-8fb0-4350-af31-ae87d43a2c6c - juriscontent generation failed
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:159 - Processing case: 0f54c351-c726-4d04-82c3-74a90dabf361 (34/216)
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-15 17:46:47 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/miniviewer.html
2025-10-15 17:46:47 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-15 17:46:47 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 0f54c351-c726-4d04-82c3-74a90dabf361 - juriscontent generation failed
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:159 - Processing case: 93a5e3aa-4ced-4890-966e-dd4e578a5714 (35/216)
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-15 17:46:47 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/miniviewer.html
2025-10-15 17:46:47 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-15 17:46:47 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 93a5e3aa-4ced-4890-966e-dd4e578a5714 - juriscontent generation failed
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:159 - Processing case: a1b941d7-7d06-44b5-a070-b881c429f3f7 (36/216)
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:47 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-15 17:46:47 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/miniviewer.html
2025-10-15 17:46:48 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:48 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-15 17:46:48 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for a1b941d7-7d06-44b5-a070-b881c429f3f7 - juriscontent generation failed
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:159 - Processing case: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2 (37/216)
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-15 17:46:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/miniviewer.html
2025-10-15 17:46:48 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:48 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-15 17:46:48 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2 - juriscontent generation failed
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:159 - Processing case: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af (38/216)
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-15 17:46:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/miniviewer.html
2025-10-15 17:46:48 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:48 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-15 17:46:48 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 7f15a9fd-80e2-41b5-9009-ea12e2ea76af - juriscontent generation failed
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:159 - Processing case: fb21045d-ffb1-47cc-a998-63c3803c78e6 (39/216)
2025-10-15 17:46:48 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-15 17:46:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/miniviewer.html
2025-10-15 17:46:49 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:49 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-15 17:46:49 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for fb21045d-ffb1-47cc-a998-63c3803c78e6 - juriscontent generation failed
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:159 - Processing case: 89c20420-0da1-4ca5-9b7f-50fba3a836c1 (40/216)
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-15 17:46:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/miniviewer.html
2025-10-15 17:46:49 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:49 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-15 17:46:49 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 89c20420-0da1-4ca5-9b7f-50fba3a836c1 - juriscontent generation failed
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:159 - Processing case: c8259a3b-7667-4655-b4a0-fc18f59c6259 (41/216)
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:49 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-15 17:46:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/miniviewer.html
2025-10-15 17:46:49 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-15 17:46:50 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for c8259a3b-7667-4655-b4a0-fc18f59c6259 - juriscontent generation failed
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:159 - Processing case: 41b9453d-5362-4f8a-933b-d8832122e708 (42/216)
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-15 17:46:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/miniviewer.html
2025-10-15 17:46:50 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-15 17:46:50 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 41b9453d-5362-4f8a-933b-d8832122e708 - juriscontent generation failed
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:159 - Processing case: 97adba6b-1dbf-46c0-b852-510b3a1db306 (43/216)
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-15 17:46:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/miniviewer.html
2025-10-15 17:46:50 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-15 17:46:50 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 97adba6b-1dbf-46c0-b852-510b3a1db306 - juriscontent generation failed
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:159 - Processing case: a7afec17-77d1-400d-bc97-1a4d21c1f2a8 (44/216)
2025-10-15 17:46:50 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:51 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-15 17:46:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/miniviewer.html
2025-10-15 17:46:51 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:51 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.23s for source_id: a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-15 17:46:51 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for a7afec17-77d1-400d-bc97-1a4d21c1f2a8 - juriscontent generation failed
2025-10-15 17:46:51 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:51 - src.text_processor - INFO - process_cases:159 - Processing case: 79bd002b-f48d-4aec-a7a0-f51adc448385 (45/216)
2025-10-15 17:46:51 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:51 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 79bd002b-f48d-4aec-a7a0-f51adc448385
2025-10-15 17:46:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/79bd002b-f48d-4aec-a7a0-f51adc448385/miniviewer.html
2025-10-15 17:46:51 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:52 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.21s for source_id: 79bd002b-f48d-4aec-a7a0-f51adc448385
2025-10-15 17:46:52 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 79bd002b-f48d-4aec-a7a0-f51adc448385 - juriscontent generation failed
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:159 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (46/216)
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-15 17:46:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-15 17:46:52 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:52 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-15 17:46:52 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 2e70863e-43dc-43d2-ba0b-f9654350b10e - juriscontent generation failed
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:159 - Processing case: 5555e84b-b193-4ed7-8fbd-f96b55432f33 (47/216)
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5555e84b-b193-4ed7-8fbd-f96b55432f33
2025-10-15 17:46:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5555e84b-b193-4ed7-8fbd-f96b55432f33/miniviewer.html
2025-10-15 17:46:52 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:52 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 5555e84b-b193-4ed7-8fbd-f96b55432f33
2025-10-15 17:46:52 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 5555e84b-b193-4ed7-8fbd-f96b55432f33 - juriscontent generation failed
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:159 - Processing case: 2de5be71-b915-4192-aac5-ae74dddc7b42 (48/216)
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:52 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2de5be71-b915-4192-aac5-ae74dddc7b42
2025-10-15 17:46:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2de5be71-b915-4192-aac5-ae74dddc7b42/miniviewer.html
2025-10-15 17:46:53 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:53 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 2de5be71-b915-4192-aac5-ae74dddc7b42
2025-10-15 17:46:53 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 2de5be71-b915-4192-aac5-ae74dddc7b42 - juriscontent generation failed
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:159 - Processing case: 9cbfe14d-27ba-4270-91b7-a587167ca55d (49/216)
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9cbfe14d-27ba-4270-91b7-a587167ca55d
2025-10-15 17:46:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9cbfe14d-27ba-4270-91b7-a587167ca55d/miniviewer.html
2025-10-15 17:46:53 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:53 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 9cbfe14d-27ba-4270-91b7-a587167ca55d
2025-10-15 17:46:53 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 9cbfe14d-27ba-4270-91b7-a587167ca55d - juriscontent generation failed
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:159 - Processing case: 9bf57007-0351-4688-854f-06d7d39abb5f (50/216)
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9bf57007-0351-4688-854f-06d7d39abb5f
2025-10-15 17:46:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9bf57007-0351-4688-854f-06d7d39abb5f/miniviewer.html
2025-10-15 17:46:53 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:53 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 9bf57007-0351-4688-854f-06d7d39abb5f
2025-10-15 17:46:53 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 9bf57007-0351-4688-854f-06d7d39abb5f - juriscontent generation failed
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:159 - Processing case: 16114e15-f61f-4aac-adb8-9c749ada3124 (51/216)
2025-10-15 17:46:53 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 16114e15-f61f-4aac-adb8-9c749ada3124
2025-10-15 17:46:54 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/16114e15-f61f-4aac-adb8-9c749ada3124/miniviewer.html
2025-10-15 17:46:54 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:54 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.21s for source_id: 16114e15-f61f-4aac-adb8-9c749ada3124
2025-10-15 17:46:54 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 16114e15-f61f-4aac-adb8-9c749ada3124 - juriscontent generation failed
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:159 - Processing case: aba45a49-a17b-4511-b84b-098f85629c13 (52/216)
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for aba45a49-a17b-4511-b84b-098f85629c13
2025-10-15 17:46:54 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aba45a49-a17b-4511-b84b-098f85629c13/miniviewer.html
2025-10-15 17:46:54 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:54 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: aba45a49-a17b-4511-b84b-098f85629c13
2025-10-15 17:46:54 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for aba45a49-a17b-4511-b84b-098f85629c13 - juriscontent generation failed
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:159 - Processing case: 234c72d7-f38f-4404-9735-9f9dcb83d0fa (53/216)
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:54 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 234c72d7-f38f-4404-9735-9f9dcb83d0fa
2025-10-15 17:46:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/234c72d7-f38f-4404-9735-9f9dcb83d0fa/miniviewer.html
2025-10-15 17:46:55 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:55 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: 234c72d7-f38f-4404-9735-9f9dcb83d0fa
2025-10-15 17:46:55 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 234c72d7-f38f-4404-9735-9f9dcb83d0fa - juriscontent generation failed
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:159 - Processing case: 36ad96ba-21b7-4d49-af37-15fd8342b3b4 (54/216)
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 36ad96ba-21b7-4d49-af37-15fd8342b3b4
2025-10-15 17:46:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/36ad96ba-21b7-4d49-af37-15fd8342b3b4/miniviewer.html
2025-10-15 17:46:55 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:55 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 36ad96ba-21b7-4d49-af37-15fd8342b3b4
2025-10-15 17:46:55 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 36ad96ba-21b7-4d49-af37-15fd8342b3b4 - juriscontent generation failed
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:159 - Processing case: b3650e53-36cf-4ba5-8932-ae64eb8ebcd4 (55/216)
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:55 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b3650e53-36cf-4ba5-8932-ae64eb8ebcd4
2025-10-15 17:46:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b3650e53-36cf-4ba5-8932-ae64eb8ebcd4/miniviewer.html
2025-10-15 17:46:55 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:56 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: b3650e53-36cf-4ba5-8932-ae64eb8ebcd4
2025-10-15 17:46:56 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b3650e53-36cf-4ba5-8932-ae64eb8ebcd4 - juriscontent generation failed
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:159 - Processing case: 1562426d-807a-4a99-99f7-cf4d3fc30ca9 (56/216)
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 1562426d-807a-4a99-99f7-cf4d3fc30ca9
2025-10-15 17:46:56 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1562426d-807a-4a99-99f7-cf4d3fc30ca9/miniviewer.html
2025-10-15 17:46:56 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:56 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 1562426d-807a-4a99-99f7-cf4d3fc30ca9
2025-10-15 17:46:56 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 1562426d-807a-4a99-99f7-cf4d3fc30ca9 - juriscontent generation failed
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:159 - Processing case: 3a2feeda-2410-40ef-aa63-f8617fc6bd37 (57/216)
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3a2feeda-2410-40ef-aa63-f8617fc6bd37
2025-10-15 17:46:56 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3a2feeda-2410-40ef-aa63-f8617fc6bd37/miniviewer.html
2025-10-15 17:46:56 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:56 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 3a2feeda-2410-40ef-aa63-f8617fc6bd37
2025-10-15 17:46:56 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 3a2feeda-2410-40ef-aa63-f8617fc6bd37 - juriscontent generation failed
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:159 - Processing case: 1d2e6d7b-f0a1-4e5f-833c-0ddba694bfbf (58/216)
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:56 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 1d2e6d7b-f0a1-4e5f-833c-0ddba694bfbf
2025-10-15 17:46:57 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1d2e6d7b-f0a1-4e5f-833c-0ddba694bfbf/miniviewer.html
2025-10-15 17:46:57 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:57 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 1d2e6d7b-f0a1-4e5f-833c-0ddba694bfbf
2025-10-15 17:46:57 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 1d2e6d7b-f0a1-4e5f-833c-0ddba694bfbf - juriscontent generation failed
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:159 - Processing case: 094d1e97-f9ce-46b9-b6d6-6fc7154eeaae (59/216)
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 094d1e97-f9ce-46b9-b6d6-6fc7154eeaae
2025-10-15 17:46:57 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/094d1e97-f9ce-46b9-b6d6-6fc7154eeaae/miniviewer.html
2025-10-15 17:46:57 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:57 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: 094d1e97-f9ce-46b9-b6d6-6fc7154eeaae
2025-10-15 17:46:57 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 094d1e97-f9ce-46b9-b6d6-6fc7154eeaae - juriscontent generation failed
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:159 - Processing case: ff431f00-dd50-401e-85b8-670b023bc5a2 (60/216)
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ff431f00-dd50-401e-85b8-670b023bc5a2
2025-10-15 17:46:57 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ff431f00-dd50-401e-85b8-670b023bc5a2/miniviewer.html
2025-10-15 17:46:57 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:57 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.16s for source_id: ff431f00-dd50-401e-85b8-670b023bc5a2
2025-10-15 17:46:57 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for ff431f00-dd50-401e-85b8-670b023bc5a2 - juriscontent generation failed
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:159 - Processing case: 045a5ce5-30e0-41ee-b38d-62dd0c0bef78 (61/216)
2025-10-15 17:46:57 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 045a5ce5-30e0-41ee-b38d-62dd0c0bef78
2025-10-15 17:46:58 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/045a5ce5-30e0-41ee-b38d-62dd0c0bef78/miniviewer.html
2025-10-15 17:46:58 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:58 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 045a5ce5-30e0-41ee-b38d-62dd0c0bef78
2025-10-15 17:46:58 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 045a5ce5-30e0-41ee-b38d-62dd0c0bef78 - juriscontent generation failed
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:159 - Processing case: 785b0cac-5f76-4f3e-af79-f4308ce37b0e (62/216)
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 785b0cac-5f76-4f3e-af79-f4308ce37b0e
2025-10-15 17:46:58 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/785b0cac-5f76-4f3e-af79-f4308ce37b0e/miniviewer.html
2025-10-15 17:46:58 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:58 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 785b0cac-5f76-4f3e-af79-f4308ce37b0e
2025-10-15 17:46:58 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 785b0cac-5f76-4f3e-af79-f4308ce37b0e - juriscontent generation failed
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:159 - Processing case: 989387c5-9cf3-45c4-a56b-41fbcbb78d70 (63/216)
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:58 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 989387c5-9cf3-45c4-a56b-41fbcbb78d70
2025-10-15 17:46:58 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/989387c5-9cf3-45c4-a56b-41fbcbb78d70/miniviewer.html
2025-10-15 17:46:59 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:59 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 989387c5-9cf3-45c4-a56b-41fbcbb78d70
2025-10-15 17:46:59 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 989387c5-9cf3-45c4-a56b-41fbcbb78d70 - juriscontent generation failed
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:159 - Processing case: 7d07a18b-45a5-4ac2-86a5-2613a3a4fbab (64/216)
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7d07a18b-45a5-4ac2-86a5-2613a3a4fbab
2025-10-15 17:46:59 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7d07a18b-45a5-4ac2-86a5-2613a3a4fbab/miniviewer.html
2025-10-15 17:46:59 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:59 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 7d07a18b-45a5-4ac2-86a5-2613a3a4fbab
2025-10-15 17:46:59 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 7d07a18b-45a5-4ac2-86a5-2613a3a4fbab - juriscontent generation failed
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:159 - Processing case: 573657f4-6854-4bb0-93b1-cca246229a8e (65/216)
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 573657f4-6854-4bb0-93b1-cca246229a8e
2025-10-15 17:46:59 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/573657f4-6854-4bb0-93b1-cca246229a8e/miniviewer.html
2025-10-15 17:46:59 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:46:59 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 573657f4-6854-4bb0-93b1-cca246229a8e
2025-10-15 17:46:59 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 573657f4-6854-4bb0-93b1-cca246229a8e - juriscontent generation failed
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:159 - Processing case: 86b2a746-de07-43b1-8844-2f6ca7b47dcb (66/216)
2025-10-15 17:46:59 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 86b2a746-de07-43b1-8844-2f6ca7b47dcb
2025-10-15 17:47:00 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/86b2a746-de07-43b1-8844-2f6ca7b47dcb/miniviewer.html
2025-10-15 17:47:00 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:00 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 86b2a746-de07-43b1-8844-2f6ca7b47dcb
2025-10-15 17:47:00 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 86b2a746-de07-43b1-8844-2f6ca7b47dcb - juriscontent generation failed
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:159 - Processing case: a65bec7b-a000-4db8-adfe-ccb95a829bcc (67/216)
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a65bec7b-a000-4db8-adfe-ccb95a829bcc
2025-10-15 17:47:00 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a65bec7b-a000-4db8-adfe-ccb95a829bcc/miniviewer.html
2025-10-15 17:47:00 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:00 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: a65bec7b-a000-4db8-adfe-ccb95a829bcc
2025-10-15 17:47:00 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for a65bec7b-a000-4db8-adfe-ccb95a829bcc - juriscontent generation failed
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:159 - Processing case: f9cc47c5-e71c-4f83-ba97-5069a525a61d (68/216)
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f9cc47c5-e71c-4f83-ba97-5069a525a61d
2025-10-15 17:47:00 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f9cc47c5-e71c-4f83-ba97-5069a525a61d/miniviewer.html
2025-10-15 17:47:00 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:00 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.10s for source_id: f9cc47c5-e71c-4f83-ba97-5069a525a61d
2025-10-15 17:47:00 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for f9cc47c5-e71c-4f83-ba97-5069a525a61d - juriscontent generation failed
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:159 - Processing case: 5e9761b2-bf24-4491-95ac-5e38a17929c6 (69/216)
2025-10-15 17:47:00 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5e9761b2-bf24-4491-95ac-5e38a17929c6
2025-10-15 17:47:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5e9761b2-bf24-4491-95ac-5e38a17929c6/miniviewer.html
2025-10-15 17:47:01 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:01 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 5e9761b2-bf24-4491-95ac-5e38a17929c6
2025-10-15 17:47:01 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 5e9761b2-bf24-4491-95ac-5e38a17929c6 - juriscontent generation failed
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:159 - Processing case: 6729c323-98ba-4c16-bfa6-cab494934fc3 (70/216)
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6729c323-98ba-4c16-bfa6-cab494934fc3
2025-10-15 17:47:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6729c323-98ba-4c16-bfa6-cab494934fc3/miniviewer.html
2025-10-15 17:47:01 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:01 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.10s for source_id: 6729c323-98ba-4c16-bfa6-cab494934fc3
2025-10-15 17:47:01 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 6729c323-98ba-4c16-bfa6-cab494934fc3 - juriscontent generation failed
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:159 - Processing case: 66b1838a-5816-48d4-9421-e683efe30597 (71/216)
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:01 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 66b1838a-5816-48d4-9421-e683efe30597
2025-10-15 17:47:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/66b1838a-5816-48d4-9421-e683efe30597/miniviewer.html
2025-10-15 17:47:02 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: 66b1838a-5816-48d4-9421-e683efe30597
2025-10-15 17:47:02 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 66b1838a-5816-48d4-9421-e683efe30597 - juriscontent generation failed
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:159 - Processing case: 68136754-8a0e-4a9a-87a9-6d221d7d409d (72/216)
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 68136754-8a0e-4a9a-87a9-6d221d7d409d
2025-10-15 17:47:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/68136754-8a0e-4a9a-87a9-6d221d7d409d/miniviewer.html
2025-10-15 17:47:02 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 68136754-8a0e-4a9a-87a9-6d221d7d409d
2025-10-15 17:47:02 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 68136754-8a0e-4a9a-87a9-6d221d7d409d - juriscontent generation failed
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:159 - Processing case: 2f7eeaa6-ffff-4e8b-8ca4-ffa6e3f1acfe (73/216)
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2f7eeaa6-ffff-4e8b-8ca4-ffa6e3f1acfe
2025-10-15 17:47:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2f7eeaa6-ffff-4e8b-8ca4-ffa6e3f1acfe/miniviewer.html
2025-10-15 17:47:02 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 2f7eeaa6-ffff-4e8b-8ca4-ffa6e3f1acfe
2025-10-15 17:47:02 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 2f7eeaa6-ffff-4e8b-8ca4-ffa6e3f1acfe - juriscontent generation failed
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:159 - Processing case: ecf0848f-b519-4e84-91c7-bceb321e9c74 (74/216)
2025-10-15 17:47:02 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ecf0848f-b519-4e84-91c7-bceb321e9c74
2025-10-15 17:47:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ecf0848f-b519-4e84-91c7-bceb321e9c74/miniviewer.html
2025-10-15 17:47:03 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:03 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.19s for source_id: ecf0848f-b519-4e84-91c7-bceb321e9c74
2025-10-15 17:47:03 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for ecf0848f-b519-4e84-91c7-bceb321e9c74 - juriscontent generation failed
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:159 - Processing case: b40cce6c-e11c-45a5-9ee1-b493baa6fa31 (75/216)
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b40cce6c-e11c-45a5-9ee1-b493baa6fa31
2025-10-15 17:47:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b40cce6c-e11c-45a5-9ee1-b493baa6fa31/miniviewer.html
2025-10-15 17:47:03 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:03 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: b40cce6c-e11c-45a5-9ee1-b493baa6fa31
2025-10-15 17:47:03 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b40cce6c-e11c-45a5-9ee1-b493baa6fa31 - juriscontent generation failed
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:159 - Processing case: 44ecb5b2-b04e-46e7-b3a5-b0d8ba3fad35 (76/216)
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:03 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 44ecb5b2-b04e-46e7-b3a5-b0d8ba3fad35
2025-10-15 17:47:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/44ecb5b2-b04e-46e7-b3a5-b0d8ba3fad35/miniviewer.html
2025-10-15 17:47:04 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:04 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.16s for source_id: 44ecb5b2-b04e-46e7-b3a5-b0d8ba3fad35
2025-10-15 17:47:04 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 44ecb5b2-b04e-46e7-b3a5-b0d8ba3fad35 - juriscontent generation failed
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:159 - Processing case: b4da9208-562c-4951-a85e-d2fb6accab60 (77/216)
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b4da9208-562c-4951-a85e-d2fb6accab60
2025-10-15 17:47:04 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b4da9208-562c-4951-a85e-d2fb6accab60/miniviewer.html
2025-10-15 17:47:04 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:04 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: b4da9208-562c-4951-a85e-d2fb6accab60
2025-10-15 17:47:04 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b4da9208-562c-4951-a85e-d2fb6accab60 - juriscontent generation failed
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:159 - Processing case: e90f8cbb-449e-4efb-b5d7-e1d45cd2d202 (78/216)
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for e90f8cbb-449e-4efb-b5d7-e1d45cd2d202
2025-10-15 17:47:04 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/e90f8cbb-449e-4efb-b5d7-e1d45cd2d202/miniviewer.html
2025-10-15 17:47:04 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:04 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: e90f8cbb-449e-4efb-b5d7-e1d45cd2d202
2025-10-15 17:47:04 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for e90f8cbb-449e-4efb-b5d7-e1d45cd2d202 - juriscontent generation failed
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:159 - Processing case: 4849e6c8-431b-43fd-a2d3-13c775179580 (79/216)
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:04 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 4849e6c8-431b-43fd-a2d3-13c775179580
2025-10-15 17:47:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/4849e6c8-431b-43fd-a2d3-13c775179580/miniviewer.html
2025-10-15 17:47:05 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:05 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 4849e6c8-431b-43fd-a2d3-13c775179580
2025-10-15 17:47:05 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 4849e6c8-431b-43fd-a2d3-13c775179580 - juriscontent generation failed
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:159 - Processing case: 7ce5c73e-db54-48c1-a9e2-4d474d8f3d3c (80/216)
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7ce5c73e-db54-48c1-a9e2-4d474d8f3d3c
2025-10-15 17:47:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7ce5c73e-db54-48c1-a9e2-4d474d8f3d3c/miniviewer.html
2025-10-15 17:47:05 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:05 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 7ce5c73e-db54-48c1-a9e2-4d474d8f3d3c
2025-10-15 17:47:05 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 7ce5c73e-db54-48c1-a9e2-4d474d8f3d3c - juriscontent generation failed
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:159 - Processing case: 818ebd24-4e0e-404c-b40f-5032f4353094 (81/216)
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 818ebd24-4e0e-404c-b40f-5032f4353094
2025-10-15 17:47:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/818ebd24-4e0e-404c-b40f-5032f4353094/miniviewer.html
2025-10-15 17:47:05 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:05 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 818ebd24-4e0e-404c-b40f-5032f4353094
2025-10-15 17:47:05 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 818ebd24-4e0e-404c-b40f-5032f4353094 - juriscontent generation failed
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:159 - Processing case: 3e1341a4-c82b-4a21-bec2-763df212c988 (82/216)
2025-10-15 17:47:05 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3e1341a4-c82b-4a21-bec2-763df212c988
2025-10-15 17:47:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3e1341a4-c82b-4a21-bec2-763df212c988/miniviewer.html
2025-10-15 17:47:06 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:06 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 3e1341a4-c82b-4a21-bec2-763df212c988
2025-10-15 17:47:06 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 3e1341a4-c82b-4a21-bec2-763df212c988 - juriscontent generation failed
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:159 - Processing case: 985a9c00-90fb-4d34-8e95-c87dd2d7b5ca (83/216)
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 985a9c00-90fb-4d34-8e95-c87dd2d7b5ca
2025-10-15 17:47:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/985a9c00-90fb-4d34-8e95-c87dd2d7b5ca/miniviewer.html
2025-10-15 17:47:06 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:06 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 985a9c00-90fb-4d34-8e95-c87dd2d7b5ca
2025-10-15 17:47:06 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 985a9c00-90fb-4d34-8e95-c87dd2d7b5ca - juriscontent generation failed
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:159 - Processing case: 25e4a3f4-b19f-450b-a0d4-e7e5a0096ed5 (84/216)
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 25e4a3f4-b19f-450b-a0d4-e7e5a0096ed5
2025-10-15 17:47:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/25e4a3f4-b19f-450b-a0d4-e7e5a0096ed5/miniviewer.html
2025-10-15 17:47:06 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 25e4a3f4-b19f-450b-a0d4-e7e5a0096ed5
2025-10-15 17:47:07 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 25e4a3f4-b19f-450b-a0d4-e7e5a0096ed5 - juriscontent generation failed
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:159 - Processing case: 820cef9d-9229-4667-82bd-9df9dce577f1 (85/216)
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 820cef9d-9229-4667-82bd-9df9dce577f1
2025-10-15 17:47:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/820cef9d-9229-4667-82bd-9df9dce577f1/miniviewer.html
2025-10-15 17:47:07 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: 820cef9d-9229-4667-82bd-9df9dce577f1
2025-10-15 17:47:07 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 820cef9d-9229-4667-82bd-9df9dce577f1 - juriscontent generation failed
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:159 - Processing case: f09cdd20-4045-4139-8ac9-a8d1dc726a55 (86/216)
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f09cdd20-4045-4139-8ac9-a8d1dc726a55
2025-10-15 17:47:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f09cdd20-4045-4139-8ac9-a8d1dc726a55/miniviewer.html
2025-10-15 17:47:07 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: f09cdd20-4045-4139-8ac9-a8d1dc726a55
2025-10-15 17:47:07 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for f09cdd20-4045-4139-8ac9-a8d1dc726a55 - juriscontent generation failed
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:159 - Processing case: 6127f0d1-3530-463d-bc85-b36e8b8eb621 (87/216)
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:07 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6127f0d1-3530-463d-bc85-b36e8b8eb621
2025-10-15 17:47:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6127f0d1-3530-463d-bc85-b36e8b8eb621/miniviewer.html
2025-10-15 17:47:08 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 6127f0d1-3530-463d-bc85-b36e8b8eb621
2025-10-15 17:47:08 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 6127f0d1-3530-463d-bc85-b36e8b8eb621 - juriscontent generation failed
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:159 - Processing case: 46347c67-aefb-4738-be5f-a2d386faebb6 (88/216)
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 46347c67-aefb-4738-be5f-a2d386faebb6
2025-10-15 17:47:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/46347c67-aefb-4738-be5f-a2d386faebb6/miniviewer.html
2025-10-15 17:47:08 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 46347c67-aefb-4738-be5f-a2d386faebb6
2025-10-15 17:47:08 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 46347c67-aefb-4738-be5f-a2d386faebb6 - juriscontent generation failed
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:159 - Processing case: 12e77c7d-a51e-4d7e-b2a4-bfd4ab4fd0e2 (89/216)
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:08 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 12e77c7d-a51e-4d7e-b2a4-bfd4ab4fd0e2
2025-10-15 17:47:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/12e77c7d-a51e-4d7e-b2a4-bfd4ab4fd0e2/miniviewer.html
2025-10-15 17:47:09 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:09 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.19s for source_id: 12e77c7d-a51e-4d7e-b2a4-bfd4ab4fd0e2
2025-10-15 17:47:09 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 12e77c7d-a51e-4d7e-b2a4-bfd4ab4fd0e2 - juriscontent generation failed
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:159 - Processing case: de829a1d-db5b-4a8a-8760-26d1871953f4 (90/216)
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for de829a1d-db5b-4a8a-8760-26d1871953f4
2025-10-15 17:47:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/de829a1d-db5b-4a8a-8760-26d1871953f4/miniviewer.html
2025-10-15 17:47:09 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:09 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: de829a1d-db5b-4a8a-8760-26d1871953f4
2025-10-15 17:47:09 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for de829a1d-db5b-4a8a-8760-26d1871953f4 - juriscontent generation failed
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:159 - Processing case: 3bb373b5-d829-48ba-9d41-b774b3590287 (91/216)
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3bb373b5-d829-48ba-9d41-b774b3590287
2025-10-15 17:47:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3bb373b5-d829-48ba-9d41-b774b3590287/miniviewer.html
2025-10-15 17:47:09 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:09 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 3bb373b5-d829-48ba-9d41-b774b3590287
2025-10-15 17:47:09 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 3bb373b5-d829-48ba-9d41-b774b3590287 - juriscontent generation failed
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:159 - Processing case: 3df2150f-f069-4bc7-bddf-a592b9ac342b (92/216)
2025-10-15 17:47:09 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3df2150f-f069-4bc7-bddf-a592b9ac342b
2025-10-15 17:47:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3df2150f-f069-4bc7-bddf-a592b9ac342b/miniviewer.html
2025-10-15 17:47:10 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 3df2150f-f069-4bc7-bddf-a592b9ac342b
2025-10-15 17:47:10 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 3df2150f-f069-4bc7-bddf-a592b9ac342b - juriscontent generation failed
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:159 - Processing case: 43e9311c-7265-429b-a273-e7637a27194c (93/216)
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 43e9311c-7265-429b-a273-e7637a27194c
2025-10-15 17:47:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/43e9311c-7265-429b-a273-e7637a27194c/miniviewer.html
2025-10-15 17:47:10 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 43e9311c-7265-429b-a273-e7637a27194c
2025-10-15 17:47:10 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 43e9311c-7265-429b-a273-e7637a27194c - juriscontent generation failed
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:159 - Processing case: 25170a97-352f-4609-b3c8-d6fdbb5cc0d8 (94/216)
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 25170a97-352f-4609-b3c8-d6fdbb5cc0d8
2025-10-15 17:47:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/25170a97-352f-4609-b3c8-d6fdbb5cc0d8/miniviewer.html
2025-10-15 17:47:10 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 25170a97-352f-4609-b3c8-d6fdbb5cc0d8
2025-10-15 17:47:11 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 25170a97-352f-4609-b3c8-d6fdbb5cc0d8 - juriscontent generation failed
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:159 - Processing case: 039bcf95-947e-43d3-bc83-73299305c5f7 (95/216)
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 039bcf95-947e-43d3-bc83-73299305c5f7
2025-10-15 17:47:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/039bcf95-947e-43d3-bc83-73299305c5f7/miniviewer.html
2025-10-15 17:47:11 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 039bcf95-947e-43d3-bc83-73299305c5f7
2025-10-15 17:47:11 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 039bcf95-947e-43d3-bc83-73299305c5f7 - juriscontent generation failed
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:159 - Processing case: b881c589-5065-4d9c-8995-d7184cc7da24 (96/216)
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b881c589-5065-4d9c-8995-d7184cc7da24
2025-10-15 17:47:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b881c589-5065-4d9c-8995-d7184cc7da24/miniviewer.html
2025-10-15 17:47:11 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: b881c589-5065-4d9c-8995-d7184cc7da24
2025-10-15 17:47:11 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b881c589-5065-4d9c-8995-d7184cc7da24 - juriscontent generation failed
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:159 - Processing case: cc91d45b-06a0-4b73-a8b6-99b748038014 (97/216)
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for cc91d45b-06a0-4b73-a8b6-99b748038014
2025-10-15 17:47:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cc91d45b-06a0-4b73-a8b6-99b748038014/miniviewer.html
2025-10-15 17:47:12 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:12 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: cc91d45b-06a0-4b73-a8b6-99b748038014
2025-10-15 17:47:12 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for cc91d45b-06a0-4b73-a8b6-99b748038014 - juriscontent generation failed
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:159 - Processing case: 25f8b922-5d56-48ba-910e-dddc641862a1 (98/216)
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 25f8b922-5d56-48ba-910e-dddc641862a1
2025-10-15 17:47:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/25f8b922-5d56-48ba-910e-dddc641862a1/miniviewer.html
2025-10-15 17:47:12 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:12 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 25f8b922-5d56-48ba-910e-dddc641862a1
2025-10-15 17:47:12 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 25f8b922-5d56-48ba-910e-dddc641862a1 - juriscontent generation failed
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:159 - Processing case: cd7f6fa7-50f0-4eb4-b61e-9c02745dcb57 (99/216)
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for cd7f6fa7-50f0-4eb4-b61e-9c02745dcb57
2025-10-15 17:47:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cd7f6fa7-50f0-4eb4-b61e-9c02745dcb57/miniviewer.html
2025-10-15 17:47:12 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:12 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: cd7f6fa7-50f0-4eb4-b61e-9c02745dcb57
2025-10-15 17:47:12 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for cd7f6fa7-50f0-4eb4-b61e-9c02745dcb57 - juriscontent generation failed
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:159 - Processing case: c56942be-5878-4511-8844-05b6bb43461d (100/216)
2025-10-15 17:47:12 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c56942be-5878-4511-8844-05b6bb43461d
2025-10-15 17:47:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c56942be-5878-4511-8844-05b6bb43461d/miniviewer.html
2025-10-15 17:47:13 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:13 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: c56942be-5878-4511-8844-05b6bb43461d
2025-10-15 17:47:13 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for c56942be-5878-4511-8844-05b6bb43461d - juriscontent generation failed
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:159 - Processing case: 3d15421f-22b5-4207-b5d0-9344c97a77a9 (101/216)
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3d15421f-22b5-4207-b5d0-9344c97a77a9
2025-10-15 17:47:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3d15421f-22b5-4207-b5d0-9344c97a77a9/miniviewer.html
2025-10-15 17:47:13 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:13 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.24s for source_id: 3d15421f-22b5-4207-b5d0-9344c97a77a9
2025-10-15 17:47:13 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 3d15421f-22b5-4207-b5d0-9344c97a77a9 - juriscontent generation failed
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:159 - Processing case: 92010b82-c841-4fc2-b6e1-dd515512e27d (102/216)
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:13 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 92010b82-c841-4fc2-b6e1-dd515512e27d
2025-10-15 17:47:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/92010b82-c841-4fc2-b6e1-dd515512e27d/miniviewer.html
2025-10-15 17:47:14 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:14 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: 92010b82-c841-4fc2-b6e1-dd515512e27d
2025-10-15 17:47:14 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 92010b82-c841-4fc2-b6e1-dd515512e27d - juriscontent generation failed
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:159 - Processing case: 32d039e8-ab3b-406f-a6ff-ef64c50b3389 (103/216)
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 32d039e8-ab3b-406f-a6ff-ef64c50b3389
2025-10-15 17:47:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/32d039e8-ab3b-406f-a6ff-ef64c50b3389/miniviewer.html
2025-10-15 17:47:14 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:14 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 32d039e8-ab3b-406f-a6ff-ef64c50b3389
2025-10-15 17:47:14 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 32d039e8-ab3b-406f-a6ff-ef64c50b3389 - juriscontent generation failed
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:159 - Processing case: ae2c5991-f68c-4b59-af17-e2967ef58aa7 (104/216)
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:14 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ae2c5991-f68c-4b59-af17-e2967ef58aa7
2025-10-15 17:47:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ae2c5991-f68c-4b59-af17-e2967ef58aa7/miniviewer.html
2025-10-15 17:47:14 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:15 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: ae2c5991-f68c-4b59-af17-e2967ef58aa7
2025-10-15 17:47:15 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for ae2c5991-f68c-4b59-af17-e2967ef58aa7 - juriscontent generation failed
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:159 - Processing case: be21b4fc-f758-4bc8-8882-d3bb8b71aa22 (105/216)
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for be21b4fc-f758-4bc8-8882-d3bb8b71aa22
2025-10-15 17:47:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/be21b4fc-f758-4bc8-8882-d3bb8b71aa22/miniviewer.html
2025-10-15 17:47:15 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:15 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: be21b4fc-f758-4bc8-8882-d3bb8b71aa22
2025-10-15 17:47:15 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for be21b4fc-f758-4bc8-8882-d3bb8b71aa22 - juriscontent generation failed
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:159 - Processing case: 6261db24-dc29-4495-933f-ce3c779d2d26 (106/216)
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6261db24-dc29-4495-933f-ce3c779d2d26
2025-10-15 17:47:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6261db24-dc29-4495-933f-ce3c779d2d26/miniviewer.html
2025-10-15 17:47:15 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:15 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.23s for source_id: 6261db24-dc29-4495-933f-ce3c779d2d26
2025-10-15 17:47:15 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 6261db24-dc29-4495-933f-ce3c779d2d26 - juriscontent generation failed
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:159 - Processing case: 4b3e1bc0-5501-4328-b622-71003e0bf3c8 (107/216)
2025-10-15 17:47:15 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 4b3e1bc0-5501-4328-b622-71003e0bf3c8
2025-10-15 17:47:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/4b3e1bc0-5501-4328-b622-71003e0bf3c8/miniviewer.html
2025-10-15 17:47:16 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 4b3e1bc0-5501-4328-b622-71003e0bf3c8
2025-10-15 17:47:16 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 4b3e1bc0-5501-4328-b622-71003e0bf3c8 - juriscontent generation failed
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:159 - Processing case: efba152f-6d20-4c61-b744-0bbd4944d8c0 (108/216)
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for efba152f-6d20-4c61-b744-0bbd4944d8c0
2025-10-15 17:47:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/efba152f-6d20-4c61-b744-0bbd4944d8c0/miniviewer.html
2025-10-15 17:47:16 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: efba152f-6d20-4c61-b744-0bbd4944d8c0
2025-10-15 17:47:16 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for efba152f-6d20-4c61-b744-0bbd4944d8c0 - juriscontent generation failed
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:159 - Processing case: 9cec9500-e895-41a1-9908-7ac1e3d2ff9a (109/216)
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:16 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 9cec9500-e895-41a1-9908-7ac1e3d2ff9a
2025-10-15 17:47:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/9cec9500-e895-41a1-9908-7ac1e3d2ff9a/miniviewer.html
2025-10-15 17:47:17 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:17 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: 9cec9500-e895-41a1-9908-7ac1e3d2ff9a
2025-10-15 17:47:17 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 9cec9500-e895-41a1-9908-7ac1e3d2ff9a - juriscontent generation failed
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:159 - Processing case: f653fae3-0790-4947-9a24-c37a1f1ad555 (110/216)
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f653fae3-0790-4947-9a24-c37a1f1ad555
2025-10-15 17:47:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f653fae3-0790-4947-9a24-c37a1f1ad555/miniviewer.html
2025-10-15 17:47:17 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:17 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: f653fae3-0790-4947-9a24-c37a1f1ad555
2025-10-15 17:47:17 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for f653fae3-0790-4947-9a24-c37a1f1ad555 - juriscontent generation failed
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:159 - Processing case: 1a44f811-873a-4403-9ecd-1a54bb803d2b (111/216)
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 1a44f811-873a-4403-9ecd-1a54bb803d2b
2025-10-15 17:47:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1a44f811-873a-4403-9ecd-1a54bb803d2b/miniviewer.html
2025-10-15 17:47:17 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:17 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 1a44f811-873a-4403-9ecd-1a54bb803d2b
2025-10-15 17:47:17 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 1a44f811-873a-4403-9ecd-1a54bb803d2b - juriscontent generation failed
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:159 - Processing case: dc19d58f-8163-4a18-90c7-f91be0909cda (112/216)
2025-10-15 17:47:17 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for dc19d58f-8163-4a18-90c7-f91be0909cda
2025-10-15 17:47:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/dc19d58f-8163-4a18-90c7-f91be0909cda/miniviewer.html
2025-10-15 17:47:18 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:18 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: dc19d58f-8163-4a18-90c7-f91be0909cda
2025-10-15 17:47:18 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for dc19d58f-8163-4a18-90c7-f91be0909cda - juriscontent generation failed
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:159 - Processing case: a6a6bb5d-d091-4d9b-bdda-62f08b4e2463 (113/216)
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a6a6bb5d-d091-4d9b-bdda-62f08b4e2463
2025-10-15 17:47:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a6a6bb5d-d091-4d9b-bdda-62f08b4e2463/miniviewer.html
2025-10-15 17:47:18 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:18 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: a6a6bb5d-d091-4d9b-bdda-62f08b4e2463
2025-10-15 17:47:18 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for a6a6bb5d-d091-4d9b-bdda-62f08b4e2463 - juriscontent generation failed
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:159 - Processing case: 3af53973-e17d-4d92-9717-72cc55c9842b (114/216)
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:18 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 3af53973-e17d-4d92-9717-72cc55c9842b
2025-10-15 17:47:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3af53973-e17d-4d92-9717-72cc55c9842b/miniviewer.html
2025-10-15 17:47:18 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:19 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.16s for source_id: 3af53973-e17d-4d92-9717-72cc55c9842b
2025-10-15 17:47:19 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 3af53973-e17d-4d92-9717-72cc55c9842b - juriscontent generation failed
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:159 - Processing case: 94385c63-410e-418a-bbeb-1416c20d6c77 (115/216)
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 94385c63-410e-418a-bbeb-1416c20d6c77
2025-10-15 17:47:19 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/94385c63-410e-418a-bbeb-1416c20d6c77/miniviewer.html
2025-10-15 17:47:19 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:19 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 94385c63-410e-418a-bbeb-1416c20d6c77
2025-10-15 17:47:19 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 94385c63-410e-418a-bbeb-1416c20d6c77 - juriscontent generation failed
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:159 - Processing case: 4f66f05a-0dfd-45d8-ab1b-e0fd59155336 (116/216)
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 4f66f05a-0dfd-45d8-ab1b-e0fd59155336
2025-10-15 17:47:19 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/4f66f05a-0dfd-45d8-ab1b-e0fd59155336/miniviewer.html
2025-10-15 17:47:19 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:19 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.19s for source_id: 4f66f05a-0dfd-45d8-ab1b-e0fd59155336
2025-10-15 17:47:19 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 4f66f05a-0dfd-45d8-ab1b-e0fd59155336 - juriscontent generation failed
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:159 - Processing case: 01285173-2de8-45d6-8d9a-884992a383bb (117/216)
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:19 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 01285173-2de8-45d6-8d9a-884992a383bb
2025-10-15 17:47:20 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/01285173-2de8-45d6-8d9a-884992a383bb/miniviewer.html
2025-10-15 17:47:20 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:20 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 01285173-2de8-45d6-8d9a-884992a383bb
2025-10-15 17:47:20 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 01285173-2de8-45d6-8d9a-884992a383bb - juriscontent generation failed
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:159 - Processing case: 5d2cdeb8-dffb-44e9-bd31-7b87cc503a7d (118/216)
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5d2cdeb8-dffb-44e9-bd31-7b87cc503a7d
2025-10-15 17:47:20 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5d2cdeb8-dffb-44e9-bd31-7b87cc503a7d/miniviewer.html
2025-10-15 17:47:20 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:20 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.12s for source_id: 5d2cdeb8-dffb-44e9-bd31-7b87cc503a7d
2025-10-15 17:47:20 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 5d2cdeb8-dffb-44e9-bd31-7b87cc503a7d - juriscontent generation failed
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:159 - Processing case: 11b7346f-f965-440a-9ee1-cee8e2dce370 (119/216)
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 11b7346f-f965-440a-9ee1-cee8e2dce370
2025-10-15 17:47:20 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/11b7346f-f965-440a-9ee1-cee8e2dce370/miniviewer.html
2025-10-15 17:47:20 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:20 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 11b7346f-f965-440a-9ee1-cee8e2dce370
2025-10-15 17:47:20 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 11b7346f-f965-440a-9ee1-cee8e2dce370 - juriscontent generation failed
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:159 - Processing case: 2ca22597-3019-442c-8ec2-e78cf23be0ed (120/216)
2025-10-15 17:47:20 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2ca22597-3019-442c-8ec2-e78cf23be0ed
2025-10-15 17:47:21 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ca22597-3019-442c-8ec2-e78cf23be0ed/miniviewer.html
2025-10-15 17:47:21 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:21 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: 2ca22597-3019-442c-8ec2-e78cf23be0ed
2025-10-15 17:47:21 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 2ca22597-3019-442c-8ec2-e78cf23be0ed - juriscontent generation failed
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:159 - Processing case: d0518991-07f2-433b-bf3d-c17bfb51e4e5 (121/216)
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for d0518991-07f2-433b-bf3d-c17bfb51e4e5
2025-10-15 17:47:21 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d0518991-07f2-433b-bf3d-c17bfb51e4e5/miniviewer.html
2025-10-15 17:47:21 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:21 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: d0518991-07f2-433b-bf3d-c17bfb51e4e5
2025-10-15 17:47:21 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for d0518991-07f2-433b-bf3d-c17bfb51e4e5 - juriscontent generation failed
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:159 - Processing case: 6953d0fb-b799-4ad0-bdcf-09feb842163c (122/216)
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:21 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6953d0fb-b799-4ad0-bdcf-09feb842163c
2025-10-15 17:47:22 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6953d0fb-b799-4ad0-bdcf-09feb842163c/miniviewer.html
2025-10-15 17:47:22 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:22 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.23s for source_id: 6953d0fb-b799-4ad0-bdcf-09feb842163c
2025-10-15 17:47:22 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 6953d0fb-b799-4ad0-bdcf-09feb842163c - juriscontent generation failed
2025-10-15 17:47:22 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:22 - src.text_processor - INFO - process_cases:159 - Processing case: b3d081b8-18a9-4110-a200-0db74f746423 (123/216)
2025-10-15 17:47:22 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:22 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b3d081b8-18a9-4110-a200-0db74f746423
2025-10-15 17:47:22 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b3d081b8-18a9-4110-a200-0db74f746423/miniviewer.html
2025-10-15 17:47:22 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:22 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.21s for source_id: b3d081b8-18a9-4110-a200-0db74f746423
2025-10-15 17:47:22 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b3d081b8-18a9-4110-a200-0db74f746423 - juriscontent generation failed
2025-10-15 17:47:22 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:22 - src.text_processor - INFO - process_cases:159 - Processing case: c255b3a7-25ea-418a-9373-b022defba950 (124/216)
2025-10-15 17:47:22 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c255b3a7-25ea-418a-9373-b022defba950
2025-10-15 17:47:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c255b3a7-25ea-418a-9373-b022defba950/miniviewer.html
2025-10-15 17:47:23 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:23 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.19s for source_id: c255b3a7-25ea-418a-9373-b022defba950
2025-10-15 17:47:23 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for c255b3a7-25ea-418a-9373-b022defba950 - juriscontent generation failed
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:159 - Processing case: 4dc430cd-245a-445e-a4f9-4b1b76c06a53 (125/216)
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 4dc430cd-245a-445e-a4f9-4b1b76c06a53
2025-10-15 17:47:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/4dc430cd-245a-445e-a4f9-4b1b76c06a53/miniviewer.html
2025-10-15 17:47:23 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:23 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 4dc430cd-245a-445e-a4f9-4b1b76c06a53
2025-10-15 17:47:23 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 4dc430cd-245a-445e-a4f9-4b1b76c06a53 - juriscontent generation failed
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:159 - Processing case: 7f0f7091-6e76-4d19-b0ad-603fccb71b9e (126/216)
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:23 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7f0f7091-6e76-4d19-b0ad-603fccb71b9e
2025-10-15 17:47:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7f0f7091-6e76-4d19-b0ad-603fccb71b9e/miniviewer.html
2025-10-15 17:47:23 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:24 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 7f0f7091-6e76-4d19-b0ad-603fccb71b9e
2025-10-15 17:47:24 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 7f0f7091-6e76-4d19-b0ad-603fccb71b9e - juriscontent generation failed
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:159 - Processing case: 8a7273dd-0c20-41f3-9962-32e4023718ce (127/216)
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 8a7273dd-0c20-41f3-9962-32e4023718ce
2025-10-15 17:47:24 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/8a7273dd-0c20-41f3-9962-32e4023718ce/miniviewer.html
2025-10-15 17:47:24 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:24 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 8a7273dd-0c20-41f3-9962-32e4023718ce
2025-10-15 17:47:24 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 8a7273dd-0c20-41f3-9962-32e4023718ce - juriscontent generation failed
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:159 - Processing case: 4b5ca8ae-334e-43b6-8b36-f58dc2ebbcff (128/216)
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 4b5ca8ae-334e-43b6-8b36-f58dc2ebbcff
2025-10-15 17:47:24 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/4b5ca8ae-334e-43b6-8b36-f58dc2ebbcff/miniviewer.html
2025-10-15 17:47:24 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:24 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.14s for source_id: 4b5ca8ae-334e-43b6-8b36-f58dc2ebbcff
2025-10-15 17:47:24 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 4b5ca8ae-334e-43b6-8b36-f58dc2ebbcff - juriscontent generation failed
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:159 - Processing case: a4eac0d4-514d-4ce3-8f48-5866b6fd67b4 (129/216)
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:24 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a4eac0d4-514d-4ce3-8f48-5866b6fd67b4
2025-10-15 17:47:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a4eac0d4-514d-4ce3-8f48-5866b6fd67b4/miniviewer.html
2025-10-15 17:47:25 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:25 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.16s for source_id: a4eac0d4-514d-4ce3-8f48-5866b6fd67b4
2025-10-15 17:47:25 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for a4eac0d4-514d-4ce3-8f48-5866b6fd67b4 - juriscontent generation failed
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:159 - Processing case: ad9ecb4a-067d-4dcb-80e7-78ff7f5d083b (130/216)
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ad9ecb4a-067d-4dcb-80e7-78ff7f5d083b
2025-10-15 17:47:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ad9ecb4a-067d-4dcb-80e7-78ff7f5d083b/miniviewer.html
2025-10-15 17:47:25 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:25 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: ad9ecb4a-067d-4dcb-80e7-78ff7f5d083b
2025-10-15 17:47:25 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for ad9ecb4a-067d-4dcb-80e7-78ff7f5d083b - juriscontent generation failed
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:159 - Processing case: 09be2dc1-3282-4ac0-be43-a2a1eb116820 (131/216)
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:25 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 09be2dc1-3282-4ac0-be43-a2a1eb116820
2025-10-15 17:47:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/09be2dc1-3282-4ac0-be43-a2a1eb116820/miniviewer.html
2025-10-15 17:47:25 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:26 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 09be2dc1-3282-4ac0-be43-a2a1eb116820
2025-10-15 17:47:26 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 09be2dc1-3282-4ac0-be43-a2a1eb116820 - juriscontent generation failed
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:159 - Processing case: 70754d67-add0-4310-9f2a-1702f9850256 (132/216)
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 70754d67-add0-4310-9f2a-1702f9850256
2025-10-15 17:47:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/70754d67-add0-4310-9f2a-1702f9850256/miniviewer.html
2025-10-15 17:47:26 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:26 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 70754d67-add0-4310-9f2a-1702f9850256
2025-10-15 17:47:26 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 70754d67-add0-4310-9f2a-1702f9850256 - juriscontent generation failed
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:159 - Processing case: e797c534-d302-4d24-b74a-c49acf5ddc77 (133/216)
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for e797c534-d302-4d24-b74a-c49acf5ddc77
2025-10-15 17:47:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/e797c534-d302-4d24-b74a-c49acf5ddc77/miniviewer.html
2025-10-15 17:47:26 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:26 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.16s for source_id: e797c534-d302-4d24-b74a-c49acf5ddc77
2025-10-15 17:47:26 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for e797c534-d302-4d24-b74a-c49acf5ddc77 - juriscontent generation failed
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:159 - Processing case: 815f10d8-fcc8-41a6-ad86-f161f3add755 (134/216)
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:26 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 815f10d8-fcc8-41a6-ad86-f161f3add755
2025-10-15 17:47:27 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/815f10d8-fcc8-41a6-ad86-f161f3add755/miniviewer.html
2025-10-15 17:47:27 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:27 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.23s for source_id: 815f10d8-fcc8-41a6-ad86-f161f3add755
2025-10-15 17:47:27 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 815f10d8-fcc8-41a6-ad86-f161f3add755 - juriscontent generation failed
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:159 - Processing case: 8c3f3495-7aad-4a65-8127-d520bf2f634a (135/216)
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 8c3f3495-7aad-4a65-8127-d520bf2f634a
2025-10-15 17:47:27 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/8c3f3495-7aad-4a65-8127-d520bf2f634a/miniviewer.html
2025-10-15 17:47:27 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:27 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 8c3f3495-7aad-4a65-8127-d520bf2f634a
2025-10-15 17:47:27 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 8c3f3495-7aad-4a65-8127-d520bf2f634a - juriscontent generation failed
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:159 - Processing case: ab012148-e6d5-4aaa-8e73-dabbf4f6919a (136/216)
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:27 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ab012148-e6d5-4aaa-8e73-dabbf4f6919a
2025-10-15 17:47:27 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ab012148-e6d5-4aaa-8e73-dabbf4f6919a/miniviewer.html
2025-10-15 17:47:28 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:28 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.33s for source_id: ab012148-e6d5-4aaa-8e73-dabbf4f6919a
2025-10-15 17:47:28 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for ab012148-e6d5-4aaa-8e73-dabbf4f6919a - juriscontent generation failed
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:159 - Processing case: 2c65485f-341c-4054-bee4-0697ebc6ebf3 (137/216)
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2c65485f-341c-4054-bee4-0697ebc6ebf3
2025-10-15 17:47:28 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2c65485f-341c-4054-bee4-0697ebc6ebf3/miniviewer.html
2025-10-15 17:47:28 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:28 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.16s for source_id: 2c65485f-341c-4054-bee4-0697ebc6ebf3
2025-10-15 17:47:28 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 2c65485f-341c-4054-bee4-0697ebc6ebf3 - juriscontent generation failed
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:159 - Processing case: 5082a207-70e1-4c3b-9fd6-4846259139ff (138/216)
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5082a207-70e1-4c3b-9fd6-4846259139ff
2025-10-15 17:47:28 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5082a207-70e1-4c3b-9fd6-4846259139ff/miniviewer.html
2025-10-15 17:47:28 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:28 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: 5082a207-70e1-4c3b-9fd6-4846259139ff
2025-10-15 17:47:28 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 5082a207-70e1-4c3b-9fd6-4846259139ff - juriscontent generation failed
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:159 - Processing case: 7522ea14-2cc7-41ef-b887-761e138c65dd (139/216)
2025-10-15 17:47:28 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:29 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7522ea14-2cc7-41ef-b887-761e138c65dd
2025-10-15 17:47:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7522ea14-2cc7-41ef-b887-761e138c65dd/miniviewer.html
2025-10-15 17:47:29 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:29 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: 7522ea14-2cc7-41ef-b887-761e138c65dd
2025-10-15 17:47:29 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 7522ea14-2cc7-41ef-b887-761e138c65dd - juriscontent generation failed
2025-10-15 17:47:29 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:29 - src.text_processor - INFO - process_cases:159 - Processing case: 1602ab46-be6d-465a-88be-2a7907a09061 (140/216)
2025-10-15 17:47:29 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:29 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 1602ab46-be6d-465a-88be-2a7907a09061
2025-10-15 17:47:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1602ab46-be6d-465a-88be-2a7907a09061/miniviewer.html
2025-10-15 17:47:29 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:30 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.32s for source_id: 1602ab46-be6d-465a-88be-2a7907a09061
2025-10-15 17:47:30 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 1602ab46-be6d-465a-88be-2a7907a09061 - juriscontent generation failed
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:159 - Processing case: c25b5a3b-ca7e-438c-b5ca-883e86b52b0c (141/216)
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c25b5a3b-ca7e-438c-b5ca-883e86b52b0c
2025-10-15 17:47:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c25b5a3b-ca7e-438c-b5ca-883e86b52b0c/miniviewer.html
2025-10-15 17:47:30 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:30 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: c25b5a3b-ca7e-438c-b5ca-883e86b52b0c
2025-10-15 17:47:30 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for c25b5a3b-ca7e-438c-b5ca-883e86b52b0c - juriscontent generation failed
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:159 - Processing case: 5441ff1f-cd49-4195-9ac4-5d0ed4e5a219 (142/216)
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5441ff1f-cd49-4195-9ac4-5d0ed4e5a219
2025-10-15 17:47:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5441ff1f-cd49-4195-9ac4-5d0ed4e5a219/miniviewer.html
2025-10-15 17:47:30 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:30 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.13s for source_id: 5441ff1f-cd49-4195-9ac4-5d0ed4e5a219
2025-10-15 17:47:30 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 5441ff1f-cd49-4195-9ac4-5d0ed4e5a219 - juriscontent generation failed
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:159 - Processing case: e4a66977-0032-4823-9374-3350960b1be8 (143/216)
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:30 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for e4a66977-0032-4823-9374-3350960b1be8
2025-10-15 17:47:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/e4a66977-0032-4823-9374-3350960b1be8/miniviewer.html
2025-10-15 17:47:31 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:31 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.17s for source_id: e4a66977-0032-4823-9374-3350960b1be8
2025-10-15 17:47:31 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for e4a66977-0032-4823-9374-3350960b1be8 - juriscontent generation failed
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:159 - Processing case: b721f937-45b7-4619-9d1b-1cb0ef41e334 (144/216)
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b721f937-45b7-4619-9d1b-1cb0ef41e334
2025-10-15 17:47:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b721f937-45b7-4619-9d1b-1cb0ef41e334/miniviewer.html
2025-10-15 17:47:31 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:31 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: b721f937-45b7-4619-9d1b-1cb0ef41e334
2025-10-15 17:47:31 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b721f937-45b7-4619-9d1b-1cb0ef41e334 - juriscontent generation failed
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:159 - Processing case: bc7f841a-8192-4d53-aba6-ed106de4adea (145/216)
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:31 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for bc7f841a-8192-4d53-aba6-ed106de4adea
2025-10-15 17:47:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/bc7f841a-8192-4d53-aba6-ed106de4adea/miniviewer.html
2025-10-15 17:47:31 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:32 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: bc7f841a-8192-4d53-aba6-ed106de4adea
2025-10-15 17:47:32 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for bc7f841a-8192-4d53-aba6-ed106de4adea - juriscontent generation failed
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:159 - Processing case: b3092ae7-cef2-4a53-af29-5479c000915b (146/216)
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for b3092ae7-cef2-4a53-af29-5479c000915b
2025-10-15 17:47:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b3092ae7-cef2-4a53-af29-5479c000915b/miniviewer.html
2025-10-15 17:47:32 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:32 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.11s for source_id: b3092ae7-cef2-4a53-af29-5479c000915b
2025-10-15 17:47:32 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for b3092ae7-cef2-4a53-af29-5479c000915b - juriscontent generation failed
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:159 - Processing case: 1a3c69c3-1755-43e3-8616-f4567446c473 (147/216)
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 1a3c69c3-1755-43e3-8616-f4567446c473
2025-10-15 17:47:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1a3c69c3-1755-43e3-8616-f4567446c473/miniviewer.html
2025-10-15 17:47:32 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:32 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: 1a3c69c3-1755-43e3-8616-f4567446c473
2025-10-15 17:47:32 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 1a3c69c3-1755-43e3-8616-f4567446c473 - juriscontent generation failed
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:159 - Processing case: cc718ab3-90bb-4711-8f05-8131cea290bb (148/216)
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:32 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for cc718ab3-90bb-4711-8f05-8131cea290bb
2025-10-15 17:47:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/cc718ab3-90bb-4711-8f05-8131cea290bb/miniviewer.html
2025-10-15 17:47:33 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:33 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.15s for source_id: cc718ab3-90bb-4711-8f05-8131cea290bb
2025-10-15 17:47:33 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for cc718ab3-90bb-4711-8f05-8131cea290bb - juriscontent generation failed
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:159 - Processing case: 82f9dd64-171e-4afe-a4b0-4a85643f97be (149/216)
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 82f9dd64-171e-4afe-a4b0-4a85643f97be
2025-10-15 17:47:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/82f9dd64-171e-4afe-a4b0-4a85643f97be/miniviewer.html
2025-10-15 17:47:33 - src.text_processor - ERROR - _generate_and_save_juriscontent:252 - ❌ Juriscontent generation FAILED: TypeError: expected string or bytes-like object
2025-10-15 17:47:33 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 0.18s for source_id: 82f9dd64-171e-4afe-a4b0-4a85643f97be
2025-10-15 17:47:33 - src.text_processor - WARNING - process_cases:190 - Skipping section extraction for 82f9dd64-171e-4afe-a4b0-4a85643f97be - juriscontent generation failed
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:159 - Processing case: 5b05cadb-1710-4154-9f8b-71fd55a772a4 (150/216)
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:47:33 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 5b05cadb-1710-4154-9f8b-71fd55a772a4
2025-10-15 17:52:04 - root - INFO - main:75 - ======================================================================
2025-10-15 17:52:04 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-15 17:52:04 - root - INFO - main:77 - Mode: both
2025-10-15 17:52:04 - root - INFO - main:78 - ======================================================================
2025-10-15 17:52:04 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-15 17:52:04 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-15 17:52:04 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-15 17:52:04 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-15 17:52:04 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-15 17:52:05 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 659d04d7-94c2-49a7-9b92-fff5679978dc
2025-10-15 17:52:05 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-15 17:52:05 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-15 17:52:05 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-15 17:52:05 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-15 17:52:05 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Purpose of this Act, Purpose of the Bill
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition
    Pattern: ^Interpretation\s*$
    Examples: Interpretation
    Pattern: ^Commencement\s*$
    Examples: Commencement
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?)
    Examples: Application of this Act, Application
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments
    Pattern: ^Preliminary\s*$
    Examples: Preliminary
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-15 17:52:05 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-15 17:52:05 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-15 17:52:05 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-15 17:52:05 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-15 17:52:05 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-15 17:52:06 - src.text_processor - INFO - process_cases:147 - Found 216 cases for all years from registry requiring processing.
2025-10-15 17:52:06 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:06 - src.text_processor - INFO - process_cases:159 - Processing case: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf (1/216)
2025-10-15 17:52:06 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:52:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/miniviewer.html
2025-10-15 17:52:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/juriscontent.html
2025-10-15 17:52:06 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 17124 bytes
2025-10-15 17:52:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.33s for source_id: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:52:07 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:52:07 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:52:07 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:07 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/section-level-content/
2025-10-15 17:52:07 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/section-level-content/
2025-10-15 17:52:07 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:07 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:52:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/juriscontent.html
2025-10-15 17:52:07 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:52:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf/section-level-content/miniviewer_1.txt
2025-10-15 17:52:07 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:08 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.97s for source_id: f5a3cb92-1613-46f4-b9f0-24f37c5f6bbf
2025-10-15 17:52:08 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:08 - src.text_processor - INFO - process_cases:159 - Processing case: 74acd788-682b-4b4d-a769-193e8302009e (2/216)
2025-10-15 17:52:08 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:08 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:52:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/miniviewer.html
2025-10-15 17:52:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/juriscontent.html
2025-10-15 17:52:08 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 25626 bytes
2025-10-15 17:52:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.25s for source_id: 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:52:08 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:52:08 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:52:08 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:08 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/section-level-content/
2025-10-15 17:52:08 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/section-level-content/
2025-10-15 17:52:08 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:09 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:52:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/juriscontent.html
2025-10-15 17:52:09 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:52:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/74acd788-682b-4b4d-a769-193e8302009e/section-level-content/miniviewer_1.txt
2025-10-15 17:52:09 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:09 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.97s for source_id: 74acd788-682b-4b4d-a769-193e8302009e
2025-10-15 17:52:09 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:09 - src.text_processor - INFO - process_cases:159 - Processing case: 0d763992-f532-4fc2-9c81-b947ccd45d93 (3/216)
2025-10-15 17:52:09 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:09 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:52:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/miniviewer.html
2025-10-15 17:52:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/juriscontent.html
2025-10-15 17:52:10 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 20442 bytes
2025-10-15 17:52:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.24s for source_id: 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:52:10 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:52:10 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:52:10 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:10 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/section-level-content/
2025-10-15 17:52:10 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/section-level-content/
2025-10-15 17:52:10 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:10 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:52:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/juriscontent.html
2025-10-15 17:52:11 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:52:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0d763992-f532-4fc2-9c81-b947ccd45d93/section-level-content/miniviewer_1.txt
2025-10-15 17:52:11 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:11 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.06s for source_id: 0d763992-f532-4fc2-9c81-b947ccd45d93
2025-10-15 17:52:11 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:11 - src.text_processor - INFO - process_cases:159 - Processing case: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a (4/216)
2025-10-15 17:52:11 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:11 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:52:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/miniviewer.html
2025-10-15 17:52:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/juriscontent.html
2025-10-15 17:52:11 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 51260 bytes
2025-10-15 17:52:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.34s for source_id: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:52:11 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:52:12 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:52:12 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:12 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/section-level-content/
2025-10-15 17:52:12 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/section-level-content/
2025-10-15 17:52:12 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:12 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:52:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/juriscontent.html
2025-10-15 17:52:12 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:52:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a/section-level-content/miniviewer_1.txt
2025-10-15 17:52:12 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:13 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.01s for source_id: fbfb6ba4-e0ed-4d9d-a1e2-616e676db82a
2025-10-15 17:52:13 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:13 - src.text_processor - INFO - process_cases:159 - Processing case: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81 (5/216)
2025-10-15 17:52:13 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:13 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:52:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/miniviewer.html
2025-10-15 17:52:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/juriscontent.html
2025-10-15 17:52:13 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 20182 bytes
2025-10-15 17:52:13 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:52:13 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:52:13 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:52:13 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:13 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/section-level-content/
2025-10-15 17:52:13 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/section-level-content/
2025-10-15 17:52:13 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:14 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:52:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/juriscontent.html
2025-10-15 17:52:14 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:52:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/95e8b53a-76fd-43b2-b90c-b2c09e6d6a81/section-level-content/miniviewer_1.txt
2025-10-15 17:52:14 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:14 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.11s for source_id: 95e8b53a-76fd-43b2-b90c-b2c09e6d6a81
2025-10-15 17:52:14 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:14 - src.text_processor - INFO - process_cases:159 - Processing case: ae9a6b0f-6889-425d-baff-397d06079106 (6/216)
2025-10-15 17:52:14 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:14 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:52:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ae9a6b0f-6889-425d-baff-397d06079106/miniviewer.html
2025-10-15 17:52:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ae9a6b0f-6889-425d-baff-397d06079106/juriscontent.html
2025-10-15 17:52:15 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 15959 bytes
2025-10-15 17:52:15 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:52:15 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:52:15 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:52:15 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:15 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/ae9a6b0f-6889-425d-baff-397d06079106/section-level-content/
2025-10-15 17:52:15 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/ae9a6b0f-6889-425d-baff-397d06079106/section-level-content/
2025-10-15 17:52:15 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:16 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:52:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ae9a6b0f-6889-425d-baff-397d06079106/juriscontent.html
2025-10-15 17:52:16 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:52:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ae9a6b0f-6889-425d-baff-397d06079106/section-level-content/miniviewer_1.txt
2025-10-15 17:52:16 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:16 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.10s for source_id: ae9a6b0f-6889-425d-baff-397d06079106
2025-10-15 17:52:16 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:16 - src.text_processor - INFO - process_cases:159 - Processing case: 362e186c-5152-4164-84e5-05f7ef300c83 (7/216)
2025-10-15 17:52:16 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:16 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:52:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/362e186c-5152-4164-84e5-05f7ef300c83/miniviewer.html
2025-10-15 17:52:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/362e186c-5152-4164-84e5-05f7ef300c83/juriscontent.html
2025-10-15 17:52:16 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 18229 bytes
2025-10-15 17:52:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:52:16 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:52:17 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:52:17 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:17 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/362e186c-5152-4164-84e5-05f7ef300c83/section-level-content/
2025-10-15 17:52:17 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/362e186c-5152-4164-84e5-05f7ef300c83/section-level-content/
2025-10-15 17:52:17 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:17 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:52:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/362e186c-5152-4164-84e5-05f7ef300c83/juriscontent.html
2025-10-15 17:52:17 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:52:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/362e186c-5152-4164-84e5-05f7ef300c83/section-level-content/miniviewer_1.txt
2025-10-15 17:52:18 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:18 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.14s for source_id: 362e186c-5152-4164-84e5-05f7ef300c83
2025-10-15 17:52:18 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:18 - src.text_processor - INFO - process_cases:159 - Processing case: 97516cbc-54cd-4434-8630-611e9b87e204 (8/216)
2025-10-15 17:52:18 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:18 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:52:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/97516cbc-54cd-4434-8630-611e9b87e204/miniviewer.html
2025-10-15 17:52:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97516cbc-54cd-4434-8630-611e9b87e204/juriscontent.html
2025-10-15 17:52:18 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 16218 bytes
2025-10-15 17:52:18 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.24s for source_id: 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:52:18 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:52:18 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:52:18 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:52:18 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/97516cbc-54cd-4434-8630-611e9b87e204/section-level-content/
2025-10-15 17:52:18 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/97516cbc-54cd-4434-8630-611e9b87e204/section-level-content/
2025-10-15 17:52:18 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:52:19 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:52:19 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/97516cbc-54cd-4434-8630-611e9b87e204/juriscontent.html
2025-10-15 17:52:19 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:52:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97516cbc-54cd-4434-8630-611e9b87e204/section-level-content/miniviewer_1.txt
2025-10-15 17:52:19 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:52:20 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.27s for source_id: 97516cbc-54cd-4434-8630-611e9b87e204
2025-10-15 17:52:20 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:52:20 - src.text_processor - INFO - process_cases:159 - Processing case: 2f720187-4bd5-4f96-8578-0614e2ae832d (9/216)
2025-10-15 17:52:20 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:52:20 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2f720187-4bd5-4f96-8578-0614e2ae832d
2025-10-15 17:52:20 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2f720187-4bd5-4f96-8578-0614e2ae832d/miniviewer.html
2025-10-15 17:52:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2f720187-4bd5-4f96-8578-0614e2ae832d/juriscontent.html
2025-10-15 17:52:20 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 15723 bytes
2025-10-15 17:52:20 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 2f720187-4bd5-4f96-8578-0614e2ae832d
2025-10-15 17:52:20 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 2f720187-4bd5-4f96-8578-0614e2ae832d
2025-10-15 17:52:20 - sqlalchemy.pool.impl.QueuePool - ERROR - _finalize_fairy:1010 - Exception during reset or similar
Traceback (most recent call last):
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 988, in _finalize_fairy
    fairy._reset(
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1438, in _reset
    pool._dialect.do_rollback(self)
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "/opt/anaconda3/envs/juristab/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 611, in rollback
    self._cmysql.rollback()
KeyboardInterrupt
2025-10-15 17:59:04 - root - INFO - main:75 - ======================================================================
2025-10-15 17:59:04 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-15 17:59:04 - root - INFO - main:77 - Mode: both
2025-10-15 17:59:04 - root - INFO - main:78 - ======================================================================
2025-10-15 17:59:04 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-15 17:59:04 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-15 17:59:04 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-15 17:59:04 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-15 17:59:04 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-15 17:59:05 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: f0bb40b3-4821-4e79-8e06-15199ffd8e1c
2025-10-15 17:59:05 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-15 17:59:05 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-15 17:59:05 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-15 17:59:05 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-15 17:59:05 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Purpose of this Act, Purpose of the Bill, Purpose of this Policy
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition, DEFINITIONS
    Pattern: ^Interpretation\s*$
    Examples: Interpretation, INTERPRETATION
    Pattern: ^Dictionary\s*$
    Examples: Dictionary, DICTIONARY
    Pattern: ^Commencement\s*$
    Examples: Commencement, COMMENCEMENT
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Application of this Act, Application, Application of this Policy
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision, TRANSITIONAL PROVISIONS
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision, SAVINGS PROVISIONS
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments, REPEALS AND AMENDMENTS
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments, Consequential amendment
    Pattern: ^Preliminary\s*$
    Examples: Preliminary, PRELIMINARY
    Pattern: ^Citation\s*$
    Examples: Citation, CITATION
    Pattern: ^Short\s+title\s*$
    Examples: Short title, SHORT TITLE
    Pattern: ^Name\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Name of this Act, Name of Act, Name of this Policy
    Pattern: ^Title\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Title of this Act, Title
    Pattern: ^Principal\s+(Act|Bill|Regulation|Rules?|Policy)
    Examples: Principal Policy, Principal Act, Principal Regulation
    Pattern: ^Aims?(,\s+objectives?(\s+etc\.?)?)?.*$
    Examples: Aims, Aims, objectives etc., Aim of this Policy
    Pattern: ^Objectives?\s*$
    Examples: Objectives, Objective, OBJECTIVES
    Pattern: ^Amendment(s)?\s+(of|to)\s+
    Examples: Amendment of Principal Policy, Amendments to the Act, Amendment of Act
    Pattern: ^Amendment(s)?\s*$
    Examples: Amendments, Amendment
    Pattern: ^Schedules?\s*$
    Examples: Schedule, Schedules, SCHEDULE
    Pattern: ^Notes?\s*$
    Examples: Notes, Note, NOTES
    Pattern: ^Contents?\s*$
    Examples: Contents, Content
    Pattern: ^Table\s+of\s+contents?\s*$
    Examples: Table of Contents, Table of contents
    Pattern: ^Penalties?\s*$
    Examples: Penalties, Penalty
    Pattern: ^Offences?\s*$
    Examples: Offences, Offence
    Pattern: ^Enforcement\s*$
    Examples: Enforcement, ENFORCEMENT
    Pattern: ^Administration\s*$
    Examples: Administration, ADMINISTRATION
    Pattern: ^Miscellaneous\s*$
    Examples: Miscellaneous, MISCELLANEOUS
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
    Pattern: ^\d{1,3}[A-Z]?\.\s+\w
    Examples: 1. This Act, 2. Definitions, 3. Purpose
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-15 17:59:05 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:147 - Found 207 cases for all years from registry requiring processing.
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:159 - Processing case: dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b (1/207)
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:59:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:59:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/miniviewer.html
2025-10-15 17:59:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/juriscontent.html
2025-10-15 17:59:07 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 15743 bytes
2025-10-15 17:59:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.36s for source_id: dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:59:07 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:59:07 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:59:07 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:59:07 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/section-level-content/
2025-10-15 17:59:07 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/section-level-content/
2025-10-15 17:59:07 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:59:08 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:59:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/juriscontent.html
2025-10-15 17:59:08 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 2 sections from dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:59:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/section-level-content/miniviewer_1.txt
2025-10-15 17:59:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b/section-level-content/miniviewer_2.txt
2025-10-15 17:59:08 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 2 sections saved
2025-10-15 17:59:08 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.15s for source_id: dd4e93e6-7e9b-40c4-ae89-cc22a31ead7b
2025-10-15 17:59:08 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:59:08 - src.text_processor - INFO - process_cases:159 - Processing case: a6fe08d6-e6d4-4e81-ae70-ecb862760fac (2/207)
2025-10-15 17:59:08 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:59:08 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:59:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/miniviewer.html
2025-10-15 17:59:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/juriscontent.html
2025-10-15 17:59:09 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 18391 bytes
2025-10-15 17:59:09 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.26s for source_id: a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:59:09 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:59:09 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:59:09 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:59:09 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/section-level-content/
2025-10-15 17:59:09 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/section-level-content/
2025-10-15 17:59:09 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:59:09 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:59:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/juriscontent.html
2025-10-15 17:59:09 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 2 sections from a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:59:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/section-level-content/miniviewer_1.txt
2025-10-15 17:59:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a6fe08d6-e6d4-4e81-ae70-ecb862760fac/section-level-content/miniviewer_2.txt
2025-10-15 17:59:10 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 2 sections saved
2025-10-15 17:59:10 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.14s for source_id: a6fe08d6-e6d4-4e81-ae70-ecb862760fac
2025-10-15 17:59:10 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:59:10 - src.text_processor - INFO - process_cases:159 - Processing case: 7176b613-1c2d-4b19-b7d2-57da166a33a8 (3/207)
2025-10-15 17:59:10 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:59:10 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:59:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7176b613-1c2d-4b19-b7d2-57da166a33a8/miniviewer.html
2025-10-15 17:59:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7176b613-1c2d-4b19-b7d2-57da166a33a8/juriscontent.html
2025-10-15 17:59:10 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 18924 bytes
2025-10-15 17:59:10 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:59:10 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:59:10 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:59:10 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:59:11 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/7176b613-1c2d-4b19-b7d2-57da166a33a8/section-level-content/
2025-10-15 17:59:11 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/7176b613-1c2d-4b19-b7d2-57da166a33a8/section-level-content/
2025-10-15 17:59:11 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:59:11 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:59:11 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7176b613-1c2d-4b19-b7d2-57da166a33a8/juriscontent.html
2025-10-15 17:59:11 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:59:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7176b613-1c2d-4b19-b7d2-57da166a33a8/section-level-content/miniviewer_1.txt
2025-10-15 17:59:11 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-15 17:59:12 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.06s for source_id: 7176b613-1c2d-4b19-b7d2-57da166a33a8
2025-10-15 17:59:12 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:59:12 - src.text_processor - INFO - process_cases:159 - Processing case: 52aa3842-c31a-4861-9d33-634242daf517 (4/207)
2025-10-15 17:59:12 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:59:12 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:59:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/miniviewer.html
2025-10-15 17:59:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/juriscontent.html
2025-10-15 17:59:12 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 15032 bytes
2025-10-15 17:59:12 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.28s for source_id: 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:59:12 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:59:12 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:59:12 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:59:12 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/section-level-content/
2025-10-15 17:59:12 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/section-level-content/
2025-10-15 17:59:12 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:59:13 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:59:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/juriscontent.html
2025-10-15 17:59:13 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 3 sections from 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:59:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/section-level-content/miniviewer_1.txt
2025-10-15 17:59:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/section-level-content/miniviewer_2.txt
2025-10-15 17:59:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/52aa3842-c31a-4861-9d33-634242daf517/section-level-content/miniviewer_3.txt
2025-10-15 17:59:13 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-15 17:59:14 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.32s for source_id: 52aa3842-c31a-4861-9d33-634242daf517
2025-10-15 17:59:14 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:59:14 - src.text_processor - INFO - process_cases:159 - Processing case: 08c15517-d78a-486b-85b3-e8615541804f (5/207)
2025-10-15 17:59:14 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:59:14 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:59:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/miniviewer.html
2025-10-15 17:59:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/juriscontent.html
2025-10-15 17:59:14 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 25341 bytes
2025-10-15 17:59:14 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.30s for source_id: 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:59:14 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:59:14 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:59:14 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:59:14 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/section-level-content/
2025-10-15 17:59:14 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/section-level-content/
2025-10-15 17:59:14 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:59:15 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:59:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/juriscontent.html
2025-10-15 17:59:15 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 3 sections from 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:59:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/section-level-content/miniviewer_1.txt
2025-10-15 17:59:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/section-level-content/miniviewer_2.txt
2025-10-15 17:59:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/08c15517-d78a-486b-85b3-e8615541804f/section-level-content/miniviewer_3.txt
2025-10-15 17:59:15 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-15 17:59:16 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.39s for source_id: 08c15517-d78a-486b-85b3-e8615541804f
2025-10-15 17:59:16 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-15 17:59:16 - src.text_processor - INFO - process_cases:159 - Processing case: c24ec7ba-1430-4bde-bdb6-e642223d0eeb (6/207)
2025-10-15 17:59:16 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-15 17:59:16 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for c24ec7ba-1430-4bde-bdb6-e642223d0eeb
2025-10-15 17:59:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c24ec7ba-1430-4bde-bdb6-e642223d0eeb/miniviewer.html
2025-10-15 17:59:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c24ec7ba-1430-4bde-bdb6-e642223d0eeb/juriscontent.html
2025-10-15 17:59:16 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 17064 bytes
2025-10-15 17:59:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.28s for source_id: c24ec7ba-1430-4bde-bdb6-e642223d0eeb
2025-10-15 17:59:16 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for c24ec7ba-1430-4bde-bdb6-e642223d0eeb
2025-10-15 17:59:16 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: c24ec7ba-1430-4bde-bdb6-e642223d0eeb
2025-10-15 17:59:16 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-15 17:59:16 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/c24ec7ba-1430-4bde-bdb6-e642223d0eeb/section-level-content/
2025-10-15 17:59:16 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/c24ec7ba-1430-4bde-bdb6-e642223d0eeb/section-level-content/
2025-10-15 17:59:16 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-15 17:59:17 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: c24ec7ba-1430-4bde-bdb6-e642223d0eeb
2025-10-16 08:31:00 - root - INFO - main:75 - ======================================================================
2025-10-16 08:31:00 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 08:31:00 - root - INFO - main:77 - Mode: both
2025-10-16 08:31:00 - root - INFO - main:78 - ======================================================================
2025-10-16 08:31:00 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-16 08:31:00 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-16 08:31:00 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 08:31:00 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-16 08:31:00 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 08:31:01 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 53b77fea-220e-468a-a52c-dad81dd5ed29
2025-10-16 08:31:01 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-16 08:31:01 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 08:31:01 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 08:31:01 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-16 08:31:01 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Purpose of this Act, Purpose of the Bill, Purpose of this Policy
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition, DEFINITIONS
    Pattern: ^Interpretation\s*$
    Examples: Interpretation, INTERPRETATION
    Pattern: ^Dictionary\s*$
    Examples: Dictionary, DICTIONARY
    Pattern: ^Commencement\s*$
    Examples: Commencement, COMMENCEMENT
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Application of this Act, Application, Application of this Policy
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision, TRANSITIONAL PROVISIONS
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision, SAVINGS PROVISIONS
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments, REPEALS AND AMENDMENTS
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments, Consequential amendment
    Pattern: ^Preliminary\s*$
    Examples: Preliminary, PRELIMINARY
    Pattern: ^Citation\s*$
    Examples: Citation, CITATION
    Pattern: ^Short\s+title\s*$
    Examples: Short title, SHORT TITLE
    Pattern: ^Name\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Name of this Act, Name of Act, Name of this Policy
    Pattern: ^Title\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Title of this Act, Title
    Pattern: ^Principal\s+(Act|Bill|Regulation|Rules?|Policy)
    Examples: Principal Policy, Principal Act, Principal Regulation
    Pattern: ^Aims?(,\s+objectives?(\s+etc\.?)?)?.*$
    Examples: Aims, Aims, objectives etc., Aim of this Policy
    Pattern: ^Objectives?\s*$
    Examples: Objectives, Objective, OBJECTIVES
    Pattern: ^Amendment(s)?\s+(of|to)\s+
    Examples: Amendment of Principal Policy, Amendments to the Act, Amendment of Act
    Pattern: ^Amendment(s)?\s*$
    Examples: Amendments, Amendment
    Pattern: ^Schedules?\s*$
    Examples: Schedule, Schedules, SCHEDULE
    Pattern: ^Notes?\s*$
    Examples: Notes, Note, NOTES
    Pattern: ^Contents?\s*$
    Examples: Contents, Content
    Pattern: ^Table\s+of\s+contents?\s*$
    Examples: Table of Contents, Table of contents
    Pattern: ^Penalties?\s*$
    Examples: Penalties, Penalty
    Pattern: ^Offences?\s*$
    Examples: Offences, Offence
    Pattern: ^Enforcement\s*$
    Examples: Enforcement, ENFORCEMENT
    Pattern: ^Administration\s*$
    Examples: Administration, ADMINISTRATION
    Pattern: ^Miscellaneous\s*$
    Examples: Miscellaneous, MISCELLANEOUS
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
    Pattern: ^\d{1,3}[A-Z]?\.\s+\w
    Examples: 1. This Act, 2. Definitions, 3. Purpose
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-16 08:31:01 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:147 - Found 201 cases for all years from registry requiring processing.
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:159 - Processing case: fea3ada0-6490-438d-9e7b-feaaf03cec24 (1/201)
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-16 08:31:02 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-16 08:31:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/miniviewer.html
2025-10-16 08:31:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/juriscontent.html
2025-10-16 08:31:03 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 19703 bytes
2025-10-16 08:31:03 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.36s for source_id: fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-16 08:31:03 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-16 08:31:03 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-16 08:31:03 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-16 08:31:03 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/section-level-content/
2025-10-16 08:31:03 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/section-level-content/
2025-10-16 08:31:03 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-16 08:31:03 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-16 08:31:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/juriscontent.html
2025-10-16 08:31:03 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 3 sections from fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-16 08:31:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/section-level-content/miniviewer_1.txt
2025-10-16 08:31:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/section-level-content/miniviewer_2.txt
2025-10-16 08:31:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fea3ada0-6490-438d-9e7b-feaaf03cec24/section-level-content/miniviewer_3.txt
2025-10-16 08:31:04 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 08:31:04 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.26s for source_id: fea3ada0-6490-438d-9e7b-feaaf03cec24
2025-10-16 08:31:04 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-16 08:31:04 - src.text_processor - INFO - process_cases:159 - Processing case: 6b79c830-9854-40aa-8421-29ba67fc6633 (2/201)
2025-10-16 08:31:04 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-16 08:31:04 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-16 08:31:04 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/miniviewer.html
2025-10-16 08:31:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/juriscontent.html
2025-10-16 08:31:04 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 27548 bytes
2025-10-16 08:31:05 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.23s for source_id: 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-16 08:31:05 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-16 08:31:05 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-16 08:31:05 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-16 08:31:05 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/section-level-content/
2025-10-16 08:31:05 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/section-level-content/
2025-10-16 08:31:05 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-16 08:31:05 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-16 08:31:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/juriscontent.html
2025-10-16 08:31:05 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 3 sections from 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-16 08:31:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/section-level-content/miniviewer_1.txt
2025-10-16 08:31:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/section-level-content/miniviewer_2.txt
2025-10-16 08:31:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6b79c830-9854-40aa-8421-29ba67fc6633/section-level-content/miniviewer_3.txt
2025-10-16 08:31:06 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 08:31:06 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.25s for source_id: 6b79c830-9854-40aa-8421-29ba67fc6633
2025-10-16 08:31:06 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-16 08:31:06 - src.text_processor - INFO - process_cases:159 - Processing case: ecca6fcb-26c8-469c-a437-491c840b2e37 (3/201)
2025-10-16 08:31:06 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-16 08:31:06 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-16 08:31:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ecca6fcb-26c8-469c-a437-491c840b2e37/miniviewer.html
2025-10-16 08:31:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/ecca6fcb-26c8-469c-a437-491c840b2e37/juriscontent.html
2025-10-16 08:31:06 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 19022 bytes
2025-10-16 08:31:06 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.22s for source_id: ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-16 08:31:06 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-16 08:31:06 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-16 08:31:06 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-16 08:31:06 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/ecca6fcb-26c8-469c-a437-491c840b2e37/section-level-content/
2025-10-16 08:31:06 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/ecca6fcb-26c8-469c-a437-491c840b2e37/section-level-content/
2025-10-16 08:31:06 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-16 08:31:07 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-16 08:31:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/ecca6fcb-26c8-469c-a437-491c840b2e37/juriscontent.html
2025-10-16 08:31:07 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 3 sections from ecca6fcb-26c8-469c-a437-491c840b2e37
2025-10-16 08:38:19 - root - INFO - main:75 - ======================================================================
2025-10-16 08:38:19 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 08:38:19 - root - INFO - main:77 - Mode: both
2025-10-16 08:38:19 - root - INFO - main:78 - ======================================================================
2025-10-16 08:38:19 - utils.config_manager - INFO - _load_environment_variables:50 - Loading environment variables from: .env
2025-10-16 08:38:19 - utils.config_manager - INFO - _validate_required_env_vars:66 - All required environment variables are set.
2025-10-16 08:38:19 - utils.config_manager - INFO - _load_yaml_config:78 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 08:38:19 - utils.config_manager - INFO - _validate_config_structure:102 - Configuration structure validation passed.
2025-10-16 08:38:19 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 08:38:20 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 798c8e1d-dace-4509-90db-f520ba2b610d
2025-10-16 08:38:20 - src.text_processor - INFO - __init__:35 - Successfully loaded headless HTML processing rules.
2025-10-16 08:38:20 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 08:38:20 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 08:38:20 - src.text_processor - INFO - __init__:59 - Heading Hierarchy Rules loaded:
2025-10-16 08:38:20 - src.text_processor - INFO - __init__:60 - Heading Hierarchy Rules Summary:
  top_level_structures -> h1 (priority: 100)
    Pattern: ^Chapter\s+\d+[A-Z]*
    Examples: Chapter 1, Chapter 2A, CHAPTER 10
    Pattern: ^Part\s+\d+[A-Z]*\s*$
    Examples: Part 1, Part 2A, Part 10B
    Pattern: ^Part\s+\d+[A-Z]*\s+[A-Z]
    Examples: Part 1 Preliminary, Part 2A Introduction
    Pattern: ^Book\s+\d+
    Examples: Book 1, Book 2
    Pattern: ^Title\s+\d+
    Examples: Title 1, Title 2
    Pattern: ^Schedule\s+\d+[A-Z]*
    Examples: Schedule 1, Schedule 2A, SCHEDULE 5
    Pattern: ^Appendix\s+[A-Z0-9]+
    Examples: Appendix A, Appendix 1, APPENDIX B
  major_sections -> h2 (priority: 90)
    Pattern: ^Division\s+\d+[A-Z]*
    Examples: Division 1, Division 2A, DIVISION 5
    Pattern: ^Section\s+\d+[A-Z]*
    Examples: Section 1, Section 25A, Section 100
    Pattern: ^Subdivision\s+[A-Z0-9]+
    Examples: Subdivision A, Subdivision 1, SUBDIVISION B
    Pattern: ^Clause\s+\d+[A-Z]*
    Examples: Clause 1, Clause 15A, CLAUSE 20
    Pattern: ^Article\s+\d+[A-Z]*
    Examples: Article 1, Article 5A
    Pattern: ^Regulation\s+\d+[A-Z]*
    Examples: Regulation 1, Regulation 25A
    Pattern: ^Rule\s+\d+[A-Z]*
    Examples: Rule 1, Rule 10A
  special_provisions -> h2 (priority: 85)
    Pattern: ^Objects?\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Objects of this Act, Object of the Bill, Objects of this Regulation
    Pattern: ^Purpose\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Purpose of this Act, Purpose of the Bill, Purpose of this Policy
    Pattern: ^Definitions?\s*$
    Examples: Definitions, Definition, DEFINITIONS
    Pattern: ^Interpretation\s*$
    Examples: Interpretation, INTERPRETATION
    Pattern: ^Dictionary\s*$
    Examples: Dictionary, DICTIONARY
    Pattern: ^Commencement\s*$
    Examples: Commencement, COMMENCEMENT
    Pattern: ^Application\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Application of this Act, Application, Application of this Policy
    Pattern: ^Transitional\s+provisions?
    Examples: Transitional provisions, Transitional provision, TRANSITIONAL PROVISIONS
    Pattern: ^Savings?\s+provisions?
    Examples: Savings provisions, Saving provision, SAVINGS PROVISIONS
    Pattern: ^Repeals?\s+(and\s+amendments?)?
    Examples: Repeals, Repeal and amendments, REPEALS AND AMENDMENTS
    Pattern: ^Consequential\s+amendments?
    Examples: Consequential amendments, Consequential amendment
    Pattern: ^Preliminary\s*$
    Examples: Preliminary, PRELIMINARY
    Pattern: ^Citation\s*$
    Examples: Citation, CITATION
    Pattern: ^Short\s+title\s*$
    Examples: Short title, SHORT TITLE
    Pattern: ^Name\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Name of this Act, Name of Act, Name of this Policy
    Pattern: ^Title\s+(of\s+)?(this\s+)?(Act|Bill|Regulation|Rules?|Policy)
    Examples: Title of this Act, Title
    Pattern: ^Principal\s+(Act|Bill|Regulation|Rules?|Policy)
    Examples: Principal Policy, Principal Act, Principal Regulation
    Pattern: ^Aims?(,\s+objectives?(\s+etc\.?)?)?.*$
    Examples: Aims, Aims, objectives etc., Aim of this Policy
    Pattern: ^Objectives?\s*$
    Examples: Objectives, Objective, OBJECTIVES
    Pattern: ^Amendment(s)?\s+(of|to)\s+
    Examples: Amendment of Principal Policy, Amendments to the Act, Amendment of Act
    Pattern: ^Amendment(s)?\s*$
    Examples: Amendments, Amendment
    Pattern: ^Schedules?\s*$
    Examples: Schedule, Schedules, SCHEDULE
    Pattern: ^Notes?\s*$
    Examples: Notes, Note, NOTES
    Pattern: ^Contents?\s*$
    Examples: Contents, Content
    Pattern: ^Table\s+of\s+contents?\s*$
    Examples: Table of Contents, Table of contents
    Pattern: ^Penalties?\s*$
    Examples: Penalties, Penalty
    Pattern: ^Offences?\s*$
    Examples: Offences, Offence
    Pattern: ^Enforcement\s*$
    Examples: Enforcement, ENFORCEMENT
    Pattern: ^Administration\s*$
    Examples: Administration, ADMINISTRATION
    Pattern: ^Miscellaneous\s*$
    Examples: Miscellaneous, MISCELLANEOUS
  sub_sections -> h3 (priority: 80)
    Pattern: ^Subsection\s+\d+[A-Z]*
    Examples: Subsection 1, Subsection 2A
    Pattern: ^Subclause\s+\d+[A-Z]*
    Examples: Subclause 1, Subclause 5A
    Pattern: ^Subrule\s+\d+[A-Z]*
    Examples: Subrule 1, Subrule 3A
    Pattern: ^Subregulation\s+\d+[A-Z]*
    Examples: Subregulation 1, Subregulation 2A
    Pattern: ^Item\s+\d+[A-Z]*
    Examples: Item 1, Item 25A, ITEM 100
  numbered_sections -> h3 (priority: 75)
    Pattern: ^\d{1,3}[A-Z]?\s+\w
    Examples: 1 Name of Act, 2 Commencement, 2A Proceedings
    Pattern: ^\d{1,3}\s+[A-Z]
    Examples: 1 Name, 2 Commencement, 25 Application
    Pattern: ^\d{1,3}[A-Z]?\.\s+\w
    Examples: 1. This Act, 2. Definitions, 3. Purpose
  detailed_provisions -> h4 (priority: 70)
    Pattern: ^Paragraph\s+\d+[A-Z]*
    Examples: Paragraph 1, Paragraph 5A
    Pattern: ^Subparagraph\s+\d+[A-Z]*
    Examples: Subparagraph 1, Subparagraph 2A
    Pattern: ^Subitem\s+\d+[A-Z]*
    Examples: Subitem 1, Subitem 3A
2025-10-16 08:38:20 - src.text_processor - INFO - process_cases:91 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 08:38:20 - src.text_processor - INFO - process_cases:108 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 08:38:20 - src.text_processor - INFO - process_cases:109 - Processing mode: Juriscontent + Sections = True
2025-10-16 08:38:20 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-16 08:38:20 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-16 08:38:21 - src.text_processor - INFO - process_cases:147 - Found 198 cases for all years from registry requiring processing.
2025-10-16 08:38:21 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-16 08:38:21 - src.text_processor - INFO - process_cases:159 - Processing case: 2ce72800-6643-43a7-b54b-252c3950c31e (1/198)
2025-10-16 08:38:21 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-16 08:38:21 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-16 08:38:21 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ce72800-6643-43a7-b54b-252c3950c31e/miniviewer.html
2025-10-16 08:38:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ce72800-6643-43a7-b54b-252c3950c31e/juriscontent.html
2025-10-16 08:38:21 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 20002 bytes
2025-10-16 08:38:21 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.36s for source_id: 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-16 08:38:21 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-16 08:38:22 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-16 08:38:22 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-16 08:38:22 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/2ce72800-6643-43a7-b54b-252c3950c31e/section-level-content/
2025-10-16 08:38:22 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/2ce72800-6643-43a7-b54b-252c3950c31e/section-level-content/
2025-10-16 08:38:22 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-16 08:38:22 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-16 08:38:22 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ce72800-6643-43a7-b54b-252c3950c31e/juriscontent.html
2025-10-16 08:38:22 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 1 sections from 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-16 08:38:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ce72800-6643-43a7-b54b-252c3950c31e/section-level-content/miniviewer_1.txt
2025-10-16 08:38:22 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-16 08:38:23 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.93s for source_id: 2ce72800-6643-43a7-b54b-252c3950c31e
2025-10-16 08:38:23 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-16 08:38:23 - src.text_processor - INFO - process_cases:159 - Processing case: bca761d4-265d-4c44-bb4b-e38387c0b12b (2/198)
2025-10-16 08:38:23 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-16 08:38:23 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-16 08:38:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/miniviewer.html
2025-10-16 08:38:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/juriscontent.html
2025-10-16 08:38:23 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 30550 bytes
2025-10-16 08:38:23 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.28s for source_id: bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-16 08:38:23 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-16 08:38:23 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-16 08:38:23 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-16 08:38:23 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/
2025-10-16 08:38:23 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/
2025-10-16 08:38:23 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-16 08:38:24 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-16 08:38:24 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/juriscontent.html
2025-10-16 08:38:24 - src.text_processor - INFO - _extract_and_save_sections:297 - Extracted 7 sections from bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-16 08:38:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/miniviewer_1.txt
2025-10-16 08:38:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/miniviewer_2.txt
2025-10-16 08:38:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/miniviewer_3.txt
2025-10-16 08:38:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/miniviewer_4.txt
2025-10-16 08:38:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/miniviewer_5.txt
2025-10-16 08:38:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/miniviewer_6.txt
2025-10-16 08:38:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/bca761d4-265d-4c44-bb4b-e38387c0b12b/section-level-content/miniviewer_7.txt
2025-10-16 08:38:25 - src.text_processor - INFO - _extract_and_save_sections:325 - ✅ Section extraction SUCCESS: 7 sections saved
2025-10-16 08:38:25 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.97s for source_id: bca761d4-265d-4c44-bb4b-e38387c0b12b
2025-10-16 08:38:25 - src.text_processor - INFO - process_cases:158 - 
======================================================================
2025-10-16 08:38:25 - src.text_processor - INFO - process_cases:159 - Processing case: fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d (3/198)
2025-10-16 08:38:25 - src.text_processor - INFO - process_cases:160 - ======================================================================
2025-10-16 08:38:25 - src.text_processor - INFO - process_cases:176 - [STAGE 1] Generating juriscontent.html for fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d
2025-10-16 08:38:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d/miniviewer.html
2025-10-16 08:38:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d/juriscontent.html
2025-10-16 08:38:25 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - ✅ Juriscontent generation SUCCESS: 17896 bytes
2025-10-16 08:38:26 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.21s for source_id: fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d
2025-10-16 08:38:26 - src.text_processor - INFO - process_cases:183 - [STAGE 2] Extracting sections for fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d
2025-10-16 08:38:26 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d
2025-10-16 08:38:26 - src.text_processor - INFO - _extract_and_save_sections:280 - Checking for existing section-level-content folder...
2025-10-16 08:38:26 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d/section-level-content/
2025-10-16 08:38:26 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/fb47d3d1-bb1a-4bbe-a4ab-c628f816b80d/section-level-content/
2025-10-16 08:38:26 - src.text_processor - INFO - _extract_and_save_sections:284 - Clearing existing sections from database...
2025-10-16 09:07:56 - root - INFO - main:75 - ======================================================================
2025-10-16 09:07:56 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 09:07:56 - root - INFO - main:77 - Mode: both
2025-10-16 09:07:56 - root - INFO - main:78 - ======================================================================
2025-10-16 09:07:56 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 09:07:56 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 09:07:56 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 09:07:56 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:07:56 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 09:07:56 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 09:07:56 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 09:07:56 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: dc5dfc42-43a0-480c-af70-d4f3cfeaf637
2025-10-16 09:07:56 - utils.gemini_client - INFO - __init__:19 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:07:56 - src.gemini_heading_detector - INFO - _load_prompt:31 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 09:07:56 - src.html_transformer - INFO - __init__:39 - HtmlTransformer initialized with Gemini heading detection
2025-10-16 09:07:56 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 09:07:56 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 09:07:56 - src.text_processor - INFO - __init__:44 - TextProcessor initialized with Gemini AI heading detection capability
2025-10-16 09:07:56 - src.text_processor - INFO - process_cases:79 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 09:07:57 - src.text_processor - INFO - process_cases:98 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 09:07:57 - src.text_processor - INFO - process_cases:99 - Processing mode: Juriscontent + Sections = True
2025-10-16 09:07:57 - src.text_processor - INFO - process_cases:100 - AI-powered heading detection: ENABLED (Gemini 2.5 Pro)
2025-10-16 09:07:57 - src.text_processor - INFO - process_cases:106 - ===== Processing for All Years =====
2025-10-16 09:07:57 - src.text_processor - INFO - process_cases:115 - --- Checking Jurisdiction: NSW ---
2025-10-16 09:07:58 - src.text_processor - INFO - process_cases:142 - Found 195 cases for all years from registry requiring processing.
2025-10-16 09:07:58 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:07:58 - src.text_processor - INFO - process_cases:154 - Processing case: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48 (1/195)
2025-10-16 09:07:58 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:07:58 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:07:58 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/miniviewer.html
2025-10-16 09:07:58 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:07:58 - src.html_transformer - INFO - transform:63 - No semantic headings found. Using Gemini AI for detection.
2025-10-16 09:07:58 - src.gemini_heading_detector - INFO - detect_headings:57 - Sending HTML to Gemini for heading detection
2025-10-16 09:07:58 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:08:21 - utils.gemini_client - INFO - detect_headings:56 - Successfully received heading detection response from Gemini
2025-10-16 09:08:21 - src.gemini_heading_detector - INFO - detect_headings:77 - Successfully detected 4 headings
2025-10-16 09:08:21 - src.html_transformer - INFO - transform:82 - Applying 4 detected headings to HTML
2025-10-16 09:08:21 - src.html_transformer - INFO - transform:100 - Token usage: 2935 input, 177 output. Cost: $0.009992
2025-10-16 09:08:21 - src.text_processor - INFO - _generate_and_save_juriscontent:229 - AI Heading Detection - Tokens: 2935 input, 177 output | Cost: $0.009992
2025-10-16 09:08:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/juriscontent.html
2025-10-16 09:08:21 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✅ Juriscontent generation SUCCESS: 18314 bytes
2025-10-16 09:08:21 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 23.56s for source_id: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:22 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:22 - src.text_processor - INFO - _generate_and_save_juriscontent:265 - Token metrics saved to database for c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:22 - src.text_processor - INFO - process_cases:179 - [STAGE 2] Extracting sections for c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:22 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:22 - src.text_processor - INFO - _extract_and_save_sections:326 - Checking for existing section-level-content folder...
2025-10-16 09:08:22 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/section-level-content/
2025-10-16 09:08:22 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/section-level-content/
2025-10-16 09:08:22 - src.text_processor - INFO - _extract_and_save_sections:330 - Clearing existing sections from database...
2025-10-16 09:08:22 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:22 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/juriscontent.html
2025-10-16 09:08:22 - src.text_processor - INFO - _extract_and_save_sections:345 - Extracted 2 section(s) from c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/section-level-content/miniviewer_1.txt
2025-10-16 09:08:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c22bcb63-1d9f-4cdd-b2a9-e2c26956df48/section-level-content/miniviewer_2.txt
2025-10-16 09:08:23 - src.text_processor - INFO - _extract_and_save_sections:377 - ✅ Section extraction SUCCESS: 2 sections saved
2025-10-16 09:08:23 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.11s for source_id: c22bcb63-1d9f-4cdd-b2a9-e2c26956df48
2025-10-16 09:08:23 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:08:23 - src.text_processor - INFO - process_cases:154 - Processing case: 1cd46165-7a73-4f74-8e21-38669e1478a2 (2/195)
2025-10-16 09:08:23 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:08:23 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:08:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/miniviewer.html
2025-10-16 09:08:23 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:08:23 - src.html_transformer - INFO - transform:63 - No semantic headings found. Using Gemini AI for detection.
2025-10-16 09:08:23 - src.gemini_heading_detector - INFO - detect_headings:57 - Sending HTML to Gemini for heading detection
2025-10-16 09:08:23 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:20:16 - root - INFO - main:75 - ======================================================================
2025-10-16 09:20:16 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 09:20:16 - root - INFO - main:77 - Mode: both
2025-10-16 09:20:16 - root - INFO - main:78 - ======================================================================
2025-10-16 09:20:16 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 09:20:16 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 09:20:16 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 09:20:16 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:20:16 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 09:20:16 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 09:20:16 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 09:20:16 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: cbf2cf66-6ef8-4fc5-8a5a-f826aabf3fdc
2025-10-16 09:20:16 - root - ERROR - main:144 - Job failed due to an unhandled exception: name 'GeminiClient' is not defined
Traceback (most recent call last):
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/main.py", line 132, in main
    processor = TextProcessor(config=config)
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/src/text_processor.py", line 33, in __init__
    self.html_transformer = HtmlTransformer(config=config)
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/src/html_transformer.py", line 32, in __init__
    self.heading_detector = GeminiHeadingDetector(
  File "/Users/kk/Library/CloudStorage/OneDrive-Personal/Documents/Projects/JurisTab/workspace/juristab-pipeline/app/pipeline/service-enrichment/visual-juris-content/legislation/src/gemini_heading_detector.py", line 23, in __init__
    self.gemini_client = GeminiClient(model_name)
NameError: name 'GeminiClient' is not defined
2025-10-16 09:20:17 - utils.audit_logger - INFO - log_end:147 - Job with Log ID 'cbf2cf66-6ef8-4fc5-8a5a-f826aabf3fdc' finished with status: failed
2025-10-16 09:22:33 - root - INFO - main:75 - ======================================================================
2025-10-16 09:22:33 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 09:22:33 - root - INFO - main:77 - Mode: both
2025-10-16 09:22:33 - root - INFO - main:78 - ======================================================================
2025-10-16 09:22:33 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 09:22:33 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 09:22:33 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 09:22:33 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:22:33 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 09:22:33 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 09:22:33 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 09:22:34 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 5ac3aba3-8eef-4e45-bf67-e0db448c25a2
2025-10-16 09:22:34 - utils.gemini_client - INFO - __init__:19 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:22:34 - src.gemini_heading_detector - INFO - _load_prompt:32 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 09:22:34 - src.html_transformer - INFO - __init__:40 - HtmlTransformer initialized with Gemini heading detection
2025-10-16 09:22:34 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 09:22:34 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 09:22:34 - src.text_processor - INFO - __init__:44 - TextProcessor initialized with Gemini AI heading detection capability
2025-10-16 09:22:34 - src.text_processor - INFO - process_cases:79 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:98 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:99 - Processing mode: Juriscontent + Sections = True
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:100 - AI-powered heading detection: ENABLED (Gemini 2.5 Pro)
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:106 - ===== Processing for All Years =====
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:115 - --- Checking Jurisdiction: NSW ---
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:142 - Found 194 cases for all years from registry requiring processing.
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:154 - Processing case: 1cd46165-7a73-4f74-8e21-38669e1478a2 (1/194)
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:22:35 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:22:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/miniviewer.html
2025-10-16 09:22:36 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:22:36 - src.html_transformer - INFO - transform:69 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:22:36 - src.gemini_heading_detector - INFO - detect_headings:49 - Sending HTML to Gemini for heading detection
2025-10-16 09:22:36 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:23:04 - utils.gemini_client - INFO - detect_headings:56 - Successfully received heading detection response from Gemini
2025-10-16 09:23:04 - src.gemini_heading_detector - INFO - detect_headings:73 - Successfully detected 5 headings
2025-10-16 09:23:04 - src.html_transformer - INFO - transform:90 - ✓ Gemini detected 5 headings. Applying to HTML...
2025-10-16 09:23:04 - src.gemini_heading_detector - INFO - apply_headings_to_html:186 - Successfully applied 5/5 headings to HTML
2025-10-16 09:23:04 - src.html_transformer - INFO - transform:111 - ✓ Applied 5 headings. Tokens: 4685 in / 285 out. Cost: $0.015988
2025-10-16 09:23:04 - src.text_processor - INFO - _generate_and_save_juriscontent:229 - AI Heading Detection - Tokens: 4685 input, 285 output | Cost: $0.015988
2025-10-16 09:23:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/juriscontent.html
2025-10-16 09:23:04 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✅ Juriscontent generation SUCCESS: 23494 bytes
2025-10-16 09:23:04 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 28.86s for source_id: 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:04 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:04 - src.text_processor - INFO - _generate_and_save_juriscontent:265 - Token metrics saved to database for 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:04 - src.text_processor - INFO - process_cases:179 - [STAGE 2] Extracting sections for 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:05 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:05 - src.text_processor - INFO - _extract_and_save_sections:327 - Preparing section-level-content folder...
2025-10-16 09:23:05 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/section-level-content/
2025-10-16 09:23:05 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/section-level-content/
2025-10-16 09:23:05 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/juriscontent.html
2025-10-16 09:23:05 - src.section_extractor - INFO - extract_sections:48 - ✓ Found 1 H1 headings. Extracting H1-based sections.
2025-10-16 09:23:05 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 1: Content extract - BarNet JadeSTATUTORY AND OTHER O...
2025-10-16 09:23:05 - src.text_processor - INFO - _extract_and_save_sections:350 - → Processing 1 section(s) for 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1cd46165-7a73-4f74-8e21-38669e1478a2/section-level-content/miniviewer_1.txt
2025-10-16 09:23:05 - src.text_processor - INFO - _extract_and_save_sections:388 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-16 09:23:06 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.95s for source_id: 1cd46165-7a73-4f74-8e21-38669e1478a2
2025-10-16 09:23:06 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:23:06 - src.text_processor - INFO - process_cases:154 - Processing case: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c (2/194)
2025-10-16 09:23:06 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:23:06 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6476912e-c4f1-4bf5-92b5-902f2e4d2e3c/miniviewer.html
2025-10-16 09:23:06 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:23:06 - src.html_transformer - INFO - transform:69 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:23:06 - src.gemini_heading_detector - INFO - detect_headings:49 - Sending HTML to Gemini for heading detection
2025-10-16 09:23:06 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:23:24 - utils.gemini_client - INFO - detect_headings:56 - Successfully received heading detection response from Gemini
2025-10-16 09:23:24 - src.gemini_heading_detector - INFO - detect_headings:73 - Successfully detected 3 headings
2025-10-16 09:23:24 - src.html_transformer - INFO - transform:90 - ✓ Gemini detected 3 headings. Applying to HTML...
2025-10-16 09:23:24 - src.gemini_heading_detector - INFO - apply_headings_to_html:186 - Successfully applied 3/3 headings to HTML
2025-10-16 09:23:24 - src.html_transformer - INFO - transform:111 - ✓ Applied 3 headings. Tokens: 3683 in / 220 out. Cost: $0.012508
2025-10-16 09:23:24 - src.text_processor - INFO - _generate_and_save_juriscontent:229 - AI Heading Detection - Tokens: 3683 input, 220 output | Cost: $0.012508
2025-10-16 09:23:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6476912e-c4f1-4bf5-92b5-902f2e4d2e3c/juriscontent.html
2025-10-16 09:23:25 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✅ Juriscontent generation SUCCESS: 20177 bytes
2025-10-16 09:23:25 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 19.03s for source_id: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:25 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:25 - src.text_processor - INFO - _generate_and_save_juriscontent:265 - Token metrics saved to database for 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:25 - src.text_processor - INFO - process_cases:179 - [STAGE 2] Extracting sections for 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:25 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:25 - src.text_processor - INFO - _extract_and_save_sections:327 - Preparing section-level-content folder...
2025-10-16 09:23:25 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/6476912e-c4f1-4bf5-92b5-902f2e4d2e3c/section-level-content/
2025-10-16 09:23:25 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/6476912e-c4f1-4bf5-92b5-902f2e4d2e3c/section-level-content/
2025-10-16 09:23:26 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6476912e-c4f1-4bf5-92b5-902f2e4d2e3c/juriscontent.html
2025-10-16 09:23:26 - src.section_extractor - INFO - extract_sections:48 - ✓ Found 1 H1 headings. Extracting H1-based sections.
2025-10-16 09:23:26 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 1: Content extract - BarNet JadeSTATUTORY AND OTHER O...
2025-10-16 09:23:26 - src.text_processor - INFO - _extract_and_save_sections:350 - → Processing 1 section(s) for 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6476912e-c4f1-4bf5-92b5-902f2e4d2e3c/section-level-content/miniviewer_1.txt
2025-10-16 09:23:26 - src.text_processor - INFO - _extract_and_save_sections:388 - ✅ Section extraction SUCCESS: 1 sections saved
2025-10-16 09:23:26 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.92s for source_id: 6476912e-c4f1-4bf5-92b5-902f2e4d2e3c
2025-10-16 09:23:26 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:23:26 - src.text_processor - INFO - process_cases:154 - Processing case: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c (3/194)
2025-10-16 09:23:26 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:23:26 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:23:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/miniviewer.html
2025-10-16 09:23:26 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:23:26 - src.html_transformer - INFO - transform:69 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:23:26 - src.gemini_heading_detector - INFO - detect_headings:49 - Sending HTML to Gemini for heading detection
2025-10-16 09:23:26 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:47:00 - root - INFO - main:75 - ======================================================================
2025-10-16 09:47:00 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 09:47:00 - root - INFO - main:77 - Mode: both
2025-10-16 09:47:00 - root - INFO - main:78 - ======================================================================
2025-10-16 09:47:00 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 09:47:00 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 09:47:00 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 09:47:00 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:47:00 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 09:47:00 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 09:47:00 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 09:47:01 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 45e6f241-44ee-4157-95e1-0b6417178a1b
2025-10-16 09:47:01 - utils.gemini_client - INFO - __init__:19 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:47:01 - src.gemini_heading_detector - INFO - _load_prompt:35 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 09:47:01 - src.html_transformer - INFO - __init__:40 - HtmlTransformer initialized with Gemini heading detection
2025-10-16 09:47:01 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 09:47:01 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 09:47:01 - src.text_processor - INFO - __init__:44 - TextProcessor initialized with Gemini AI heading detection capability
2025-10-16 09:47:01 - src.text_processor - INFO - process_cases:79 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:98 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:99 - Processing mode: Juriscontent + Sections = True
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:100 - AI-powered heading detection: ENABLED (Gemini 2.5 Pro)
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:106 - ===== Processing for All Years =====
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:115 - --- Checking Jurisdiction: NSW ---
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:142 - Found 192 cases for all years from registry requiring processing.
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:154 - Processing case: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c (1/192)
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:47:02 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/miniviewer.html
2025-10-16 09:47:03 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:47:03 - src.html_transformer - INFO - transform:69 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:47:03 - src.gemini_heading_detector - INFO - detect_headings:52 - Sending HTML to Gemini for heading detection (style-based analysis)
2025-10-16 09:47:03 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:47:47 - utils.gemini_client - INFO - detect_headings:56 - Successfully received heading detection response from Gemini
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:104 - Successfully detected 4 valid headings
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:105 - ================================================================================
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:112 - Heading distribution: H1=2, H2=2, H3=0
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:113 - --------------------------------------------------------------------------------
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:117 -   1. [H1] pos=0
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: 1. This Act may be cited as the “Statutory and Other Offices Remuneration (Motor Vehicle Repairs) Am...
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:117 -   2. [H2] pos=1
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: (1) This section and section 1 shall commence on the date of assent to this Act.
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:117 -   3. [H2] pos=2
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: (2) Except as provided in subsection (1), this Act shall commence on the day appointed and notified ...
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:117 -   4. [H1] pos=3
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: 3. The Statutory and Other Offices Remuneration Act, 1975, is amended by inserting at the end of Par...
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - detect_headings:122 - ================================================================================
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:76 - === GEMINI DETECTED 4 HEADINGS ===
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:78 -   [h1] pos=0: 1. This Act may be cited as the “Statutory and Other Offices Remuneration (Motor Vehicle Repairs) Am
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:78 -   [h2] pos=1: (1) This section and section 1 shall commence on the date of assent to this Act.
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:78 -   [h2] pos=2: (2) Except as provided in subsection (1), this Act shall commence on the day appointed and notified 
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:78 -   [h1] pos=3: 3. The Statutory and Other Offices Remuneration Act, 1975, is amended by inserting at the end of Par
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:79 - ======================================================================
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:95 - ✓ Gemini detected 4 headings. Applying to HTML...
2025-10-16 09:47:47 - src.gemini_heading_detector - INFO - apply_headings_to_html:294 - Successfully applied 4/4 headings to HTML
2025-10-16 09:47:47 - src.html_transformer - INFO - transform:116 - ✓ Applied 4 headings. Tokens: 5712 in / 260 out. Cost: $0.018180
2025-10-16 09:47:47 - src.text_processor - INFO - _generate_and_save_juriscontent:229 - AI Heading Detection - Tokens: 5712 input, 260 output | Cost: $0.018180
2025-10-16 09:47:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/juriscontent.html
2025-10-16 09:47:47 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✅ Juriscontent generation SUCCESS: 21011 bytes
2025-10-16 09:47:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 44.78s for source_id: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:47 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:47 - src.text_processor - INFO - _generate_and_save_juriscontent:265 - Token metrics saved to database for d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:47 - src.text_processor - INFO - process_cases:179 - [STAGE 2] Extracting sections for d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:47 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:47 - src.text_processor - INFO - _extract_and_save_sections:327 - Preparing section-level-content folder...
2025-10-16 09:47:47 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/section-level-content/
2025-10-16 09:47:47 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/section-level-content/
2025-10-16 09:47:48 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/juriscontent.html
2025-10-16 09:47:48 - src.section_extractor - INFO - extract_sections:48 - ✓ Found 2 H1 headings. Extracting H1-based sections.
2025-10-16 09:47:48 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 1: Content extract - BarNet JadeSTATUTORY AND OTHER O...
2025-10-16 09:47:48 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 2: Content extract - BarNet JadeSTATUTORY AND OTHER O...
2025-10-16 09:47:48 - src.text_processor - INFO - _extract_and_save_sections:350 - → Processing 2 section(s) for d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/section-level-content/miniviewer_1.txt
2025-10-16 09:47:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c/section-level-content/miniviewer_2.txt
2025-10-16 09:47:48 - src.text_processor - INFO - _extract_and_save_sections:388 - ✅ Section extraction SUCCESS: 2 sections saved
2025-10-16 09:47:49 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.13s for source_id: d1eb4b10-5d4e-48f5-ab6a-9784ebe6ef0c
2025-10-16 09:47:49 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:47:49 - src.text_processor - INFO - process_cases:154 - Processing case: 909bf1bd-bfa2-41c0-96f3-621524e197dd (2/192)
2025-10-16 09:47:49 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:47:49 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:47:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/miniviewer.html
2025-10-16 09:47:49 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:47:49 - src.html_transformer - INFO - transform:69 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:47:49 - src.gemini_heading_detector - INFO - detect_headings:52 - Sending HTML to Gemini for heading detection (style-based analysis)
2025-10-16 09:47:49 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:48:31 - utils.gemini_client - INFO - detect_headings:56 - Successfully received heading detection response from Gemini
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:104 - Successfully detected 4 valid headings
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:105 - ================================================================================
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:112 - Heading distribution: H1=3, H2=1, H3=0
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:113 - --------------------------------------------------------------------------------
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:117 -   1. [H1] pos=0
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: 1. This Act may be cited as the “Statutory and Other Offices Remuneration (Grain Handling) Amendment...
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:117 -   2. [H1] pos=1
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: 2. (1) This section and section 1 shall commence on the date of assent to this Act.
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:117 -   3. [H2] pos=2
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: (2) Except as provided in subsection (1), this Act shall commence on the day appointed and notified ...
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:117 -   4. [H1] pos=3
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: 3. The Statutory and Other Offices Remuneration Act, 1975, is amended by omitting from Part 1 of Sch...
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - detect_headings:122 - ================================================================================
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:76 - === GEMINI DETECTED 4 HEADINGS ===
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:78 -   [h1] pos=0: 1. This Act may be cited as the “Statutory and Other Offices Remuneration (Grain Handling) Amendment
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:78 -   [h1] pos=1: 2. (1) This section and section 1 shall commence on the date of assent to this Act.
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:78 -   [h2] pos=2: (2) Except as provided in subsection (1), this Act shall commence on the day appointed and notified 
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:78 -   [h1] pos=3: 3. The Statutory and Other Offices Remuneration Act, 1975, is amended by omitting from Part 1 of Sch
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:79 - ======================================================================
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:95 - ✓ Gemini detected 4 headings. Applying to HTML...
2025-10-16 09:48:31 - src.gemini_heading_detector - INFO - apply_headings_to_html:294 - Successfully applied 4/4 headings to HTML
2025-10-16 09:48:31 - src.html_transformer - INFO - transform:116 - ✓ Applied 4 headings. Tokens: 5843 in / 271 out. Cost: $0.018673
2025-10-16 09:48:31 - src.text_processor - INFO - _generate_and_save_juriscontent:229 - AI Heading Detection - Tokens: 5843 input, 271 output | Cost: $0.018673
2025-10-16 09:48:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/juriscontent.html
2025-10-16 09:48:31 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✅ Juriscontent generation SUCCESS: 22987 bytes
2025-10-16 09:48:31 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 42.41s for source_id: 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:31 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:31 - src.text_processor - INFO - _generate_and_save_juriscontent:265 - Token metrics saved to database for 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:31 - src.text_processor - INFO - process_cases:179 - [STAGE 2] Extracting sections for 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:31 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:31 - src.text_processor - INFO - _extract_and_save_sections:327 - Preparing section-level-content folder...
2025-10-16 09:48:31 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/section-level-content/
2025-10-16 09:48:31 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/section-level-content/
2025-10-16 09:48:32 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/juriscontent.html
2025-10-16 09:48:32 - src.section_extractor - INFO - extract_sections:48 - ✓ Found 3 H1 headings. Extracting H1-based sections.
2025-10-16 09:48:32 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 1: Content extract - BarNet JadeSTATUTORYANDOTHEROFFI...
2025-10-16 09:48:32 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 2: Content extract - BarNet JadeSTATUTORYANDOTHEROFFI...
2025-10-16 09:48:32 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 3: Content extract - BarNet JadeSTATUTORYANDOTHEROFFI...
2025-10-16 09:48:32 - src.text_processor - INFO - _extract_and_save_sections:350 - → Processing 3 section(s) for 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/section-level-content/miniviewer_1.txt
2025-10-16 09:48:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/section-level-content/miniviewer_2.txt
2025-10-16 09:48:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/909bf1bd-bfa2-41c0-96f3-621524e197dd/section-level-content/miniviewer_3.txt
2025-10-16 09:48:32 - src.text_processor - INFO - _extract_and_save_sections:388 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 09:48:33 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.22s for source_id: 909bf1bd-bfa2-41c0-96f3-621524e197dd
2025-10-16 09:48:33 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:48:33 - src.text_processor - INFO - process_cases:154 - Processing case: aa1caad3-c87a-458f-9d50-e65d415f7daa (3/192)
2025-10-16 09:48:33 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:48:33 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:48:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/miniviewer.html
2025-10-16 09:48:33 - src.text_processor - INFO - _generate_and_save_juriscontent:222 - Transforming HTML with intelligent heading detection...
2025-10-16 09:48:33 - src.html_transformer - INFO - transform:69 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:48:33 - src.gemini_heading_detector - INFO - detect_headings:52 - Sending HTML to Gemini for heading detection (style-based analysis)
2025-10-16 09:48:33 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:54:01 - root - INFO - main:75 - ======================================================================
2025-10-16 09:54:01 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 09:54:01 - root - INFO - main:77 - Mode: both
2025-10-16 09:54:01 - root - INFO - main:78 - ======================================================================
2025-10-16 09:54:01 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 09:54:01 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 09:54:01 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 09:54:01 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:54:01 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 09:54:01 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 09:54:01 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 09:54:02 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 76673616-8662-4050-84c5-705a05bf1069
2025-10-16 09:54:02 - utils.gemini_client - INFO - __init__:19 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:54:02 - src.gemini_heading_detector - INFO - _load_prompt:35 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 09:54:02 - src.html_transformer - INFO - __init__:43 - HtmlTransformer initialized with Gemini heading detection
2025-10-16 09:54:02 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 09:54:02 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 09:54:02 - src.text_processor - INFO - __init__:44 - TextProcessor initialized with Gemini AI heading detection capability
2025-10-16 09:54:02 - src.text_processor - INFO - process_cases:79 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:98 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:99 - Processing mode: Juriscontent + Sections = True
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:100 - AI-powered heading detection: ENABLED (Gemini 2.5 Pro)
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:106 - ===== Processing for All Years =====
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:115 - --- Checking Jurisdiction: NSW ---
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:142 - Found 190 cases for all years from registry requiring processing.
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:154 - Processing case: aa1caad3-c87a-458f-9d50-e65d415f7daa (1/190)
2025-10-16 09:54:03 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:54:04 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:04 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/miniviewer.html
2025-10-16 09:54:04 - src.text_processor - INFO - _generate_and_save_juriscontent:220 - Transforming HTML with intelligent heading detection...
2025-10-16 09:54:04 - src.html_transformer - INFO - transform:120 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:54:04 - src.gemini_heading_detector - INFO - detect_headings:52 - Sending HTML to Gemini for heading detection (style-based analysis)
2025-10-16 09:54:04 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 09:54:53 - utils.gemini_client - INFO - detect_headings:56 - Successfully received heading detection response from Gemini
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:104 - Successfully detected 4 valid headings
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:105 - ================================================================================
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:112 - Heading distribution: H1=2, H2=2, H3=0
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:113 - --------------------------------------------------------------------------------
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:117 -   1. [H1] pos=0
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: 1. This Act may be cited as the “Statutory and Other Offices Remuneration (Drug and Alcohol Authorit...
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:117 -   2. [H2] pos=1
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: (1) This section and section 1 shall commence on the date of assent to this Act.
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:117 -   3. [H2] pos=2
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: (2) Except as provided by subsection (1), this Act shall commence on the day appointed and notified ...
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:117 -   4. [H1] pos=3
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:118 -      Text: 3. The Statutory and Other Offices Remuneration Act, 1975, is amended by inserting at the end of Par...
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - detect_headings:122 - ================================================================================
2025-10-16 09:54:53 - src.html_transformer - INFO - transform:151 - ✓ Gemini detected 4 headings. Applying to HTML...
2025-10-16 09:54:53 - src.gemini_heading_detector - INFO - apply_headings_to_html:294 - Successfully applied 4/4 headings to HTML
2025-10-16 09:54:53 - src.html_transformer - INFO - transform:176 - ✓ Applied 4 headings. Tokens: 5776 in / 272 out. Cost: $0.018520
2025-10-16 09:54:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/juriscontent.html
2025-10-16 09:54:53 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving Gemini response to S3: legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/juriscontent_gemini_response.json
2025-10-16 09:54:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/juriscontent_gemini_response.json
2025-10-16 09:54:53 - src.text_processor - INFO - _generate_and_save_juriscontent:239 - ✓ Gemini response saved successfully
2025-10-16 09:54:53 - src.text_processor - INFO - _generate_and_save_juriscontent:245 - AI Heading Detection - Tokens: 5776 input, 272 output | Cost: $0.018520
2025-10-16 09:54:53 - src.text_processor - INFO - _generate_and_save_juriscontent:262 - ✅ Juriscontent generation SUCCESS: 20031 bytes
2025-10-16 09:54:53 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 49.57s for source_id: aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:53 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:53 - src.text_processor - INFO - _generate_and_save_juriscontent:276 - Token metrics saved to database for aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:53 - src.text_processor - INFO - process_cases:179 - [STAGE 2] Extracting sections for aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:53 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:53 - src.text_processor - INFO - _extract_and_save_sections:338 - Preparing section-level-content folder...
2025-10-16 09:54:53 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/section-level-content/
2025-10-16 09:54:53 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/section-level-content/
2025-10-16 09:54:54 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:54 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/juriscontent.html
2025-10-16 09:54:54 - src.section_extractor - INFO - extract_sections:48 - ✓ Found 2 H1 headings. Extracting H1-based sections.
2025-10-16 09:54:54 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 1: Content extract - BarNet JadeSTATUTORY AND OTHER O...
2025-10-16 09:54:54 - src.section_extractor - INFO - _extract_sections_by_headings:152 - Extracted section 2: 1....
2025-10-16 09:54:54 - src.text_processor - INFO - _extract_and_save_sections:361 - → Processing 2 section(s) for aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/section-level-content/miniviewer_1.txt
2025-10-16 09:54:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/aa1caad3-c87a-458f-9d50-e65d415f7daa/section-level-content/miniviewer_2.txt
2025-10-16 09:54:55 - src.text_processor - INFO - _extract_and_save_sections:399 - ✅ Section extraction SUCCESS: 2 sections saved
2025-10-16 09:54:55 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.22s for source_id: aa1caad3-c87a-458f-9d50-e65d415f7daa
2025-10-16 09:54:55 - src.text_processor - INFO - process_cases:153 - 
======================================================================
2025-10-16 09:54:55 - src.text_processor - INFO - process_cases:154 - Processing case: 451d5307-ed03-4614-9059-e9168b53bc2d (2/190)
2025-10-16 09:54:55 - src.text_processor - INFO - process_cases:155 - ======================================================================
2025-10-16 09:54:55 - src.text_processor - INFO - process_cases:172 - [STAGE 1] Generating juriscontent.html for 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 09:54:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/miniviewer.html
2025-10-16 09:54:55 - src.text_processor - INFO - _generate_and_save_juriscontent:220 - Transforming HTML with intelligent heading detection...
2025-10-16 09:54:55 - src.html_transformer - INFO - transform:120 - ✗ No semantic headings found. Attempting Gemini AI detection...
2025-10-16 09:54:55 - src.gemini_heading_detector - INFO - detect_headings:52 - Sending HTML to Gemini for heading detection (style-based analysis)
2025-10-16 09:54:55 - utils.gemini_client - INFO - detect_headings:33 - Detecting headings with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:11:54 - root - INFO - main:75 - ======================================================================
2025-10-16 10:11:54 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 10:11:54 - root - INFO - main:77 - Mode: both
2025-10-16 10:11:54 - root - INFO - main:78 - ======================================================================
2025-10-16 10:11:54 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 10:11:54 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 10:11:54 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 10:11:54 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:11:54 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 10:11:54 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 10:11:54 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 10:11:54 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 438dced2-2519-411c-887a-119121472dcf
2025-10-16 10:11:54 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:11:54 - src.html_transformer - INFO - _load_prompt:49 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 10:11:54 - src.html_transformer - INFO - __init__:42 - HtmlTransformer initialized with Gemini HTML generation
2025-10-16 10:11:54 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 10:11:54 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 10:11:54 - src.text_processor - INFO - __init__:31 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 10:11:54 - src.text_processor - INFO - process_cases:58 - Fetching all available jurisdictions from registry.
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:77 - Processing jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:78 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:84 - ===== Processing All Years =====
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:93 - --- Checking Jurisdiction: NSW ---
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:118 - Found 189 cases for all years requiring processing.
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:129 - 
======================================================================
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:130 - Processing case: 451d5307-ed03-4614-9059-e9168b53bc2d (1/189)
2025-10-16 10:11:55 - src.text_processor - INFO - process_cases:131 - ======================================================================
2025-10-16 10:11:56 - src.text_processor - INFO - process_cases:148 - [STAGE 1] Generating juriscontent.html for 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:11:56 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/miniviewer.html
2025-10-16 10:11:56 - src.text_processor - INFO - _generate_and_save_juriscontent:198 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:11:56 - src.html_transformer - INFO - transform:125 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:11:56 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:11:57 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6359
2025-10-16 10:13:18 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2602
2025-10-16 10:13:18 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:13:18 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6996 characters
2025-10-16 10:13:18 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:13:18 - src.html_transformer - INFO - transform:162 - ✓ Gemini generated HTML with 10 heading tags
2025-10-16 10:13:18 - src.html_transformer - INFO - transform:182 - ✓ HTML generation complete. Tokens: 6359 in / 2602 out. Cost: $0.054928
2025-10-16 10:13:18 - src.text_processor - INFO - _generate_and_save_juriscontent:202 - Saving juriscontent.html...
2025-10-16 10:13:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/juriscontent.html
2025-10-16 10:13:18 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Saving intermediate miniviewer_genai.html...
2025-10-16 10:13:18 - src.text_processor - INFO - _generate_and_save_juriscontent:219 - Saving Gemini response to S3: legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/juriscontent_gemini_response.json
2025-10-16 10:13:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/juriscontent_gemini_response.json
2025-10-16 10:13:18 - src.text_processor - INFO - _generate_and_save_juriscontent:224 - ✓ Gemini response saved
2025-10-16 10:13:18 - src.text_processor - INFO - _generate_and_save_juriscontent:230 - AI HTML Generation - Tokens: 6359 input, 2602 output | Cost: $0.054928
2025-10-16 10:13:18 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - ✅ Juriscontent generation SUCCESS: 19850 bytes
2025-10-16 10:13:18 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 82.68s for source_id: 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:13:18 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:13:18 - src.text_processor - INFO - _generate_and_save_juriscontent:259 - Token metrics saved to database
2025-10-16 10:13:18 - src.text_processor - INFO - process_cases:156 - [STAGE 2] Extracting sections for 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:13:19 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:13:19 - src.text_processor - INFO - _extract_and_save_sections:318 - Preparing section-level-content folder...
2025-10-16 10:13:19 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/section-level-content/
2025-10-16 10:13:19 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/section-level-content/
2025-10-16 10:13:19 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:13:19 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/juriscontent.html
2025-10-16 10:13:19 - src.text_processor - INFO - _extract_and_save_sections:330 - Extracting sections from juriscontent.html...
2025-10-16 10:13:19 - src.section_extractor - INFO - extract_sections:50 - ✓ Found 3 H1 headings. Extracting H1-based sections.
2025-10-16 10:13:19 - src.section_extractor - INFO - _extract_sections_by_headings:155 - Found content before first H1, saving as section 1
2025-10-16 10:13:19 - src.section_extractor - INFO - _extract_sections_by_headings:189 - Successfully extracted 4 sections
2025-10-16 10:13:19 - src.text_processor - INFO - _extract_and_save_sections:342 - → Processing 4 section(s) for 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:13:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/section-level-content/miniviewer_1.txt
2025-10-16 10:13:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/section-level-content/miniviewer_2.txt
2025-10-16 10:13:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/section-level-content/miniviewer_3.txt
2025-10-16 10:13:20 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/451d5307-ed03-4614-9059-e9168b53bc2d/section-level-content/miniviewer_4.txt
2025-10-16 10:13:20 - src.text_processor - INFO - _extract_and_save_sections:383 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 10:13:20 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.45s for source_id: 451d5307-ed03-4614-9059-e9168b53bc2d
2025-10-16 10:13:20 - src.text_processor - INFO - process_cases:129 - 
======================================================================
2025-10-16 10:13:20 - src.text_processor - INFO - process_cases:130 - Processing case: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0 (2/189)
2025-10-16 10:13:20 - src.text_processor - INFO - process_cases:131 - ======================================================================
2025-10-16 10:13:20 - src.text_processor - INFO - process_cases:148 - [STAGE 1] Generating juriscontent.html for 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:20 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/miniviewer.html
2025-10-16 10:13:20 - src.text_processor - INFO - _generate_and_save_juriscontent:198 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:13:20 - src.html_transformer - INFO - transform:125 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:13:20 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:13:20 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 4698
2025-10-16 10:13:51 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1675
2025-10-16 10:13:51 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:13:51 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 5428 characters
2025-10-16 10:13:51 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:13:51 - src.html_transformer - INFO - transform:162 - ✓ Gemini generated HTML with 2 heading tags
2025-10-16 10:13:51 - src.html_transformer - INFO - transform:182 - ✓ HTML generation complete. Tokens: 4698 in / 1675 out. Cost: $0.036870
2025-10-16 10:13:51 - src.text_processor - INFO - _generate_and_save_juriscontent:202 - Saving juriscontent.html...
2025-10-16 10:13:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/juriscontent.html
2025-10-16 10:13:51 - src.text_processor - INFO - _generate_and_save_juriscontent:209 - Saving intermediate miniviewer_genai.html...
2025-10-16 10:13:51 - src.text_processor - INFO - _generate_and_save_juriscontent:219 - Saving Gemini response to S3: legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/juriscontent_gemini_response.json
2025-10-16 10:13:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/juriscontent_gemini_response.json
2025-10-16 10:13:51 - src.text_processor - INFO - _generate_and_save_juriscontent:224 - ✓ Gemini response saved
2025-10-16 10:13:51 - src.text_processor - INFO - _generate_and_save_juriscontent:230 - AI HTML Generation - Tokens: 4698 input, 1675 output | Cost: $0.036870
2025-10-16 10:13:51 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - ✅ Juriscontent generation SUCCESS: 16077 bytes
2025-10-16 10:13:51 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 31.17s for source_id: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:51 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:51 - src.text_processor - INFO - _generate_and_save_juriscontent:259 - Token metrics saved to database
2025-10-16 10:13:51 - src.text_processor - INFO - process_cases:156 - [STAGE 2] Extracting sections for 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:52 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:52 - src.text_processor - INFO - _extract_and_save_sections:318 - Preparing section-level-content folder...
2025-10-16 10:13:52 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/section-level-content/
2025-10-16 10:13:52 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/section-level-content/
2025-10-16 10:13:52 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/juriscontent.html
2025-10-16 10:13:52 - src.text_processor - INFO - _extract_and_save_sections:330 - Extracting sections from juriscontent.html...
2025-10-16 10:13:52 - src.section_extractor - INFO - extract_sections:50 - ✓ Found 2 H1 headings. Extracting H1-based sections.
2025-10-16 10:13:52 - src.section_extractor - INFO - _extract_sections_by_headings:155 - Found content before first H1, saving as section 1
2025-10-16 10:13:52 - src.section_extractor - INFO - _extract_sections_by_headings:189 - Successfully extracted 3 sections
2025-10-16 10:13:52 - src.text_processor - INFO - _extract_and_save_sections:342 - → Processing 3 section(s) for 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/section-level-content/miniviewer_1.txt
2025-10-16 10:13:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/section-level-content/miniviewer_2.txt
2025-10-16 10:13:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0/section-level-content/miniviewer_3.txt
2025-10-16 10:13:53 - src.text_processor - INFO - _extract_and_save_sections:383 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 10:13:53 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.25s for source_id: 6fd1eda8-8eb0-4739-85c7-ecc60ae74ff0
2025-10-16 10:13:53 - src.text_processor - INFO - process_cases:129 - 
======================================================================
2025-10-16 10:13:53 - src.text_processor - INFO - process_cases:130 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (3/189)
2025-10-16 10:13:53 - src.text_processor - INFO - process_cases:131 - ======================================================================
2025-10-16 10:13:53 - src.text_processor - INFO - process_cases:148 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:13:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 10:13:53 - src.text_processor - INFO - _generate_and_save_juriscontent:198 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:13:53 - src.html_transformer - INFO - transform:125 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:13:53 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:13:53 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 10:23:59 - root - INFO - main:75 - ======================================================================
2025-10-16 10:23:59 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 10:23:59 - root - INFO - main:77 - Mode: both
2025-10-16 10:23:59 - root - INFO - main:78 - ======================================================================
2025-10-16 10:23:59 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 10:23:59 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 10:23:59 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 10:23:59 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:23:59 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 10:23:59 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 10:23:59 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 10:24:00 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: e5008533-1af9-4157-b575-fdff7dd9ece7
2025-10-16 10:24:00 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:24:00 - src.html_transformer - INFO - _load_prompt:49 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 10:24:00 - src.html_transformer - INFO - __init__:42 - HtmlTransformer initialized with Gemini HTML generation
2025-10-16 10:24:00 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 10:24:00 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 10:24:00 - src.text_processor - INFO - __init__:31 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 10:24:00 - src.text_processor - INFO - process_cases:58 - Fetching all available jurisdictions from registry.
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:77 - Processing jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:78 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:84 - ===== Processing All Years =====
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:93 - --- Checking Jurisdiction: NSW ---
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:118 - Found 187 cases for all years requiring processing.
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:129 - 
======================================================================
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:130 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/187)
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:131 - ======================================================================
2025-10-16 10:24:01 - src.text_processor - INFO - process_cases:148 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:24:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 10:24:02 - src.text_processor - INFO - _generate_and_save_juriscontent:198 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:24:02 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:24:02 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:24:03 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 10:25:02 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3216
2025-10-16 10:25:02 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:25:02 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8721 characters
2025-10-16 10:25:02 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:25:02 - src.html_transformer - INFO - transform:164 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 10:25:02 - src.html_transformer - INFO - transform:184 - ✓ HTML generation complete. Tokens: 6376 in / 3216 out. Cost: $0.064180
2025-10-16 10:25:02 - src.text_processor - ERROR - _generate_and_save_juriscontent:275 - ❌ Juriscontent generation FAILED: ValueError: not enough values to unpack (expected 4, got 3)
2025-10-16 10:25:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 60.20s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:25:02 - src.text_processor - WARNING - process_cases:163 - Skipping section extraction - juriscontent generation failed
2025-10-16 10:25:02 - src.text_processor - INFO - process_cases:129 - 
======================================================================
2025-10-16 10:25:02 - src.text_processor - INFO - process_cases:130 - Processing case: a5d7fc5f-3d05-4749-8310-e2780bff180b (2/187)
2025-10-16 10:25:02 - src.text_processor - INFO - process_cases:131 - ======================================================================
2025-10-16 10:25:02 - src.text_processor - INFO - process_cases:148 - [STAGE 1] Generating juriscontent.html for a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:25:02 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/miniviewer.html
2025-10-16 10:25:02 - src.text_processor - INFO - _generate_and_save_juriscontent:198 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:25:02 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:25:02 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:25:02 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5308
2025-10-16 10:26:07 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1861
2025-10-16 10:26:07 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:26:07 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 5114 characters
2025-10-16 10:26:07 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:26:07 - src.html_transformer - INFO - transform:164 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 10:26:07 - src.html_transformer - INFO - transform:184 - ✓ HTML generation complete. Tokens: 5308 in / 1861 out. Cost: $0.041185
2025-10-16 10:26:07 - src.text_processor - ERROR - _generate_and_save_juriscontent:275 - ❌ Juriscontent generation FAILED: ValueError: not enough values to unpack (expected 4, got 3)
2025-10-16 10:26:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'failed' with duration 65.64s for source_id: a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:26:08 - src.text_processor - WARNING - process_cases:163 - Skipping section extraction - juriscontent generation failed
2025-10-16 10:26:08 - src.text_processor - INFO - process_cases:129 - 
======================================================================
2025-10-16 10:26:08 - src.text_processor - INFO - process_cases:130 - Processing case: 81372f2b-816a-45e0-9f70-bcabc0909534 (3/187)
2025-10-16 10:26:08 - src.text_processor - INFO - process_cases:131 - ======================================================================
2025-10-16 10:26:08 - src.text_processor - INFO - process_cases:148 - [STAGE 1] Generating juriscontent.html for 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:26:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/miniviewer.html
2025-10-16 10:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:198 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:26:08 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:26:08 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:26:08 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 7754
2025-10-16 10:36:32 - root - INFO - main:75 - ======================================================================
2025-10-16 10:36:32 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 10:36:32 - root - INFO - main:77 - Mode: both
2025-10-16 10:36:32 - root - INFO - main:78 - ======================================================================
2025-10-16 10:36:32 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 10:36:32 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 10:36:32 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 10:36:32 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:36:32 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 10:36:32 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 10:36:32 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 10:36:33 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 6d07bd46-3ff1-4846-a689-1fb0357e2c47
2025-10-16 10:36:33 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:36:33 - src.html_transformer - INFO - _load_prompt:49 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 10:36:33 - src.html_transformer - INFO - __init__:42 - HtmlTransformer initialized with Gemini HTML generation
2025-10-16 10:36:33 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 10:36:33 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 10:36:33 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 10:36:33 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 10:36:33 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 10:36:33 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 10:36:33 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 10:36:33 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 10:36:33 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 10:36:34 - src.text_processor - INFO - process_cases:135 - Found 187 cases for all years from registry requiring processing.
2025-10-16 10:36:34 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 10:36:34 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/187)
2025-10-16 10:36:34 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 10:36:34 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:36:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 10:36:34 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:36:34 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:36:34 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:36:36 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 10:37:39 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3232
2025-10-16 10:37:39 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:37:39 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8606 characters
2025-10-16 10:37:39 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:37:39 - src.html_transformer - INFO - transform:165 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 10:37:39 - src.html_transformer - INFO - transform:185 - ✓ HTML generation complete. Tokens: 6376 in / 3232 out. Cost: $0.064420
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 10:37:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 10:37:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 10:37:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3232 output | Cost: $0.064420
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 21084 bytes
2025-10-16 10:37:39 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 64.85s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:39 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:39 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:39 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:39 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:39 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 10:37:39 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 10:37:39 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 10:37:40 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 10:37:40 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 10:37:40 - src.section_extractor - INFO - extract_sections:50 - ✓ Found 3 H1 headings. Extracting H1-based sections.
2025-10-16 10:37:40 - src.section_extractor - INFO - _extract_sections_by_headings:155 - Found content before first H1, saving as section 1
2025-10-16 10:37:40 - src.section_extractor - INFO - _extract_sections_by_headings:189 - Successfully extracted 4 sections
2025-10-16 10:37:40 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 10:37:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 10:37:40 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 10:37:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 10:37:41 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 10:37:41 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.43s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:37:41 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 10:37:41 - src.text_processor - INFO - process_cases:147 - Processing case: a5d7fc5f-3d05-4749-8310-e2780bff180b (2/187)
2025-10-16 10:37:41 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 10:37:41 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:37:41 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/miniviewer.html
2025-10-16 10:37:41 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:37:41 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:37:41 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:37:41 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5308
2025-10-16 10:38:42 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1604
2025-10-16 10:38:42 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:38:42 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 4443 characters
2025-10-16 10:38:42 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:38:42 - src.html_transformer - INFO - transform:165 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 10:38:42 - src.html_transformer - INFO - transform:185 - ✓ HTML generation complete. Tokens: 5308 in / 1604 out. Cost: $0.037330
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 10:38:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/juriscontent.html
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 10:38:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/miniviewer_genai.html
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/juriscontent_gemini_response.json
2025-10-16 10:38:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/juriscontent_gemini_response.json
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 5308 input, 1604 output | Cost: $0.037330
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 17098 bytes
2025-10-16 10:38:42 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 60.98s for source_id: a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:42 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:42 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:42 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:42 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:42 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 10:38:42 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/section-level-content/
2025-10-16 10:38:42 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/section-level-content/
2025-10-16 10:38:43 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/juriscontent.html
2025-10-16 10:38:43 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 10:38:43 - src.section_extractor - INFO - extract_sections:50 - ✓ Found 2 H1 headings. Extracting H1-based sections.
2025-10-16 10:38:43 - src.section_extractor - INFO - _extract_sections_by_headings:155 - Found content before first H1, saving as section 1
2025-10-16 10:38:43 - src.section_extractor - INFO - _extract_sections_by_headings:189 - Successfully extracted 3 sections
2025-10-16 10:38:43 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 3 section(s) for a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/section-level-content/miniviewer_1.txt
2025-10-16 10:38:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/section-level-content/miniviewer_2.txt
2025-10-16 10:38:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a5d7fc5f-3d05-4749-8310-e2780bff180b/section-level-content/miniviewer_3.txt
2025-10-16 10:38:43 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 10:38:44 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.33s for source_id: a5d7fc5f-3d05-4749-8310-e2780bff180b
2025-10-16 10:38:44 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 10:38:44 - src.text_processor - INFO - process_cases:147 - Processing case: 81372f2b-816a-45e0-9f70-bcabc0909534 (3/187)
2025-10-16 10:38:44 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 10:38:44 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:38:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/miniviewer.html
2025-10-16 10:38:44 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:38:44 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:38:44 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:38:44 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 7754
2025-10-16 10:51:37 - root - INFO - main:75 - ======================================================================
2025-10-16 10:51:37 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 10:51:37 - root - INFO - main:77 - Mode: both
2025-10-16 10:51:37 - root - INFO - main:78 - ======================================================================
2025-10-16 10:51:37 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 10:51:37 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 10:51:37 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 10:51:37 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:51:37 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 10:51:37 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 10:51:37 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 10:51:38 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 520ab78c-b097-48b0-8d00-7702c4e8efd5
2025-10-16 10:51:38 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:51:38 - src.html_transformer - INFO - _load_prompt:49 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 10:51:38 - src.html_transformer - INFO - __init__:42 - HtmlTransformer initialized with Gemini HTML generation
2025-10-16 10:51:38 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 10:51:38 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 10:51:38 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 10:51:38 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:135 - Found 186 cases for all years from registry requiring processing.
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/186)
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 10:51:39 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:51:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 10:51:40 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:51:40 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:51:40 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:51:40 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 10:52:37 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2689
2025-10-16 10:52:37 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:52:37 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 7517 characters
2025-10-16 10:52:37 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:52:37 - src.html_transformer - INFO - transform:165 - ✓ Gemini generated HTML with 13 heading tags
2025-10-16 10:52:37 - src.html_transformer - INFO - transform:185 - ✓ HTML generation complete. Tokens: 6376 in / 2689 out. Cost: $0.056275
2025-10-16 10:52:37 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 10:52:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 10:52:38 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 10:52:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 10:52:38 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 10:52:38 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 10:52:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 10:52:38 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 10:52:38 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 2689 output | Cost: $0.056275
2025-10-16 10:52:38 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20465 bytes
2025-10-16 10:52:38 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 58.28s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:38 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:38 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:38 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:38 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:38 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 10:52:38 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 10:52:38 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 10:52:38 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 10:52:38 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 10:52:38 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 10:52:39 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:39 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 10:52:39 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 10:52:39 - src.section_extractor - INFO - extract_sections:35 - Found 3 H1 headings
2025-10-16 10:52:39 - src.section_extractor - INFO - _extract_sections_from_headings:101 - Found content before first heading
2025-10-16 10:52:39 - src.section_extractor - INFO - _extract_sections_from_headings:132 - Extracted 3 sections
2025-10-16 10:52:39 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 3 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 10:52:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 10:52:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 10:52:39 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 10:52:40 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.52s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 10:52:40 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 10:52:40 - src.text_processor - INFO - process_cases:147 - Processing case: 81372f2b-816a-45e0-9f70-bcabc0909534 (2/186)
2025-10-16 10:52:40 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 10:52:40 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:52:40 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/miniviewer.html
2025-10-16 10:52:40 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:52:40 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:52:40 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:52:40 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 7754
2025-10-16 10:54:16 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3779
2025-10-16 10:54:16 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 10:54:16 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 10741 characters
2025-10-16 10:54:16 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 10:54:16 - src.html_transformer - INFO - transform:165 - ✓ Gemini generated HTML with 19 heading tags
2025-10-16 10:54:16 - src.html_transformer - INFO - transform:185 - ✓ HTML generation complete. Tokens: 7754 in / 3779 out. Cost: $0.076070
2025-10-16 10:54:16 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 10:54:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/juriscontent.html
2025-10-16 10:54:16 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 10:54:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/miniviewer_genai.html
2025-10-16 10:54:16 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 10:54:16 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/juriscontent_gemini_response.json
2025-10-16 10:54:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/juriscontent_gemini_response.json
2025-10-16 10:54:16 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 10:54:16 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 7754 input, 3779 output | Cost: $0.076070
2025-10-16 10:54:16 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 24596 bytes
2025-10-16 10:54:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 96.61s for source_id: 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:17 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:17 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:17 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:17 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:17 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 10:54:17 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/section-level-content/
2025-10-16 10:54:17 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/section-level-content/
2025-10-16 10:54:17 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/juriscontent.html
2025-10-16 10:54:17 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 10:54:17 - src.section_extractor - INFO - extract_sections:35 - Found 2 H1 headings
2025-10-16 10:54:17 - src.section_extractor - INFO - _extract_sections_from_headings:101 - Found content before first heading
2025-10-16 10:54:17 - src.section_extractor - INFO - _extract_sections_from_headings:132 - Extracted 3 sections
2025-10-16 10:54:17 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 3 section(s) for 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/section-level-content/miniviewer_1.txt
2025-10-16 10:54:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/section-level-content/miniviewer_2.txt
2025-10-16 10:54:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/81372f2b-816a-45e0-9f70-bcabc0909534/section-level-content/miniviewer_3.txt
2025-10-16 10:54:18 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 10:54:18 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.30s for source_id: 81372f2b-816a-45e0-9f70-bcabc0909534
2025-10-16 10:54:18 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 10:54:18 - src.text_processor - INFO - process_cases:147 - Processing case: 45e8602d-8fb0-4350-af31-ae87d43a2c6c (3/186)
2025-10-16 10:54:18 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 10:54:18 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 10:54:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/miniviewer.html
2025-10-16 10:54:18 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 10:54:18 - src.html_transformer - INFO - transform:127 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 10:54:18 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 10:54:18 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5303
2025-10-16 11:09:42 - root - INFO - main:75 - ======================================================================
2025-10-16 11:09:42 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 11:09:42 - root - INFO - main:77 - Mode: both
2025-10-16 11:09:42 - root - INFO - main:78 - ======================================================================
2025-10-16 11:09:42 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 11:09:42 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 11:09:42 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 11:09:42 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:09:42 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 11:09:42 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 11:09:42 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 11:09:42 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: fffdd54e-1eef-4bc9-aa14-864bfb013c74
2025-10-16 11:09:42 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:09:42 - src.html_transformer - INFO - _load_prompt:52 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 11:09:42 - src.html_transformer - INFO - __init__:45 - HtmlTransformer initialized with Gemini HTML generation and anchor tag embedding
2025-10-16 11:09:43 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 11:09:43 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 11:09:43 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 11:09:43 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 11:09:43 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 11:09:43 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 11:09:43 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 11:09:43 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 11:09:43 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 11:09:44 - src.text_processor - INFO - process_cases:135 - Found 185 cases for all years from registry requiring processing.
2025-10-16 11:09:44 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:09:44 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/185)
2025-10-16 11:09:44 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:09:44 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:09:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 11:09:44 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:09:44 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:09:44 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:09:45 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 11:10:39 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2952
2025-10-16 11:10:39 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:10:39 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8199 characters
2025-10-16 11:10:39 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:10:39 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 12 heading tags
2025-10-16 11:10:39 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:10:39 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 12 new anchor tags (preserved existing ones)
2025-10-16 11:10:39 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 6376 in / 2952 out. Cost: $0.060220
2025-10-16 11:10:39 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:10:39 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:10:39 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:10:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:10:39 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:10:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 11:10:39 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:10:39 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:10:39 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:10:39 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:10:39 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 2952 output | Cost: $0.060220
2025-10-16 11:10:39 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 21084 bytes
2025-10-16 11:10:39 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 55.36s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:40 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:40 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:40 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:40 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:40 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:10:40 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:10:40 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:10:40 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 3 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:10:40 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 3 files from folder
2025-10-16 11:10:40 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:10:40 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 3 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:41 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:10:41 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:10:41 - src.section_extractor - INFO - extract_sections:44 - Found 3 H1 headings
2025-10-16 11:10:41 - src.section_extractor - INFO - _extract_sections_from_headings:115 - Found content before first heading (735 chars)
2025-10-16 11:10:41 - src.section_extractor - INFO - _extract_sections_from_headings:149 - Extracted 4 sections total
2025-10-16 11:10:41 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 11:10:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 11:10:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 11:10:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 11:10:41 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:10:41 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.65s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:10:41 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:10:41 - src.text_processor - INFO - process_cases:147 - Processing case: 45e8602d-8fb0-4350-af31-ae87d43a2c6c (2/185)
2025-10-16 11:10:41 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:10:41 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:10:42 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/miniviewer.html
2025-10-16 11:10:42 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:10:42 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:10:42 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:10:42 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5303
2025-10-16 11:11:42 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2218
2025-10-16 11:11:42 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:11:42 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 5860 characters
2025-10-16 11:11:42 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:11:42 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 11:11:42 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:11:42 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 11:11:42 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 5303 in / 2218 out. Cost: $0.046527
2025-10-16 11:11:42 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:11:42 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:11:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/juriscontent.html
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:11:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/miniviewer_genai.html
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/juriscontent_gemini_response.json
2025-10-16 11:11:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/juriscontent_gemini_response.json
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 5303 input, 2218 output | Cost: $0.046527
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 18447 bytes
2025-10-16 11:11:42 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 60.47s for source_id: 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:42 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:42 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:42 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:42 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:42 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:11:42 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/section-level-content/
2025-10-16 11:11:42 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/section-level-content/
2025-10-16 11:11:43 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/juriscontent.html
2025-10-16 11:11:43 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:11:43 - src.section_extractor - INFO - extract_sections:44 - Found 2 H1 headings
2025-10-16 11:11:43 - src.section_extractor - INFO - _extract_sections_from_headings:115 - Found content before first heading (828 chars)
2025-10-16 11:11:43 - src.section_extractor - INFO - _extract_sections_from_headings:149 - Extracted 3 sections total
2025-10-16 11:11:43 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 3 section(s) for 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/section-level-content/miniviewer_1.txt
2025-10-16 11:11:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/section-level-content/miniviewer_2.txt
2025-10-16 11:11:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/45e8602d-8fb0-4350-af31-ae87d43a2c6c/section-level-content/miniviewer_3.txt
2025-10-16 11:11:44 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 11:11:44 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.46s for source_id: 45e8602d-8fb0-4350-af31-ae87d43a2c6c
2025-10-16 11:11:44 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:11:44 - src.text_processor - INFO - process_cases:147 - Processing case: 0f54c351-c726-4d04-82c3-74a90dabf361 (3/185)
2025-10-16 11:11:44 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:11:44 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:11:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/miniviewer.html
2025-10-16 11:11:44 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:11:44 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:11:44 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:11:44 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5733
2025-10-16 11:18:41 - root - INFO - main:75 - ======================================================================
2025-10-16 11:18:41 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 11:18:41 - root - INFO - main:77 - Mode: both
2025-10-16 11:18:41 - root - INFO - main:78 - ======================================================================
2025-10-16 11:18:41 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 11:18:41 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 11:18:41 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 11:18:41 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:18:41 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 11:18:41 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 11:18:41 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 11:18:42 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 604d1d4c-d42b-4420-8dd2-241fb455a165
2025-10-16 11:18:42 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:18:42 - src.html_transformer - INFO - _load_prompt:52 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 11:18:42 - src.html_transformer - INFO - __init__:45 - HtmlTransformer initialized with Gemini HTML generation and anchor tag embedding
2025-10-16 11:18:42 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 11:18:42 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 11:18:42 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 11:18:42 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:135 - Found 184 cases for all years from registry requiring processing.
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/184)
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:18:43 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:18:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 11:18:44 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:18:44 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:18:44 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:18:45 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 11:20:04 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3125
2025-10-16 11:20:04 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:20:04 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8371 characters
2025-10-16 11:20:04 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:20:04 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 7 heading tags
2025-10-16 11:20:04 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:20:04 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 7 new anchor tags (preserved existing ones)
2025-10-16 11:20:04 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 6376 in / 3125 out. Cost: $0.062815
2025-10-16 11:20:04 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:20:04 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:20:04 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:20:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:20:04 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:20:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 11:20:05 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:20:05 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:20:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:20:05 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:20:05 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3125 output | Cost: $0.062815
2025-10-16 11:20:05 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20840 bytes
2025-10-16 11:20:05 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 81.21s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:05 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:05 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:05 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:05 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:05 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:20:05 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:20:05 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:20:05 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:20:05 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 11:20:05 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:20:06 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:20:06 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:20:06 - src.section_extractor - INFO - extract_sections:39 - Found 3 H1 headings
2025-10-16 11:20:06 - src.section_extractor - INFO - _extract_sections_from_h1:102 - Found content before first H1 heading (604 chars)
2025-10-16 11:20:06 - src.section_extractor - INFO - _extract_sections_from_h1:140 - Extracted 4 sections with 1867 total characters
2025-10-16 11:20:06 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 11:20:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 11:20:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 11:20:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 11:20:07 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:20:07 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.69s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:20:07 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:20:07 - src.text_processor - INFO - process_cases:147 - Processing case: 0f54c351-c726-4d04-82c3-74a90dabf361 (2/184)
2025-10-16 11:20:07 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:20:07 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:20:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/miniviewer.html
2025-10-16 11:20:07 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:20:07 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:20:07 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:20:07 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5733
2025-10-16 11:21:18 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1825
2025-10-16 11:21:18 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:21:18 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 5102 characters
2025-10-16 11:21:18 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:21:18 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 8 heading tags
2025-10-16 11:21:18 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:21:18 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 8 new anchor tags (preserved existing ones)
2025-10-16 11:21:18 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 5733 in / 1825 out. Cost: $0.041708
2025-10-16 11:21:18 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:21:18 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:21:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/juriscontent.html
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:21:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/miniviewer_genai.html
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/juriscontent_gemini_response.json
2025-10-16 11:21:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/juriscontent_gemini_response.json
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 5733 input, 1825 output | Cost: $0.041708
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 18157 bytes
2025-10-16 11:21:18 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 71.18s for source_id: 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:18 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:18 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:18 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:18 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:18 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:21:18 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/section-level-content/
2025-10-16 11:21:18 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/section-level-content/
2025-10-16 11:21:19 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:19 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/juriscontent.html
2025-10-16 11:21:19 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:21:19 - src.section_extractor - INFO - extract_sections:39 - Found 2 H1 headings
2025-10-16 11:21:19 - src.section_extractor - INFO - _extract_sections_from_h1:102 - Found content before first H1 heading (599 chars)
2025-10-16 11:21:19 - src.section_extractor - INFO - _extract_sections_from_h1:140 - Extracted 3 sections with 1445 total characters
2025-10-16 11:21:19 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 3 section(s) for 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/section-level-content/miniviewer_1.txt
2025-10-16 11:21:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/section-level-content/miniviewer_2.txt
2025-10-16 11:21:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0f54c351-c726-4d04-82c3-74a90dabf361/section-level-content/miniviewer_3.txt
2025-10-16 11:21:20 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 11:21:20 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.37s for source_id: 0f54c351-c726-4d04-82c3-74a90dabf361
2025-10-16 11:21:20 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:21:20 - src.text_processor - INFO - process_cases:147 - Processing case: 93a5e3aa-4ced-4890-966e-dd4e578a5714 (3/184)
2025-10-16 11:21:20 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:21:20 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:21:20 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/miniviewer.html
2025-10-16 11:21:20 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:21:20 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:21:20 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:21:20 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6536
2025-10-16 11:22:36 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3321
2025-10-16 11:22:36 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:22:36 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 11916 characters
2025-10-16 11:22:36 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:22:36 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 6 heading tags
2025-10-16 11:22:36 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:22:36 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 6 new anchor tags (preserved existing ones)
2025-10-16 11:22:36 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 6536 in / 3321 out. Cost: $0.066155
2025-10-16 11:22:36 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:22:36 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:22:36 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:22:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/juriscontent.html
2025-10-16 11:22:36 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:22:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/miniviewer_genai.html
2025-10-16 11:22:37 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:22:37 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/juriscontent_gemini_response.json
2025-10-16 11:22:37 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/juriscontent_gemini_response.json
2025-10-16 11:22:37 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:22:37 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6536 input, 3321 output | Cost: $0.066155
2025-10-16 11:22:37 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20651 bytes
2025-10-16 11:22:37 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 76.88s for source_id: 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:37 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:37 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:37 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:37 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:37 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:22:37 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/section-level-content/
2025-10-16 11:22:37 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/section-level-content/
2025-10-16 11:22:38 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:38 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/juriscontent.html
2025-10-16 11:22:38 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:22:38 - src.section_extractor - INFO - extract_sections:39 - Found 3 H1 headings
2025-10-16 11:22:38 - src.section_extractor - INFO - _extract_sections_from_h1:102 - Found content before first H1 heading (701 chars)
2025-10-16 11:22:38 - src.section_extractor - INFO - _extract_sections_from_h1:140 - Extracted 4 sections with 1820 total characters
2025-10-16 11:22:38 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/section-level-content/miniviewer_1.txt
2025-10-16 11:22:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/section-level-content/miniviewer_2.txt
2025-10-16 11:22:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/section-level-content/miniviewer_3.txt
2025-10-16 11:22:38 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/93a5e3aa-4ced-4890-966e-dd4e578a5714/section-level-content/miniviewer_4.txt
2025-10-16 11:22:38 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:22:38 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.49s for source_id: 93a5e3aa-4ced-4890-966e-dd4e578a5714
2025-10-16 11:22:38 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:22:38 - src.text_processor - INFO - process_cases:147 - Processing case: a1b941d7-7d06-44b5-a070-b881c429f3f7 (4/184)
2025-10-16 11:22:38 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:22:39 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:22:39 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/miniviewer.html
2025-10-16 11:22:39 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:22:39 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:22:39 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:22:39 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 3800
2025-10-16 11:23:07 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1524
2025-10-16 11:23:07 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:23:07 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 4033 characters
2025-10-16 11:23:07 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:23:07 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 2 heading tags
2025-10-16 11:23:07 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:23:07 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 2 new anchor tags (preserved existing ones)
2025-10-16 11:23:07 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 3800 in / 1524 out. Cost: $0.032360
2025-10-16 11:23:07 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:23:07 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:23:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/juriscontent.html
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:23:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/miniviewer_genai.html
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/juriscontent_gemini_response.json
2025-10-16 11:23:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/juriscontent_gemini_response.json
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 3800 input, 1524 output | Cost: $0.032360
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 15467 bytes
2025-10-16 11:23:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 28.43s for source_id: a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:07 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:07 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:07 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:07 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:07 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:23:07 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/section-level-content/
2025-10-16 11:23:07 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/section-level-content/
2025-10-16 11:23:08 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/juriscontent.html
2025-10-16 11:23:08 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:23:08 - src.section_extractor - INFO - extract_sections:39 - Found 1 H1 headings
2025-10-16 11:23:08 - src.section_extractor - INFO - _extract_sections_from_h1:102 - Found content before first H1 heading (11 chars)
2025-10-16 11:23:08 - src.section_extractor - INFO - _extract_sections_from_h1:140 - Extracted 2 sections with 290 total characters
2025-10-16 11:23:08 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 2 section(s) for a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/section-level-content/miniviewer_1.txt
2025-10-16 11:23:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a1b941d7-7d06-44b5-a070-b881c429f3f7/section-level-content/miniviewer_2.txt
2025-10-16 11:23:08 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 2 sections saved
2025-10-16 11:23:08 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.08s for source_id: a1b941d7-7d06-44b5-a070-b881c429f3f7
2025-10-16 11:23:08 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:23:08 - src.text_processor - INFO - process_cases:147 - Processing case: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2 (5/184)
2025-10-16 11:23:08 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:23:08 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:23:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/miniviewer.html
2025-10-16 11:23:09 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:23:09 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:23:09 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:23:09 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 10839
2025-10-16 11:24:50 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 5904
2025-10-16 11:24:50 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:24:50 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 15819 characters
2025-10-16 11:24:50 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:24:50 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 16 heading tags
2025-10-16 11:24:50 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:24:50 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 16 new anchor tags (preserved existing ones)
2025-10-16 11:24:50 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 10839 in / 5904 out. Cost: $0.115657
2025-10-16 11:24:50 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:24:50 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:24:50 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:24:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/juriscontent.html
2025-10-16 11:24:50 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:24:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/miniviewer_genai.html
2025-10-16 11:24:50 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:24:50 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/juriscontent_gemini_response.json
2025-10-16 11:24:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/juriscontent_gemini_response.json
2025-10-16 11:24:51 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:24:51 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 10839 input, 5904 output | Cost: $0.115657
2025-10-16 11:24:51 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 31137 bytes
2025-10-16 11:24:51 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 102.06s for source_id: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:51 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:51 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:51 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:51 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:51 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:24:51 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/
2025-10-16 11:24:51 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/
2025-10-16 11:24:51 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/juriscontent.html
2025-10-16 11:24:52 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:24:52 - src.section_extractor - INFO - extract_sections:39 - Found 7 H1 headings
2025-10-16 11:24:52 - src.section_extractor - INFO - _extract_sections_from_h1:102 - Found content before first H1 heading (917 chars)
2025-10-16 11:24:52 - src.section_extractor - INFO - _extract_sections_from_h1:140 - Extracted 8 sections with 3864 total characters
2025-10-16 11:24:52 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 8 section(s) for b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_1.txt
2025-10-16 11:24:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_2.txt
2025-10-16 11:24:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_3.txt
2025-10-16 11:24:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_4.txt
2025-10-16 11:24:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_5.txt
2025-10-16 11:24:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_6.txt
2025-10-16 11:24:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_7.txt
2025-10-16 11:24:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2/section-level-content/miniviewer_8.txt
2025-10-16 11:24:53 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 8 sections saved
2025-10-16 11:24:53 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.18s for source_id: b3e1bf7b-ffa0-40bf-901f-d6eff2c160f2
2025-10-16 11:24:53 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:24:53 - src.text_processor - INFO - process_cases:147 - Processing case: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af (6/184)
2025-10-16 11:24:53 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:24:53 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:24:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/miniviewer.html
2025-10-16 11:24:53 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:24:53 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:24:53 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:24:53 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6952
2025-10-16 11:26:08 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2656
2025-10-16 11:26:08 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:26:08 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 7607 characters
2025-10-16 11:26:08 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:26:08 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 11 heading tags
2025-10-16 11:26:08 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:26:08 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 11 new anchor tags (preserved existing ones)
2025-10-16 11:26:08 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 6952 in / 2656 out. Cost: $0.057220
2025-10-16 11:26:08 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:26:08 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:26:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/juriscontent.html
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:26:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/miniviewer_genai.html
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/juriscontent_gemini_response.json
2025-10-16 11:26:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/juriscontent_gemini_response.json
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6952 input, 2656 output | Cost: $0.057220
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 21262 bytes
2025-10-16 11:26:08 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 75.12s for source_id: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:08 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:08 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:08 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:09 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:09 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:26:09 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/section-level-content/
2025-10-16 11:26:09 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/section-level-content/
2025-10-16 11:26:09 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/juriscontent.html
2025-10-16 11:26:09 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:26:09 - src.section_extractor - INFO - extract_sections:39 - Found 4 H1 headings
2025-10-16 11:26:09 - src.section_extractor - INFO - _extract_sections_from_h1:102 - Found content before first H1 heading (760 chars)
2025-10-16 11:26:09 - src.section_extractor - INFO - _extract_sections_from_h1:140 - Extracted 5 sections with 2227 total characters
2025-10-16 11:26:09 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 5 section(s) for 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/section-level-content/miniviewer_1.txt
2025-10-16 11:26:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/section-level-content/miniviewer_2.txt
2025-10-16 11:26:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/section-level-content/miniviewer_3.txt
2025-10-16 11:26:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/section-level-content/miniviewer_4.txt
2025-10-16 11:26:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/7f15a9fd-80e2-41b5-9009-ea12e2ea76af/section-level-content/miniviewer_5.txt
2025-10-16 11:26:10 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-16 11:26:10 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.65s for source_id: 7f15a9fd-80e2-41b5-9009-ea12e2ea76af
2025-10-16 11:26:10 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:26:10 - src.text_processor - INFO - process_cases:147 - Processing case: fb21045d-ffb1-47cc-a998-63c3803c78e6 (7/184)
2025-10-16 11:26:10 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:26:10 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:26:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/miniviewer.html
2025-10-16 11:26:10 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:26:10 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:26:10 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:26:11 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6380
2025-10-16 11:27:28 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2180
2025-10-16 11:27:28 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:27:28 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6282 characters
2025-10-16 11:27:28 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:27:28 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 12 heading tags
2025-10-16 11:27:28 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:27:28 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 12 new anchor tags (preserved existing ones)
2025-10-16 11:27:28 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 6380 in / 2180 out. Cost: $0.048650
2025-10-16 11:27:28 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:27:28 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:27:28 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:27:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/juriscontent.html
2025-10-16 11:27:28 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:27:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/miniviewer_genai.html
2025-10-16 11:27:28 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:27:28 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/juriscontent_gemini_response.json
2025-10-16 11:27:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/juriscontent_gemini_response.json
2025-10-16 11:27:28 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:27:28 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6380 input, 2180 output | Cost: $0.048650
2025-10-16 11:27:28 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 19575 bytes
2025-10-16 11:27:29 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 78.09s for source_id: fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:29 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:29 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:29 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:29 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:29 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:27:29 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/section-level-content/
2025-10-16 11:27:29 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/section-level-content/
2025-10-16 11:27:29 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/juriscontent.html
2025-10-16 11:27:29 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:27:29 - src.section_extractor - INFO - extract_sections:39 - Found 3 H1 headings
2025-10-16 11:27:29 - src.section_extractor - INFO - _extract_sections_from_h1:102 - Found content before first H1 heading (652 chars)
2025-10-16 11:27:29 - src.section_extractor - INFO - _extract_sections_from_h1:140 - Extracted 4 sections with 2205 total characters
2025-10-16 11:27:29 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/section-level-content/miniviewer_1.txt
2025-10-16 11:27:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/section-level-content/miniviewer_2.txt
2025-10-16 11:27:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/section-level-content/miniviewer_3.txt
2025-10-16 11:27:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/fb21045d-ffb1-47cc-a998-63c3803c78e6/section-level-content/miniviewer_4.txt
2025-10-16 11:27:30 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:27:30 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.48s for source_id: fb21045d-ffb1-47cc-a998-63c3803c78e6
2025-10-16 11:27:30 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:27:30 - src.text_processor - INFO - process_cases:147 - Processing case: 89c20420-0da1-4ca5-9b7f-50fba3a836c1 (8/184)
2025-10-16 11:27:30 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:27:30 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:27:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/miniviewer.html
2025-10-16 11:27:30 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:27:30 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:27:30 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:27:31 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5384
2025-10-16 11:27:47 - root - INFO - main:75 - ======================================================================
2025-10-16 11:27:47 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 11:27:47 - root - INFO - main:77 - Mode: both
2025-10-16 11:27:47 - root - INFO - main:78 - ======================================================================
2025-10-16 11:27:47 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 11:27:47 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 11:27:47 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 11:27:47 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:27:47 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 11:27:47 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 11:27:47 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 11:27:47 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: a3626c4d-688e-4f85-8b4d-0588b2cd6d72
2025-10-16 11:27:47 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:27:47 - src.html_transformer - INFO - _load_prompt:52 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 11:27:47 - src.html_transformer - INFO - __init__:45 - HtmlTransformer initialized with Gemini HTML generation and anchor tag embedding
2025-10-16 11:27:47 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 11:27:47 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 11:27:47 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 11:27:47 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:135 - Found 178 cases for all years from registry requiring processing.
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/178)
2025-10-16 11:27:48 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:27:49 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:27:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 11:27:49 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:27:49 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:27:49 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:27:50 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 11:28:54 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2481
2025-10-16 11:28:54 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:28:54 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6759 characters
2025-10-16 11:28:54 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:28:54 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 13 heading tags
2025-10-16 11:28:54 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:28:54 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 13 new anchor tags (preserved existing ones)
2025-10-16 11:28:54 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 6376 in / 2481 out. Cost: $0.053155
2025-10-16 11:28:54 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:28:54 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:28:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:28:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:28:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 2481 output | Cost: $0.053155
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 19908 bytes
2025-10-16 11:28:54 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 65.58s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:54 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:54 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:54 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:54 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:54 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:28:54 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:28:54 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:28:55 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:28:55 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 11:28:55 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:28:55 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:55 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:28:55 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:28:55 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 11:28:55 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 11:28:55 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2525 total characters
2025-10-16 11:28:55 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 11:28:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 11:28:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 11:28:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 11:28:56 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:28:56 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.66s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:28:56 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:28:56 - src.text_processor - INFO - process_cases:147 - Processing case: 89c20420-0da1-4ca5-9b7f-50fba3a836c1 (2/178)
2025-10-16 11:28:56 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:28:56 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:28:56 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/miniviewer.html
2025-10-16 11:28:56 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:28:56 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:28:56 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:28:57 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5384
2025-10-16 11:30:22 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1830
2025-10-16 11:30:22 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:30:22 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 5023 characters
2025-10-16 11:30:22 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:30:22 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 11:30:22 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:30:22 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 11:30:22 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 5384 in / 1830 out. Cost: $0.040910
2025-10-16 11:30:22 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:30:22 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:30:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/juriscontent.html
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:30:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/miniviewer_genai.html
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/juriscontent_gemini_response.json
2025-10-16 11:30:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/juriscontent_gemini_response.json
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 5384 input, 1830 output | Cost: $0.040910
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 17709 bytes
2025-10-16 11:30:22 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 85.71s for source_id: 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:22 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:22 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:22 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:22 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:22 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:30:22 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/section-level-content/
2025-10-16 11:30:22 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/section-level-content/
2025-10-16 11:30:23 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/juriscontent.html
2025-10-16 11:30:23 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:30:23 - src.section_extractor - INFO - extract_sections:37 - Found 2 H1 headings
2025-10-16 11:30:23 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (587 chars)
2025-10-16 11:30:23 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 3 sections with 1617 total characters
2025-10-16 11:30:23 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 3 section(s) for 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/section-level-content/miniviewer_1.txt
2025-10-16 11:30:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/section-level-content/miniviewer_2.txt
2025-10-16 11:30:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/89c20420-0da1-4ca5-9b7f-50fba3a836c1/section-level-content/miniviewer_3.txt
2025-10-16 11:30:23 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 11:30:24 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.27s for source_id: 89c20420-0da1-4ca5-9b7f-50fba3a836c1
2025-10-16 11:30:24 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:30:24 - src.text_processor - INFO - process_cases:147 - Processing case: c8259a3b-7667-4655-b4a0-fc18f59c6259 (3/178)
2025-10-16 11:30:24 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:30:24 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:30:24 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/miniviewer.html
2025-10-16 11:30:24 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:30:24 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:30:24 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:30:24 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5726
2025-10-16 11:31:50 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2244
2025-10-16 11:31:50 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:31:50 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 5693 characters
2025-10-16 11:31:50 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:31:50 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 8 heading tags
2025-10-16 11:31:50 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:31:50 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 8 new anchor tags (preserved existing ones)
2025-10-16 11:31:50 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 5726 in / 2244 out. Cost: $0.047975
2025-10-16 11:31:50 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:31:50 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:31:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/juriscontent.html
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:31:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/miniviewer_genai.html
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/juriscontent_gemini_response.json
2025-10-16 11:31:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/juriscontent_gemini_response.json
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 5726 input, 2244 output | Cost: $0.047975
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 18364 bytes
2025-10-16 11:31:50 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 86.48s for source_id: c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:50 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:50 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:50 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:50 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:50 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:31:50 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/section-level-content/
2025-10-16 11:31:50 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/section-level-content/
2025-10-16 11:31:51 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/juriscontent.html
2025-10-16 11:31:51 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:31:51 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 11:31:51 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (580 chars)
2025-10-16 11:31:51 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 1316 total characters
2025-10-16 11:31:51 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/section-level-content/miniviewer_1.txt
2025-10-16 11:31:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/section-level-content/miniviewer_2.txt
2025-10-16 11:31:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/section-level-content/miniviewer_3.txt
2025-10-16 11:31:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/c8259a3b-7667-4655-b4a0-fc18f59c6259/section-level-content/miniviewer_4.txt
2025-10-16 11:31:52 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:31:52 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.44s for source_id: c8259a3b-7667-4655-b4a0-fc18f59c6259
2025-10-16 11:31:52 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:31:52 - src.text_processor - INFO - process_cases:147 - Processing case: 41b9453d-5362-4f8a-933b-d8832122e708 (4/178)
2025-10-16 11:31:52 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:31:52 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:31:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/miniviewer.html
2025-10-16 11:31:52 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:31:52 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:31:52 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:31:52 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5713
2025-10-16 11:32:27 - root - INFO - main:75 - ======================================================================
2025-10-16 11:32:27 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 11:32:27 - root - INFO - main:77 - Mode: both
2025-10-16 11:32:27 - root - INFO - main:78 - ======================================================================
2025-10-16 11:32:27 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 11:32:27 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_config_structure:139 - Configuration structure validation passed.
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_config_structure:140 -   ✓ Database configuration
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_config_structure:141 -   ✓ AWS configuration
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_config_structure:142 -   ✓ Tables configuration
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Models configuration (Gemini)
2025-10-16 11:32:27 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ Heading detection configuration
2025-10-16 11:32:27 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:32:27 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 11:32:27 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 11:32:27 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 11:32:28 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 65a95754-6350-43aa-ac8e-aa2b279350d5
2025-10-16 11:32:28 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:32:28 - src.html_transformer - INFO - _load_prompt:52 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 11:32:28 - src.html_transformer - INFO - __init__:45 - HtmlTransformer initialized with Gemini HTML generation and anchor tag embedding
2025-10-16 11:32:28 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 11:32:28 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 11:32:28 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 11:32:28 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 11:32:28 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 11:32:28 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 11:32:28 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 11:32:28 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 11:32:28 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 11:32:29 - src.text_processor - INFO - process_cases:135 - Found 176 cases for all years from registry requiring processing.
2025-10-16 11:32:29 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:32:29 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/176)
2025-10-16 11:32:29 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:32:29 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:32:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 11:32:29 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:32:29 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:32:29 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:32:30 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 11:34:01 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3247
2025-10-16 11:34:01 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:34:01 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8661 characters
2025-10-16 11:34:01 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:34:01 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 11:34:01 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:34:01 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 11:34:01 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 6376 in / 3247 out. Cost: $0.064645
2025-10-16 11:34:01 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:34:01 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:34:01 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:34:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:34:02 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:34:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 11:34:02 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:34:02 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:34:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 11:34:02 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:34:02 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3247 output | Cost: $0.064645
2025-10-16 11:34:02 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 21004 bytes
2025-10-16 11:34:02 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 92.46s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:02 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:02 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:02 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:02 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:02 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:34:02 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:34:02 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:34:02 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:34:02 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 11:34:02 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 11:34:03 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 11:34:03 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:34:03 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 11:34:03 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 11:34:03 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2249 total characters
2025-10-16 11:34:03 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 11:34:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 11:34:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 11:34:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 11:34:04 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:34:04 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.63s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 11:34:04 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:34:04 - src.text_processor - INFO - process_cases:147 - Processing case: 41b9453d-5362-4f8a-933b-d8832122e708 (2/176)
2025-10-16 11:34:04 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:34:04 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:34:04 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/miniviewer.html
2025-10-16 11:34:04 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:34:04 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:34:04 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:34:04 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5713
2025-10-16 11:35:04 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2507
2025-10-16 11:35:04 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:35:04 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6655 characters
2025-10-16 11:35:04 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:35:04 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 6 heading tags
2025-10-16 11:35:04 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:35:04 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 6 new anchor tags (preserved existing ones)
2025-10-16 11:35:04 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 5713 in / 2507 out. Cost: $0.051888
2025-10-16 11:35:04 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:35:04 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:35:04 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:35:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/juriscontent.html
2025-10-16 11:35:05 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:35:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/miniviewer_genai.html
2025-10-16 11:35:05 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:35:05 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/juriscontent_gemini_response.json
2025-10-16 11:35:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/juriscontent_gemini_response.json
2025-10-16 11:35:05 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:35:05 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 5713 input, 2507 output | Cost: $0.051888
2025-10-16 11:35:05 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 19208 bytes
2025-10-16 11:35:05 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 60.94s for source_id: 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:05 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:05 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:05 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:05 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:05 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:35:05 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/section-level-content/
2025-10-16 11:35:05 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/section-level-content/
2025-10-16 11:35:06 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/juriscontent.html
2025-10-16 11:35:06 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:35:06 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 11:35:06 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (548 chars)
2025-10-16 11:35:06 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 1403 total characters
2025-10-16 11:35:06 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/section-level-content/miniviewer_1.txt
2025-10-16 11:35:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/section-level-content/miniviewer_2.txt
2025-10-16 11:35:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/section-level-content/miniviewer_3.txt
2025-10-16 11:35:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/41b9453d-5362-4f8a-933b-d8832122e708/section-level-content/miniviewer_4.txt
2025-10-16 11:35:06 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:35:07 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.54s for source_id: 41b9453d-5362-4f8a-933b-d8832122e708
2025-10-16 11:35:07 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:35:07 - src.text_processor - INFO - process_cases:147 - Processing case: 97adba6b-1dbf-46c0-b852-510b3a1db306 (3/176)
2025-10-16 11:35:07 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:35:07 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:35:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/miniviewer.html
2025-10-16 11:35:07 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:35:07 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:35:07 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:35:07 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5201
2025-10-16 11:36:13 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2494
2025-10-16 11:36:13 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 11:36:13 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6403 characters
2025-10-16 11:36:13 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 11:36:13 - src.html_transformer - INFO - transform:237 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 11:36:13 - src.html_transformer - INFO - transform:240 - → Adding anchor tags to generated headings...
2025-10-16 11:36:13 - src.html_transformer - INFO - _add_anchor_tags_to_headings:117 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 11:36:13 - src.html_transformer - INFO - transform:261 - ✓ HTML generation complete. Tokens: 5201 in / 2494 out. Cost: $0.050412
2025-10-16 11:36:13 - src.html_transformer - INFO - transform:291 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 11:36:13 - src.html_transformer - INFO - transform:294 - ✓ Juriscontent generation complete
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 11:36:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/juriscontent.html
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 11:36:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/miniviewer_genai.html
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/juriscontent_gemini_response.json
2025-10-16 11:36:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/juriscontent_gemini_response.json
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 5201 input, 2494 output | Cost: $0.050412
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 18682 bytes
2025-10-16 11:36:13 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 66.48s for source_id: 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:13 - utils.database_connector - INFO - update_heading_detection_metrics:371 - Updated heading detection metrics for source_id: 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:13 - src.text_processor - INFO - _generate_and_save_juriscontent:288 - Token metrics saved to database for 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:13 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:13 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:13 - src.text_processor - INFO - _extract_and_save_sections:351 - Preparing section-level-content folder...
2025-10-16 11:36:13 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/section-level-content/
2025-10-16 11:36:13 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/section-level-content/
2025-10-16 11:36:14 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/juriscontent.html
2025-10-16 11:36:14 - src.text_processor - INFO - _extract_and_save_sections:363 - Extracting sections from juriscontent.html...
2025-10-16 11:36:14 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 11:36:14 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (734 chars)
2025-10-16 11:36:14 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 1333 total characters
2025-10-16 11:36:14 - src.text_processor - INFO - _extract_and_save_sections:375 - → Processing 4 section(s) for 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/section-level-content/miniviewer_1.txt
2025-10-16 11:36:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/section-level-content/miniviewer_2.txt
2025-10-16 11:36:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/section-level-content/miniviewer_3.txt
2025-10-16 11:36:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/97adba6b-1dbf-46c0-b852-510b3a1db306/section-level-content/miniviewer_4.txt
2025-10-16 11:36:15 - src.text_processor - INFO - _extract_and_save_sections:416 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 11:36:15 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.43s for source_id: 97adba6b-1dbf-46c0-b852-510b3a1db306
2025-10-16 11:36:15 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 11:36:15 - src.text_processor - INFO - process_cases:147 - Processing case: a7afec17-77d1-400d-bc97-1a4d21c1f2a8 (4/176)
2025-10-16 11:36:15 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 11:36:15 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 11:36:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/miniviewer.html
2025-10-16 11:36:15 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 11:36:15 - src.html_transformer - INFO - transform:200 - ✗ No semantic headings found. Using Gemini to generate HTML with headings...
2025-10-16 11:36:15 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 11:36:15 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 8355
2025-10-16 12:02:01 - root - INFO - main:75 - ======================================================================
2025-10-16 12:02:01 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:02:01 - root - INFO - main:77 - Mode: both
2025-10-16 12:02:01 - root - INFO - main:78 - ======================================================================
2025-10-16 12:02:01 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:02:01 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 12:02:01 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 12:02:01 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:02:01 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:02:01 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:02:01 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:02:02 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 52202fb1-5634-4357-8006-0398a892286a
2025-10-16 12:02:02 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:02:02 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 12:02:02 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 12:02:02 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:02:02 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:02:02 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:02:02 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:135 - Found 174 cases for all years from registry requiring processing.
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/174)
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:02:03 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:02:04 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:02:04 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:02:04 - src.html_transformer - INFO - transform:211 - Headings in source HTML (before processing): 0
2025-10-16 12:02:04 - src.html_transformer - INFO - transform:246 - ✗ No semantic headings found.
2025-10-16 12:02:04 - src.html_transformer - INFO - transform:247 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:02:04 - src.html_transformer - INFO - transform:248 - → Using Gemini to generate HTML with headings...
2025-10-16 12:02:04 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:02:05 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 12:03:28 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3116
2025-10-16 12:03:28 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 12:03:28 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8278 characters
2025-10-16 12:03:28 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 12:03:28 - src.html_transformer - INFO - transform:291 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 12:03:28 - src.html_transformer - INFO - transform:294 - → Adding anchor tags to generated headings...
2025-10-16 12:03:28 - src.html_transformer - INFO - _add_anchor_tags_to_headings:127 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 12:03:28 - src.html_transformer - INFO - transform:315 - ✓ HTML generation complete. Tokens: 6376 in / 3116 out. Cost: $0.062680
2025-10-16 12:03:28 - src.html_transformer - INFO - transform:346 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:03:28 - src.html_transformer - INFO - transform:349 - ✓ Juriscontent generation complete
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:03:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 12:03:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:03:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3116 output | Cost: $0.062680
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20643 bytes
2025-10-16 12:03:28 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 84.59s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:03:28 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:03:28 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: NOT USED
2025-10-16 12:03:28 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:03:28 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 0
2025-10-16 12:03:28 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: unknown)
2025-10-16 12:03:28 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:03:28 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:03:28 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:03:28 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:03:28 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:03:29 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:03:29 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 12:03:29 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:03:29 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:03:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:03:29 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:03:29 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 12:03:29 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 12:03:29 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2232 total characters
2025-10-16 12:03:29 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:03:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:03:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 12:03:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 12:03:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 12:03:30 - src.text_processor - INFO - _extract_and_save_sections:430 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 12:03:30 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.89s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:03:30 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:03:30 - src.text_processor - INFO - process_cases:147 - Processing case: a7afec17-77d1-400d-bc97-1a4d21c1f2a8 (2/174)
2025-10-16 12:03:30 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:03:30 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:03:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/miniviewer.html
2025-10-16 12:03:31 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:03:31 - src.html_transformer - INFO - transform:211 - Headings in source HTML (before processing): 0
2025-10-16 12:03:31 - src.html_transformer - INFO - transform:246 - ✗ No semantic headings found.
2025-10-16 12:03:31 - src.html_transformer - INFO - transform:247 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:03:31 - src.html_transformer - INFO - transform:248 - → Using Gemini to generate HTML with headings...
2025-10-16 12:03:31 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:03:31 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 8355
2025-10-16 12:12:01 - root - INFO - main:75 - ======================================================================
2025-10-16 12:12:01 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:12:01 - root - INFO - main:77 - Mode: both
2025-10-16 12:12:01 - root - INFO - main:78 - ======================================================================
2025-10-16 12:12:01 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:12:01 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 12:12:01 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 12:12:01 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:12:01 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:12:01 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:12:01 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:12:01 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 759e6b60-6c38-40d0-9de1-9387e290734a
2025-10-16 12:12:01 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:12:01 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 12:12:01 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 12:12:02 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:12:02 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:12:02 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:12:02 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:12:02 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:12:02 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:12:02 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:12:02 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:12:02 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:12:03 - src.text_processor - INFO - process_cases:135 - Found 174 cases for all years from registry requiring processing.
2025-10-16 12:12:03 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:12:03 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/174)
2025-10-16 12:12:03 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:12:03 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:12:03 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:12:03 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:12:03 - src.html_transformer - INFO - transform:211 - Headings in source HTML (before processing): 0
2025-10-16 12:12:03 - src.html_transformer - INFO - transform:260 - ✗ No semantic headings found.
2025-10-16 12:12:03 - src.html_transformer - INFO - transform:261 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:12:03 - src.html_transformer - INFO - transform:262 - → Using Gemini to generate HTML with headings...
2025-10-16 12:12:03 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:12:04 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 12:13:13 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3185
2025-10-16 12:13:13 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 12:13:13 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8549 characters
2025-10-16 12:13:13 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 12:13:13 - src.html_transformer - INFO - transform:307 - ✓ Gemini generated HTML with 5 heading tags
2025-10-16 12:13:13 - src.html_transformer - INFO - transform:310 - → Adding anchor tags to generated headings...
2025-10-16 12:13:13 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 12:13:13 - src.html_transformer - INFO - transform:335 - ✓ HTML generation complete. Tokens: 6376 in / 3185 out. Cost: $0.063715
2025-10-16 12:13:13 - src.html_transformer - INFO - transform:370 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:13:13 - src.html_transformer - INFO - transform:373 - ✓ Juriscontent generation complete
2025-10-16 12:13:13 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:13:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:13:13 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 12:13:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 12:13:13 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 12:13:13 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:13:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:13:13 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 12:13:13 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3185 output | Cost: $0.063715
2025-10-16 12:13:13 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20893 bytes
2025-10-16 12:13:13 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 70.28s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:13:14 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:13:14 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: USED
2025-10-16 12:13:14 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:13:14 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 5
2025-10-16 12:13:14 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_success)
2025-10-16 12:13:14 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:13:14 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:13:14 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:13:14 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:13:14 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:13:14 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:13:14 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 12:13:14 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:13:14 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:13:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:13:15 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:13:15 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 12:13:15 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 12:13:15 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2219 total characters
2025-10-16 12:13:15 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:13:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:13:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 12:13:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 12:13:15 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 12:13:15 - src.text_processor - INFO - _extract_and_save_sections:430 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 12:13:15 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.78s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:13:15 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:13:15 - src.text_processor - INFO - process_cases:147 - Processing case: a7afec17-77d1-400d-bc97-1a4d21c1f2a8 (2/174)
2025-10-16 12:13:15 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:13:16 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:13:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/miniviewer.html
2025-10-16 12:13:16 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:13:16 - src.html_transformer - INFO - transform:211 - Headings in source HTML (before processing): 0
2025-10-16 12:13:16 - src.html_transformer - INFO - transform:260 - ✗ No semantic headings found.
2025-10-16 12:13:16 - src.html_transformer - INFO - transform:261 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:13:16 - src.html_transformer - INFO - transform:262 - → Using Gemini to generate HTML with headings...
2025-10-16 12:13:16 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:13:16 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 8355
2025-10-16 12:15:31 - root - INFO - main:75 - ======================================================================
2025-10-16 12:15:31 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:15:31 - root - INFO - main:77 - Mode: both
2025-10-16 12:15:31 - root - INFO - main:78 - ======================================================================
2025-10-16 12:15:31 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:15:31 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_config_structure:149 - Configuration structure validation passed.
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_config_structure:150 -   ✓ Database configuration
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_config_structure:151 -   ✓ AWS configuration
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_config_structure:152 -   ✓ Tables configuration
2025-10-16 12:15:31 - utils.config_manager - INFO - _validate_config_structure:153 -   ✓ Heading detection configuration (Gemini DISABLED)
2025-10-16 12:15:31 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:15:31 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:15:31 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:15:31 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:15:31 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: a9529f32-fbf3-4147-bc04-58cc48a17523
2025-10-16 12:15:31 - src.html_transformer - INFO - __init__:55 - HtmlTransformer initialized WITHOUT Gemini HTML generation (genai_extract=False)
2025-10-16 12:15:31 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:15:31 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:15:31 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:15:31 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:135 - Found 174 cases for all years from registry requiring processing.
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/174)
2025-10-16 12:15:32 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:15:33 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:15:33 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:15:33 - src.html_transformer - INFO - transform:211 - Headings in source HTML (before processing): 0
2025-10-16 12:15:33 - src.html_transformer - INFO - transform:237 - ✗ No semantic headings found.
2025-10-16 12:15:33 - src.html_transformer - INFO - transform:238 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 12:15:33 - src.html_transformer - INFO - transform:239 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 12:15:33 - src.html_transformer - INFO - transform:370 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:15:33 - src.html_transformer - INFO - transform:373 - ✓ Juriscontent generation complete
2025-10-16 12:15:33 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:15:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:15:33 - src.text_processor - WARNING - _generate_and_save_juriscontent:262 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 12:15:33 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 21843 bytes
2025-10-16 12:15:33 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.34s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:33 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:33 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: NOT USED
2025-10-16 12:15:33 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:15:33 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 0
2025-10-16 12:15:33 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_disabled)
2025-10-16 12:15:33 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:33 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:33 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:15:33 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:15:33 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:15:33 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:15:33 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 12:15:33 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:15:34 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:15:34 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:15:34 - src.section_extractor - WARNING - extract_sections:47 - No H1 or H2 headings found - extracting entire document as one section
2025-10-16 12:15:34 - src.section_extractor - INFO - _extract_entire_document:280 - Created single section with 2327 characters
2025-10-16 12:15:34 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 1 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:34 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:15:34 - src.text_processor - INFO - _extract_and_save_sections:428 - ✅ Section extraction SUCCESS: 1 section (no headings detected)
2025-10-16 12:15:34 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.15s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:15:34 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:15:34 - src.text_processor - INFO - process_cases:147 - Processing case: a7afec17-77d1-400d-bc97-1a4d21c1f2a8 (2/174)
2025-10-16 12:15:34 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:15:34 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/miniviewer.html
2025-10-16 12:15:35 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:15:35 - src.html_transformer - INFO - transform:211 - Headings in source HTML (before processing): 0
2025-10-16 12:15:35 - src.html_transformer - INFO - transform:237 - ✗ No semantic headings found.
2025-10-16 12:15:35 - src.html_transformer - INFO - transform:238 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 12:15:35 - src.html_transformer - INFO - transform:239 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 12:15:35 - src.html_transformer - INFO - transform:370 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:15:35 - src.html_transformer - INFO - transform:373 - ✓ Juriscontent generation complete
2025-10-16 12:15:35 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:15:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/juriscontent.html
2025-10-16 12:15:35 - src.text_processor - WARNING - _generate_and_save_juriscontent:262 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 12:15:35 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 27035 bytes
2025-10-16 12:15:35 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.22s for source_id: a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:35 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:35 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: NOT USED
2025-10-16 12:15:35 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:15:35 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 0
2025-10-16 12:15:35 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_disabled)
2025-10-16 12:15:35 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:35 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:35 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:15:35 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/section-level-content/
2025-10-16 12:15:35 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/section-level-content/
2025-10-16 12:15:36 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 0 existing sections for source_id: a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/juriscontent.html
2025-10-16 12:15:36 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:15:36 - src.section_extractor - WARNING - extract_sections:47 - No H1 or H2 headings found - extracting entire document as one section
2025-10-16 12:15:36 - src.section_extractor - INFO - _extract_entire_document:280 - Created single section with 3403 characters
2025-10-16 12:15:36 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 1 section(s) for a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/a7afec17-77d1-400d-bc97-1a4d21c1f2a8/section-level-content/miniviewer_1.txt
2025-10-16 12:15:36 - src.text_processor - INFO - _extract_and_save_sections:428 - ✅ Section extraction SUCCESS: 1 section (no headings detected)
2025-10-16 12:15:36 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 0.91s for source_id: a7afec17-77d1-400d-bc97-1a4d21c1f2a8
2025-10-16 12:15:36 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:15:36 - src.text_processor - INFO - process_cases:147 - Processing case: 79bd002b-f48d-4aec-a7a0-f51adc448385 (3/174)
2025-10-16 12:15:36 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:15:36 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 79bd002b-f48d-4aec-a7a0-f51adc448385
2025-10-16 12:15:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/79bd002b-f48d-4aec-a7a0-f51adc448385/miniviewer.html
2025-10-16 12:15:36 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:15:36 - src.html_transformer - INFO - transform:211 - Headings in source HTML (before processing): 0
2025-10-16 12:15:36 - src.html_transformer - INFO - transform:237 - ✗ No semantic headings found.
2025-10-16 12:15:36 - src.html_transformer - INFO - transform:238 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 12:15:36 - src.html_transformer - INFO - transform:239 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 12:15:36 - src.html_transformer - INFO - transform:370 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:15:36 - src.html_transformer - INFO - transform:373 - ✓ Juriscontent generation complete
2025-10-16 12:15:36 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:15:36 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/79bd002b-f48d-4aec-a7a0-f51adc448385/juriscontent.html
2025-10-16 12:15:36 - src.text_processor - WARNING - _generate_and_save_juriscontent:262 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 12:15:36 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 18269 bytes
2025-10-16 12:15:36 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.21s for source_id: 79bd002b-f48d-4aec-a7a0-f51adc448385
2025-10-16 12:15:36 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 79bd002b-f48d-4aec-a7a0-f51adc448385
2025-10-16 12:15:36 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: NOT USED
2025-10-16 12:15:36 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:15:36 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 0
2025-10-16 12:15:36 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_disabled)
2025-10-16 12:15:36 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 79bd002b-f48d-4aec-a7a0-f51adc448385
2025-10-16 12:27:32 - root - INFO - main:75 - ======================================================================
2025-10-16 12:27:32 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:27:32 - root - INFO - main:77 - Mode: both
2025-10-16 12:27:32 - root - INFO - main:78 - ======================================================================
2025-10-16 12:27:32 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:27:32 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 12:27:32 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 12:27:32 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:27:32 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:27:32 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:27:32 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:27:33 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 66c8b643-3007-472e-b59c-d043739f0178
2025-10-16 12:27:33 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:27:33 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 12:27:33 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 12:27:33 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:27:33 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:27:33 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:27:33 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:135 - Found 172 cases for all years from registry requiring processing.
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:27:34 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:27:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:27:34 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:27:34 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:27:34 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:27:34 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:27:34 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:27:34 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:27:36 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 12:28:47 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3169
2025-10-16 12:28:47 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 12:28:47 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8504 characters
2025-10-16 12:28:47 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 12:28:47 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 12:28:47 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 12:28:47 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 12:28:47 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 3169 out. Cost: $0.063475
2025-10-16 12:28:47 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:28:47 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 12:28:47 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:28:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:28:48 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 12:28:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 12:28:48 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 12:28:48 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:28:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:28:48 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 12:28:48 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3169 output | Cost: $0.063475
2025-10-16 12:28:48 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20844 bytes
2025-10-16 12:28:48 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 73.51s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:28:48 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:28:48 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: USED
2025-10-16 12:28:48 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:28:48 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 3
2025-10-16 12:28:48 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_success)
2025-10-16 12:28:48 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:28:48 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:28:48 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:28:48 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:28:48 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:28:48 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 1 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:28:48 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 1 files from folder
2025-10-16 12:28:48 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:28:49 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 1 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:28:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:28:49 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:28:49 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 12:28:49 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 12:28:49 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2210 total characters
2025-10-16 12:28:49 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:28:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:28:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 12:28:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 12:28:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 12:28:50 - src.text_processor - INFO - _extract_and_save_sections:430 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 12:28:50 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.62s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:28:50 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:28:50 - src.text_processor - INFO - process_cases:147 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 12:28:50 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:28:50 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 12:28:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 12:28:50 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:28:50 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:28:50 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:28:50 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:28:50 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:28:50 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:28:50 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5837
2025-10-16 12:39:42 - root - INFO - main:75 - ======================================================================
2025-10-16 12:39:42 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:39:42 - root - INFO - main:77 - Mode: both
2025-10-16 12:39:42 - root - INFO - main:78 - ======================================================================
2025-10-16 12:39:42 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:39:42 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 12:39:42 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 12:39:42 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:39:42 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:39:42 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:39:42 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:39:42 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 65607964-0897-4ed6-a5f0-1d042061c627
2025-10-16 12:39:42 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:39:42 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 12:39:42 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 12:39:42 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:39:42 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:39:42 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:39:42 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:39:43 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:39:43 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:39:43 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:39:43 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:39:43 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:39:44 - src.text_processor - INFO - process_cases:135 - Found 172 cases for all years from registry requiring processing.
2025-10-16 12:39:44 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:39:44 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 12:39:44 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:39:44 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:39:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:39:44 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:39:44 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:39:44 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:39:44 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:39:44 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:39:44 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:39:45 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 12:41:16 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3061
2025-10-16 12:41:16 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 12:41:16 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8158 characters
2025-10-16 12:41:16 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 12:41:16 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 12:41:16 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 12:41:16 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 12:41:16 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 3061 out. Cost: $0.061855
2025-10-16 12:41:16 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:41:16 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:41:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 12:41:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:41:16 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3061 output | Cost: $0.061855
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20774 bytes
2025-10-16 12:41:16 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 92.08s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:41:16 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:41:16 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: USED
2025-10-16 12:41:16 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:41:16 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 3
2025-10-16 12:41:16 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_success)
2025-10-16 12:41:16 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:41:16 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:41:16 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:41:16 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:41:16 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:41:16 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:41:16 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 12:41:16 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:41:17 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:41:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:41:17 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:41:17 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 12:41:17 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 12:41:17 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2219 total characters
2025-10-16 12:41:17 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:41:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:41:17 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 12:41:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 12:41:18 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 12:41:18 - src.text_processor - INFO - _extract_and_save_sections:430 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 12:41:18 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.77s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:41:18 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:41:18 - src.text_processor - INFO - process_cases:147 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 12:41:18 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:41:18 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 12:41:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 12:41:18 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:41:18 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:41:18 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:41:18 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:41:18 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:41:18 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:41:18 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5837
2025-10-16 12:45:11 - root - INFO - main:75 - ======================================================================
2025-10-16 12:45:11 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:45:11 - root - INFO - main:77 - Mode: both
2025-10-16 12:45:11 - root - INFO - main:78 - ======================================================================
2025-10-16 12:45:11 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:45:11 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 12:45:11 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 12:45:11 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:45:11 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:45:11 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:45:11 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:45:12 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 3e36bde0-a0a2-42f4-807b-f4b0b5839921
2025-10-16 12:45:12 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:45:12 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 12:45:12 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 12:45:12 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:45:12 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:45:12 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:45:12 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:45:12 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:45:12 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:45:12 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:45:12 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:45:12 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:45:13 - src.text_processor - INFO - process_cases:135 - Found 172 cases for all years from registry requiring processing.
2025-10-16 12:45:13 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:45:13 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 12:45:13 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:45:13 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:45:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:45:13 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:45:13 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:45:13 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:45:13 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:45:13 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:45:13 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:45:14 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 12:46:31 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2751
2025-10-16 12:46:31 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 12:46:31 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 7711 characters
2025-10-16 12:46:31 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 12:46:31 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 12:46:31 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 12:46:31 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 13 new anchor tags (preserved existing ones)
2025-10-16 12:46:31 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 2751 out. Cost: $0.057205
2025-10-16 12:46:31 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:46:31 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 12:46:31 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:46:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:46:31 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 12:46:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 12:46:31 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 12:46:31 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:46:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:46:31 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 12:46:31 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 2751 output | Cost: $0.057205
2025-10-16 12:46:31 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 20646 bytes
2025-10-16 12:46:32 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 78.26s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:46:32 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:46:32 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: USED
2025-10-16 12:46:32 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:46:32 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 3
2025-10-16 12:46:32 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_success)
2025-10-16 12:46:32 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:46:32 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:46:32 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:46:32 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:46:32 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:46:32 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:46:32 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 12:46:32 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:46:33 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:46:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:46:33 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:46:33 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 12:46:33 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 12:46:33 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2242 total characters
2025-10-16 12:46:33 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:46:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:46:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 12:46:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 12:46:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 12:46:33 - src.text_processor - INFO - _extract_and_save_sections:430 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 12:46:34 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.73s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:46:34 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:46:34 - src.text_processor - INFO - process_cases:147 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 12:46:34 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:46:34 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 12:46:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 12:46:34 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:46:34 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:46:34 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:46:34 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:46:34 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:46:34 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:46:34 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5837
2025-10-16 12:50:34 - root - INFO - main:75 - ======================================================================
2025-10-16 12:50:34 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:50:34 - root - INFO - main:77 - Mode: both
2025-10-16 12:50:34 - root - INFO - main:78 - ======================================================================
2025-10-16 12:50:34 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:50:34 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 12:50:34 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 12:50:34 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:50:34 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:50:34 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:50:34 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:50:34 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 54aeead3-ae8d-4f7b-be9a-16894b049fe2
2025-10-16 12:50:34 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:50:34 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 12:50:34 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 12:50:34 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:50:34 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:50:34 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:50:34 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:50:35 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:50:35 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:50:35 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:50:35 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:50:35 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:50:36 - src.text_processor - INFO - process_cases:135 - Found 172 cases for all years from registry requiring processing.
2025-10-16 12:50:36 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:50:36 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 12:50:36 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:50:36 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:50:36 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:50:36 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:50:36 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:50:36 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:50:36 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:50:36 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:50:36 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:50:37 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 12:51:58 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3287
2025-10-16 12:51:58 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 12:51:58 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8843 characters
2025-10-16 12:51:58 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 12:51:58 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 12:51:58 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 12:51:58 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 12:51:58 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 3287 out. Cost: $0.065245
2025-10-16 12:51:58 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:51:58 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 12:51:58 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:51:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:51:59 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 12:51:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 12:51:59 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 12:51:59 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:51:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:51:59 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 12:51:59 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3287 output | Cost: $0.065245
2025-10-16 12:51:59 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 22457 bytes
2025-10-16 12:51:59 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 82.82s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:51:59 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:51:59 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: USED
2025-10-16 12:51:59 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:51:59 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 3
2025-10-16 12:51:59 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_success)
2025-10-16 12:51:59 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:51:59 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:51:59 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:51:59 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:51:59 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:51:59 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:51:59 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 12:51:59 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:52:00 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:52:00 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:52:00 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:52:00 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 12:52:00 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 12:52:00 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2239 total characters
2025-10-16 12:52:00 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:52:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:52:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 12:52:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 12:52:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 12:52:01 - src.text_processor - INFO - _extract_and_save_sections:430 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 12:52:01 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.04s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:52:01 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:52:01 - src.text_processor - INFO - process_cases:147 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 12:52:01 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:52:01 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 12:52:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 12:52:01 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:52:01 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:52:01 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:52:01 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:52:01 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:52:01 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:52:02 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5837
2025-10-16 12:55:05 - root - INFO - main:75 - ======================================================================
2025-10-16 12:55:05 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 12:55:05 - root - INFO - main:77 - Mode: both
2025-10-16 12:55:05 - root - INFO - main:78 - ======================================================================
2025-10-16 12:55:05 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 12:55:05 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 12:55:05 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 12:55:05 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:55:05 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 12:55:05 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 12:55:05 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 12:55:06 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 95cf706b-c868-4580-8c79-68628fb26d02
2025-10-16 12:55:06 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:55:06 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 12:55:06 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 12:55:06 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 12:55:06 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 12:55:06 - src.text_processor - INFO - __init__:37 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 12:55:06 - src.text_processor - INFO - process_cases:72 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 12:55:06 - src.text_processor - INFO - process_cases:91 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 12:55:06 - src.text_processor - INFO - process_cases:92 - Processing mode: Juriscontent + Sections = True
2025-10-16 12:55:06 - src.text_processor - INFO - process_cases:93 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 12:55:06 - src.text_processor - INFO - process_cases:99 - ===== Processing for All Years =====
2025-10-16 12:55:06 - src.text_processor - INFO - process_cases:108 - --- Checking Jurisdiction: NSW ---
2025-10-16 12:55:07 - src.text_processor - INFO - process_cases:135 - Found 172 cases for all years from registry requiring processing.
2025-10-16 12:55:07 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:55:07 - src.text_processor - INFO - process_cases:147 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 12:55:07 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:55:07 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:55:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 12:55:07 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:55:07 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:55:07 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:55:07 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:55:07 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:55:07 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:55:09 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 12:56:11 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3110
2025-10-16 12:56:11 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 12:56:11 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8378 characters
2025-10-16 12:56:11 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 12:56:11 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 12:56:11 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 12:56:11 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 12:56:11 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 3110 out. Cost: $0.062590
2025-10-16 12:56:11 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 12:56:11 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:227 - Saving juriscontent.html...
2025-10-16 12:56:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:234 - Saving intermediate miniviewer_genai.html...
2025-10-16 12:56:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:238 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:246 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:56:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - ✓ Gemini response saved successfully
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:257 - AI Heading Detection - Tokens: 6376 input, 3110 output | Cost: $0.062590
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - ✅ Juriscontent generation SUCCESS: 22270 bytes
2025-10-16 12:56:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 63.84s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:56:11 - utils.database_connector - INFO - update_heading_detection_metadata:428 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:56:11 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Gemini path: USED
2025-10-16 12:56:11 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings before: 0
2025-10-16 12:56:11 - utils.database_connector - INFO - update_heading_detection_metadata:431 -   - Headings after: 3
2025-10-16 12:56:11 - src.text_processor - INFO - _generate_and_save_juriscontent:301 - Heading metadata saved to database (path: gemini_success)
2025-10-16 12:56:11 - src.text_processor - INFO - process_cases:174 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:56:11 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:56:11 - src.text_processor - INFO - _extract_and_save_sections:365 - Preparing section-level-content folder...
2025-10-16 12:56:11 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:56:11 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:56:12 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:56:12 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 12:56:12 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 12:56:12 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:56:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 12:56:12 - src.text_processor - INFO - _extract_and_save_sections:377 - Extracting sections from juriscontent.html...
2025-10-16 12:56:12 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 12:56:12 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 12:56:12 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2219 total characters
2025-10-16 12:56:12 - src.text_processor - INFO - _extract_and_save_sections:389 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:56:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 12:56:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 12:56:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 12:56:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 12:56:13 - src.text_processor - INFO - _extract_and_save_sections:430 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 12:56:13 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.67s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 12:56:13 - src.text_processor - INFO - process_cases:146 - 
======================================================================
2025-10-16 12:56:13 - src.text_processor - INFO - process_cases:147 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 12:56:13 - src.text_processor - INFO - process_cases:148 - ======================================================================
2025-10-16 12:56:13 - src.text_processor - INFO - process_cases:166 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 12:56:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 12:56:13 - src.text_processor - INFO - _generate_and_save_juriscontent:223 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 12:56:13 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 12:56:13 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 12:56:13 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 12:56:13 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 12:56:13 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 12:56:13 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5837
2025-10-16 13:20:57 - root - INFO - main:75 - ======================================================================
2025-10-16 13:20:57 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 13:20:57 - root - INFO - main:77 - Mode: both
2025-10-16 13:20:57 - root - INFO - main:78 - ======================================================================
2025-10-16 13:20:57 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 13:20:57 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 13:20:57 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 13:20:57 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:20:57 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 13:20:57 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 13:20:57 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 13:20:58 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: bc829dec-ee97-4bb0-a239-97cd3f00f6b0
2025-10-16 13:20:58 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:20:58 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 13:20:58 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 13:20:58 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 13:20:58 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 13:20:58 - src.content_verifier - INFO - __init__:25 - ContentVerifier initialized with pass_threshold=0.99
2025-10-16 13:20:58 - src.text_processor - INFO - __init__:46 - Content verification ENABLED (threshold=0.99)
2025-10-16 13:20:58 - src.text_processor - INFO - __init__:51 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 13:20:58 - src.text_processor - INFO - process_cases:86 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 13:20:58 - src.text_processor - INFO - process_cases:105 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 13:20:58 - src.text_processor - INFO - process_cases:106 - Processing mode: Juriscontent + Sections = True
2025-10-16 13:20:58 - src.text_processor - INFO - process_cases:107 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 13:20:58 - src.text_processor - INFO - process_cases:113 - ===== Processing for All Years =====
2025-10-16 13:20:58 - src.text_processor - INFO - process_cases:122 - --- Checking Jurisdiction: NSW ---
2025-10-16 13:20:59 - src.text_processor - INFO - process_cases:149 - Found 172 cases for all years from registry requiring processing.
2025-10-16 13:20:59 - src.text_processor - INFO - process_cases:160 - 
======================================================================
2025-10-16 13:20:59 - src.text_processor - INFO - process_cases:161 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 13:20:59 - src.text_processor - INFO - process_cases:162 - ======================================================================
2025-10-16 13:20:59 - src.text_processor - INFO - process_cases:180 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:20:59 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 13:20:59 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 13:20:59 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 13:20:59 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 13:20:59 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 13:20:59 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 13:20:59 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:21:00 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 13:21:50 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2504
2025-10-16 13:21:50 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 13:21:50 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6895 characters
2025-10-16 13:21:50 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 13:21:50 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 13:21:50 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 13:21:50 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 13 new anchor tags (preserved existing ones)
2025-10-16 13:21:50 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 2504 out. Cost: $0.053500
2025-10-16 13:21:50 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 13:21:50 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 13:21:50 - src.text_processor - INFO - _generate_and_save_juriscontent:255 - Saving juriscontent.html...
2025-10-16 13:21:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 13:21:50 - src.text_processor - INFO - _generate_and_save_juriscontent:262 - Saving intermediate miniviewer_genai.html...
2025-10-16 13:21:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 13:21:50 - src.text_processor - INFO - _generate_and_save_juriscontent:266 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 13:21:50 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 13:21:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 13:21:50 - src.text_processor - INFO - _generate_and_save_juriscontent:279 - ✓ Gemini response saved successfully
2025-10-16 13:21:50 - src.text_processor - INFO - _generate_and_save_juriscontent:285 - AI Heading Detection - Tokens: 6376 input, 2504 output | Cost: $0.053500
2025-10-16 13:21:51 - src.text_processor - INFO - _generate_and_save_juriscontent:302 - ✅ Juriscontent generation SUCCESS: 21270 bytes
2025-10-16 13:21:51 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 51.40s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:51 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:51 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 13:21:51 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 13:21:51 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 3
2025-10-16 13:21:51 - src.text_processor - INFO - _generate_and_save_juriscontent:329 - Heading metadata saved to database (path: gemini_success)
2025-10-16 13:21:51 - src.text_processor - INFO - process_cases:188 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:51 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:51 - src.text_processor - INFO - _extract_and_save_sections:396 - Preparing section-level-content folder...
2025-10-16 13:21:51 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:21:51 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:21:51 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:21:51 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 13:21:51 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:21:52 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 13:21:52 - src.text_processor - INFO - _extract_and_save_sections:408 - Extracting sections from juriscontent.html...
2025-10-16 13:21:52 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 13:21:52 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 13:21:52 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2196 total characters
2025-10-16 13:21:52 - src.text_processor - INFO - _extract_and_save_sections:420 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 13:21:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 13:21:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 13:21:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 13:21:52 - src.text_processor - INFO - _extract_and_save_sections:461 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 13:21:53 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.74s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:53 - src.text_processor - INFO - process_cases:197 - [STAGE 3] Verifying content for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:53 - src.text_processor - INFO - _verify_section_content:521 - Starting content verification for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:53 - src.text_processor - INFO - _verify_section_content:535 - Downloading original text: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 13:21:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 13:21:53 - src.text_processor - INFO - _verify_section_content:546 - Retrieving section files from: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content
2025-10-16 13:21:53 - src.text_processor - INFO - _verify_section_content:556 - Found 4 section files
2025-10-16 13:21:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 13:21:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 13:21:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 13:21:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 13:21:53 - src.text_processor - INFO - _verify_section_content:588 - Comparing original text with concatenated sections...
2025-10-16 13:21:53 - src.content_verifier - INFO - verify_content:113 - Content Verification Results:
2025-10-16 13:21:53 - src.content_verifier - INFO - verify_content:114 -   Original text length: 2,357 chars
2025-10-16 13:21:53 - src.content_verifier - INFO - verify_content:115 -   Concatenated sections length: 2,202 chars
2025-10-16 13:21:53 - src.content_verifier - INFO - verify_content:116 -   Length difference: 155 chars (6.6%)
2025-10-16 13:21:53 - src.content_verifier - INFO - verify_content:117 -   Similarity score: 0.7347
2025-10-16 13:21:53 - src.content_verifier - INFO - verify_content:118 -   Threshold: 0.9900
2025-10-16 13:21:53 - src.content_verifier - INFO - verify_content:119 -   Status: FAILED
2025-10-16 13:21:53 - src.content_verifier - WARNING - verify_content:122 - Content verification FAILED: score 0.7347 is below threshold 0.9900
2025-10-16 13:21:53 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df | Score: 0.7347 | Status: FAILED
2025-10-16 13:21:53 - src.text_processor - WARNING - _verify_section_content:600 - Content verification FAILED - generating detailed comparison
2025-10-16 13:21:53 - src.text_processor - INFO - _verify_section_content:610 - ✅ Content verification complete for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:21:53 - src.text_processor - INFO - process_cases:160 - 
======================================================================
2025-10-16 13:21:53 - src.text_processor - INFO - process_cases:161 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 13:21:53 - src.text_processor - INFO - process_cases:162 - ======================================================================
2025-10-16 13:21:53 - src.text_processor - INFO - process_cases:180 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 13:21:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 13:21:53 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 13:21:53 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 13:21:53 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 13:21:53 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 13:21:53 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 13:21:53 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:21:53 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5837
2025-10-16 13:29:40 - root - INFO - main:75 - ======================================================================
2025-10-16 13:29:40 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 13:29:40 - root - INFO - main:77 - Mode: both
2025-10-16 13:29:40 - root - INFO - main:78 - ======================================================================
2025-10-16 13:29:40 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 13:29:40 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 13:29:40 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 13:29:40 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:29:40 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 13:29:40 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 13:29:40 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 13:29:40 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 7215fa09-0765-49bb-b148-08d51a041cfa
2025-10-16 13:29:40 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:29:40 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 13:29:40 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 13:29:40 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 13:29:40 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 13:29:40 - src.content_verifier - INFO - __init__:28 - ContentVerifier initialized with pass_threshold=0.99
2025-10-16 13:29:40 - src.content_verifier - INFO - __init__:29 - Normalization: All line breaks will be replaced with single spaces
2025-10-16 13:29:40 - src.text_processor - INFO - __init__:46 - Content verification ENABLED (threshold=0.99)
2025-10-16 13:29:40 - src.text_processor - INFO - __init__:51 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 13:29:40 - src.text_processor - INFO - process_cases:86 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:105 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:106 - Processing mode: Juriscontent + Sections = True
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:107 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:113 - ===== Processing for All Years =====
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:122 - --- Checking Jurisdiction: NSW ---
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:149 - Found 172 cases for all years from registry requiring processing.
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:160 - 
======================================================================
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:161 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:162 - ======================================================================
2025-10-16 13:29:41 - src.text_processor - INFO - process_cases:180 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:29:42 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 13:29:42 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 13:29:42 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 13:29:42 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 13:29:42 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 13:29:42 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 13:29:42 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:29:42 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 13:30:50 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2480
2025-10-16 13:30:50 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 13:30:50 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6778 characters
2025-10-16 13:30:50 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 13:30:50 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 13:30:50 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 13:30:50 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 13 new anchor tags (preserved existing ones)
2025-10-16 13:30:50 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 2480 out. Cost: $0.053140
2025-10-16 13:30:50 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 13:30:50 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 13:30:50 - src.text_processor - INFO - _generate_and_save_juriscontent:255 - Saving juriscontent.html...
2025-10-16 13:30:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 13:30:51 - src.text_processor - INFO - _generate_and_save_juriscontent:262 - Saving intermediate miniviewer_genai.html...
2025-10-16 13:30:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 13:30:51 - src.text_processor - INFO - _generate_and_save_juriscontent:266 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 13:30:51 - src.text_processor - INFO - _generate_and_save_juriscontent:274 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 13:30:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 13:30:51 - src.text_processor - INFO - _generate_and_save_juriscontent:279 - ✓ Gemini response saved successfully
2025-10-16 13:30:51 - src.text_processor - INFO - _generate_and_save_juriscontent:285 - AI Heading Detection - Tokens: 6376 input, 2480 output | Cost: $0.053140
2025-10-16 13:30:51 - src.text_processor - INFO - _generate_and_save_juriscontent:302 - ✅ Juriscontent generation SUCCESS: 21044 bytes
2025-10-16 13:30:51 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 69.30s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:51 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:51 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 13:30:51 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 13:30:51 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 3
2025-10-16 13:30:51 - src.text_processor - INFO - _generate_and_save_juriscontent:329 - Heading metadata saved to database (path: gemini_success)
2025-10-16 13:30:51 - src.text_processor - INFO - process_cases:188 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:51 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:51 - src.text_processor - INFO - _extract_and_save_sections:396 - Preparing section-level-content folder...
2025-10-16 13:30:51 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:30:51 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:30:51 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:30:51 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 13:30:51 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 13:30:52 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 13:30:52 - src.text_processor - INFO - _extract_and_save_sections:408 - Extracting sections from juriscontent.html...
2025-10-16 13:30:52 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 13:30:52 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 13:30:52 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2196 total characters
2025-10-16 13:30:52 - src.text_processor - INFO - _extract_and_save_sections:420 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 13:30:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 13:30:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 13:30:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 13:30:53 - src.text_processor - INFO - _extract_and_save_sections:461 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 13:30:53 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.66s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:53 - src.text_processor - INFO - process_cases:197 - [STAGE 3] Verifying content for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:53 - src.text_processor - INFO - _verify_section_content:521 - Starting content verification for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:53 - src.text_processor - INFO - _verify_section_content:535 - Downloading original text: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 13:30:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 13:30:53 - src.text_processor - INFO - _verify_section_content:546 - Retrieving section files from: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content
2025-10-16 13:30:53 - src.text_processor - INFO - _verify_section_content:556 - Found 4 section files
2025-10-16 13:30:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 13:30:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 13:30:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 13:30:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 13:30:53 - src.text_processor - INFO - _verify_section_content:588 - Comparing original text with concatenated sections...
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:173 -   Original text length: 2,357 chars (0 line breaks)
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 2,202 chars (34 line breaks)
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 155 chars (6.6%)
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.7396
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9900
2025-10-16 13:30:53 - src.content_verifier - INFO - verify_content:178 -   Status: FAILED
2025-10-16 13:30:53 - src.content_verifier - WARNING - verify_content:181 - Content verification FAILED: score 0.7396 is below threshold 0.9900
2025-10-16 13:30:53 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df | Score: 0.7396 | Status: FAILED
2025-10-16 13:30:53 - src.text_processor - WARNING - _verify_section_content:600 - Content verification FAILED - generating detailed comparison
2025-10-16 13:30:53 - src.text_processor - INFO - _verify_section_content:610 - ✅ Content verification complete for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 13:30:53 - src.text_processor - INFO - process_cases:160 - 
======================================================================
2025-10-16 13:30:53 - src.text_processor - INFO - process_cases:161 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 13:30:53 - src.text_processor - INFO - process_cases:162 - ======================================================================
2025-10-16 13:30:53 - src.text_processor - INFO - process_cases:180 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 13:30:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 13:30:53 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 13:30:53 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 13:30:53 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 13:30:53 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 13:30:53 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 13:30:53 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 13:30:54 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5837
2025-10-16 14:26:31 - root - INFO - main:75 - ======================================================================
2025-10-16 14:26:31 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 14:26:31 - root - INFO - main:77 - Mode: both
2025-10-16 14:26:31 - root - INFO - main:78 - ======================================================================
2025-10-16 14:26:31 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 14:26:31 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_config_structure:149 - Configuration structure validation passed.
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_config_structure:150 -   ✓ Database configuration
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_config_structure:151 -   ✓ AWS configuration
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_config_structure:152 -   ✓ Tables configuration
2025-10-16 14:26:31 - utils.config_manager - INFO - _validate_config_structure:153 -   ✓ Heading detection configuration (Gemini DISABLED)
2025-10-16 14:26:31 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 14:26:31 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 14:26:31 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 14:26:31 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 14:26:31 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: d50d11d3-59a4-4b8d-bf01-3a2ecc0b825b
2025-10-16 14:26:31 - src.html_transformer - INFO - __init__:55 - HtmlTransformer initialized WITHOUT Gemini HTML generation (genai_extract=False)
2025-10-16 14:26:31 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 14:26:31 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 14:26:31 - src.content_verifier - INFO - __init__:28 - ContentVerifier initialized with pass_threshold=0.7
2025-10-16 14:26:31 - src.content_verifier - INFO - __init__:29 - Normalization: All line breaks will be replaced with single spaces
2025-10-16 14:26:31 - src.text_processor - INFO - __init__:46 - Content verification ENABLED (threshold=0.7)
2025-10-16 14:26:31 - src.text_processor - INFO - __init__:51 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 14:26:31 - src.text_processor - INFO - process_cases:86 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 14:26:32 - src.text_processor - INFO - process_cases:105 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 14:26:32 - src.text_processor - INFO - process_cases:106 - Processing mode: Juriscontent + Sections = True
2025-10-16 14:26:32 - src.text_processor - INFO - process_cases:107 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 14:26:32 - src.text_processor - INFO - process_cases:113 - ===== Processing for All Years =====
2025-10-16 14:26:32 - src.text_processor - INFO - process_cases:122 - --- Checking Jurisdiction: NSW ---
2025-10-16 14:26:33 - src.text_processor - INFO - process_cases:149 - Found 172 cases for all years from registry requiring processing.
2025-10-16 14:26:33 - src.text_processor - INFO - process_cases:160 - 
======================================================================
2025-10-16 14:26:33 - src.text_processor - INFO - process_cases:161 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/172)
2025-10-16 14:26:33 - src.text_processor - INFO - process_cases:162 - ======================================================================
2025-10-16 14:26:33 - src.text_processor - INFO - process_cases:180 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 14:26:33 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 14:26:33 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 14:26:33 - src.html_transformer - INFO - transform:240 - ✗ No semantic headings found.
2025-10-16 14:26:33 - src.html_transformer - INFO - transform:241 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 14:26:33 - src.html_transformer - INFO - transform:242 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 14:26:33 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 14:26:33 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 14:26:33 - src.text_processor - INFO - _generate_and_save_juriscontent:255 - Saving juriscontent.html...
2025-10-16 14:26:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 14:26:33 - src.text_processor - WARNING - _generate_and_save_juriscontent:290 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 14:26:33 - src.text_processor - INFO - _generate_and_save_juriscontent:302 - ✅ Juriscontent generation SUCCESS: 23491 bytes
2025-10-16 14:26:33 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.34s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:33 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:33 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: NOT USED
2025-10-16 14:26:33 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 14:26:33 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 0
2025-10-16 14:26:33 - src.text_processor - INFO - _generate_and_save_juriscontent:329 - Heading metadata saved to database (path: gemini_disabled)
2025-10-16 14:26:33 - src.text_processor - INFO - process_cases:188 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:34 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:34 - src.text_processor - INFO - _extract_and_save_sections:396 - Preparing section-level-content folder...
2025-10-16 14:26:34 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:26:34 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:26:34 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:26:34 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 14:26:34 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:26:34 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:34 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 14:26:34 - src.text_processor - INFO - _extract_and_save_sections:408 - Extracting sections from juriscontent.html...
2025-10-16 14:26:34 - src.section_extractor - WARNING - extract_sections:47 - No H1 or H2 headings found - extracting entire document as one section
2025-10-16 14:26:34 - src.section_extractor - INFO - _extract_entire_document:280 - Created single section with 2327 characters
2025-10-16 14:26:34 - src.text_processor - INFO - _extract_and_save_sections:420 - → Processing 1 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 14:26:35 - src.text_processor - INFO - _extract_and_save_sections:459 - ✅ Section extraction SUCCESS: 1 section (no headings detected)
2025-10-16 14:26:35 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.21s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:35 - src.text_processor - INFO - process_cases:197 - [STAGE 3] Verifying content for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:35 - src.text_processor - INFO - _verify_section_content:521 - Starting content verification for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:35 - src.text_processor - INFO - _verify_section_content:535 - Downloading original text: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 14:26:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 14:26:35 - src.text_processor - INFO - _verify_section_content:546 - Retrieving section files from: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content
2025-10-16 14:26:35 - src.text_processor - INFO - _verify_section_content:556 - Found 1 section files
2025-10-16 14:26:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 14:26:35 - src.text_processor - INFO - _verify_section_content:588 - Comparing original text with concatenated sections...
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:173 -   Original text length: 2,357 chars (0 line breaks)
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 2,327 chars (54 line breaks)
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 30 chars (1.3%)
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 1.0000
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.7000
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 14:26:35 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 14:26:35 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df | Score: 1.0000 | Status: PASS
2025-10-16 14:26:35 - src.text_processor - INFO - _verify_section_content:610 - ✅ Content verification complete for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:26:35 - src.text_processor - INFO - process_cases:160 - 
======================================================================
2025-10-16 14:26:35 - src.text_processor - INFO - process_cases:161 - Processing case: 2e70863e-43dc-43d2-ba0b-f9654350b10e (2/172)
2025-10-16 14:26:35 - src.text_processor - INFO - process_cases:162 - ======================================================================
2025-10-16 14:26:35 - src.text_processor - INFO - process_cases:180 - [STAGE 1] Generating juriscontent.html for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 14:26:35 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/miniviewer.html
2025-10-16 14:26:35 - src.text_processor - INFO - _generate_and_save_juriscontent:251 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 14:26:35 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 14:26:35 - src.html_transformer - INFO - transform:240 - ✗ No semantic headings found.
2025-10-16 14:26:35 - src.html_transformer - INFO - transform:241 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 14:26:35 - src.html_transformer - INFO - transform:242 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 14:26:35 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 14:26:35 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 14:26:35 - src.text_processor - INFO - _generate_and_save_juriscontent:255 - Saving juriscontent.html...
2025-10-16 14:26:35 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/juriscontent.html
2025-10-16 14:26:35 - src.text_processor - WARNING - _generate_and_save_juriscontent:290 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 14:26:35 - src.text_processor - INFO - _generate_and_save_juriscontent:302 - ✅ Juriscontent generation SUCCESS: 21927 bytes
2025-10-16 14:26:36 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.22s for source_id: 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 14:26:36 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 14:26:36 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: NOT USED
2025-10-16 14:26:36 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 14:26:36 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 0
2025-10-16 14:26:36 - src.text_processor - INFO - _generate_and_save_juriscontent:329 - Heading metadata saved to database (path: gemini_disabled)
2025-10-16 14:26:36 - src.text_processor - INFO - process_cases:188 - [STAGE 2] Extracting sections for 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 14:26:36 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 2e70863e-43dc-43d2-ba0b-f9654350b10e
2025-10-16 14:26:36 - src.text_processor - INFO - _extract_and_save_sections:396 - Preparing section-level-content folder...
2025-10-16 14:26:36 - utils.s3_manager - INFO - clear_and_recreate_folder:262 - Folder does not exist yet: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/section-level-content/
2025-10-16 14:26:36 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/2e70863e-43dc-43d2-ba0b-f9654350b10e/section-level-content/
2025-10-16 14:57:56 - root - INFO - main:75 - ======================================================================
2025-10-16 14:57:56 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 14:57:56 - root - INFO - main:77 - Mode: both
2025-10-16 14:57:56 - root - INFO - main:78 - ======================================================================
2025-10-16 14:57:56 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 14:57:56 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_config_structure:149 - Configuration structure validation passed.
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_config_structure:150 -   ✓ Database configuration
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_config_structure:151 -   ✓ AWS configuration
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_config_structure:152 -   ✓ Tables configuration
2025-10-16 14:57:56 - utils.config_manager - INFO - _validate_config_structure:153 -   ✓ Heading detection configuration (Gemini DISABLED)
2025-10-16 14:57:56 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 14:57:56 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 14:57:56 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 14:57:56 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 14:57:57 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 2c435757-80a9-44b6-9703-7944a89c215b
2025-10-16 14:57:57 - src.html_transformer - INFO - __init__:55 - HtmlTransformer initialized WITHOUT Gemini HTML generation (genai_extract=False)
2025-10-16 14:57:58 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 14:57:58 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 14:57:58 - src.content_verifier - INFO - __init__:28 - ContentVerifier initialized with pass_threshold=0.7
2025-10-16 14:57:58 - src.content_verifier - INFO - __init__:29 - Normalization: All line breaks will be replaced with single spaces
2025-10-16 14:57:58 - src.text_processor - INFO - __init__:47 - Content verification ENABLED (threshold=0.7)
2025-10-16 14:57:58 - src.text_processor - INFO - __init__:52 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 14:57:58 - src.text_processor - INFO - process_cases:87 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 14:58:00 - src.text_processor - INFO - process_cases:106 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 14:58:00 - src.text_processor - INFO - process_cases:107 - Processing mode: Juriscontent + Sections = True
2025-10-16 14:58:00 - src.text_processor - INFO - process_cases:108 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 14:58:00 - src.text_processor - INFO - process_cases:114 - ===== Processing for All Years =====
2025-10-16 14:58:00 - src.text_processor - INFO - process_cases:123 - --- Checking Jurisdiction: NSW ---
2025-10-16 14:58:01 - src.text_processor - INFO - process_cases:150 - Found 171 cases for all years from registry requiring processing.
2025-10-16 14:58:01 - src.text_processor - INFO - process_cases:161 - 
======================================================================
2025-10-16 14:58:01 - src.text_processor - INFO - process_cases:162 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/171)
2025-10-16 14:58:01 - src.text_processor - INFO - process_cases:163 - ======================================================================
2025-10-16 14:58:01 - src.text_processor - INFO - process_cases:181 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:01 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 14:58:01 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 14:58:01 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 14:58:01 - src.html_transformer - INFO - transform:240 - ✗ No semantic headings found.
2025-10-16 14:58:01 - src.html_transformer - INFO - transform:241 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 14:58:01 - src.html_transformer - INFO - transform:242 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 14:58:01 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 14:58:01 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 14:58:01 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 14:58:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 14:58:02 - src.text_processor - WARNING - _generate_and_save_juriscontent:291 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 14:58:03 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 23491 bytes
2025-10-16 14:58:03 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 1.71s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:03 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:03 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: NOT USED
2025-10-16 14:58:03 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 14:58:03 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 0
2025-10-16 14:58:03 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_disabled)
2025-10-16 14:58:03 - src.text_processor - INFO - process_cases:189 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:04 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:04 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 14:58:04 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:58:04 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:58:04 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 1 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:58:04 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 1 files from folder
2025-10-16 14:58:04 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 14:58:05 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 1 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:05 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 14:58:05 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 14:58:05 - src.section_extractor - WARNING - extract_sections:47 - No H1 or H2 headings found - extracting entire document as one section
2025-10-16 14:58:05 - src.section_extractor - INFO - _extract_entire_document:280 - Created single section with 2327 characters
2025-10-16 14:58:05 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 1 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 14:58:06 - src.text_processor - INFO - _extract_and_save_sections:460 - ✅ Section extraction SUCCESS: 1 section (no headings detected)
2025-10-16 14:58:06 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.51s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:06 - src.text_processor - INFO - process_cases:198 - [STAGE 3] Verifying content for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:06 - src.text_processor - INFO - _verify_section_content:530 - Starting content verification for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:06 - src.text_processor - INFO - _verify_section_content:546 - Downloading source HTML: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 14:58:06 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.txt
2025-10-16 14:58:06 - src.text_processor - INFO - _verify_section_content:549 - Extracting text content from HTML (excluding notes)...
2025-10-16 14:58:06 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 2357 characters from HTML
2025-10-16 14:58:06 - src.text_processor - INFO - _verify_section_content:559 - Extracted 2357 characters from miniviewer.html
2025-10-16 14:58:06 - src.text_processor - INFO - _verify_section_content:563 - Saving original extracted text to: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_original.txt
2025-10-16 14:58:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_original.txt
2025-10-16 14:58:06 - src.text_processor - INFO - _verify_section_content:567 - ✓ miniviewer_original.txt saved successfully
2025-10-16 14:58:06 - src.text_processor - INFO - _verify_section_content:570 - Retrieving section files from: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:580 - Found 2 section files
2025-10-16 14:58:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 14:58:07 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_original.txt
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:610 - Concatenated 2 sections into 4686 characters
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:614 - Saving constructed text to: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_constructed.txt
2025-10-16 14:58:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_constructed.txt
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:618 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:621 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:173 -   Original text length: 2,357 chars (0 line breaks)
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 4,686 chars (56 line breaks)
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 2,329 chars (98.8%)
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.6637
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.7000
2025-10-16 14:58:07 - src.content_verifier - INFO - verify_content:178 -   Status: FAILED
2025-10-16 14:58:07 - src.content_verifier - WARNING - verify_content:181 - Content verification FAILED: score 0.6637 is below threshold 0.7000
2025-10-16 14:58:07 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df | Score: 0.6637 | Status: FAILED
2025-10-16 14:58:07 - src.text_processor - WARNING - _verify_section_content:633 - Content verification FAILED - generating detailed comparison
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:642 - ✅ Content verification complete for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:643 -    - Original text: 2357 chars (from HTML)
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:644 -    - Constructed text: 4686 chars (from sections)
2025-10-16 14:58:07 - src.text_processor - INFO - _verify_section_content:645 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 14:58:07 - src.text_processor - INFO - process_cases:161 - 
======================================================================
2025-10-16 14:58:07 - src.text_processor - INFO - process_cases:162 - Processing case: 5555e84b-b193-4ed7-8fbd-f96b55432f33 (2/171)
2025-10-16 14:58:07 - src.text_processor - INFO - process_cases:163 - ======================================================================
2025-10-16 14:58:07 - src.text_processor - INFO - process_cases:181 - [STAGE 1] Generating juriscontent.html for 5555e84b-b193-4ed7-8fbd-f96b55432f33
2025-10-16 14:58:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5555e84b-b193-4ed7-8fbd-f96b55432f33/miniviewer.html
2025-10-16 14:58:08 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 14:58:08 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 14:58:08 - src.html_transformer - INFO - transform:240 - ✗ No semantic headings found.
2025-10-16 14:58:08 - src.html_transformer - INFO - transform:241 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 14:58:08 - src.html_transformer - INFO - transform:242 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 14:58:08 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 14:58:08 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 14:58:08 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:24:29 - root - INFO - main:75 - ======================================================================
2025-10-16 15:24:29 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 15:24:29 - root - INFO - main:77 - Mode: both
2025-10-16 15:24:29 - root - INFO - main:78 - ======================================================================
2025-10-16 15:24:29 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 15:24:29 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_config_structure:149 - Configuration structure validation passed.
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_config_structure:150 -   ✓ Database configuration
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_config_structure:151 -   ✓ AWS configuration
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_config_structure:152 -   ✓ Tables configuration
2025-10-16 15:24:29 - utils.config_manager - INFO - _validate_config_structure:153 -   ✓ Heading detection configuration (Gemini DISABLED)
2025-10-16 15:24:29 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:24:29 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 15:24:29 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 15:24:29 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 15:24:29 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 5b0db206-d745-45ad-8a0f-586064c219ca
2025-10-16 15:24:29 - src.html_transformer - INFO - __init__:55 - HtmlTransformer initialized WITHOUT Gemini HTML generation (genai_extract=False)
2025-10-16 15:24:29 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 15:24:29 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 15:24:29 - src.content_verifier - INFO - __init__:28 - ContentVerifier initialized with pass_threshold=0.7
2025-10-16 15:24:29 - src.content_verifier - INFO - __init__:29 - Normalization: All line breaks will be replaced with single spaces
2025-10-16 15:24:29 - src.text_processor - INFO - __init__:48 - Content verification ENABLED (threshold=0.7)
2025-10-16 15:24:29 - src.text_processor - INFO - __init__:53 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 15:24:29 - src.text_processor - INFO - process_cases:88 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 15:24:30 - src.text_processor - INFO - process_cases:107 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 15:24:30 - src.text_processor - INFO - process_cases:108 - Processing mode: Juriscontent + Sections = True
2025-10-16 15:24:30 - src.text_processor - INFO - process_cases:109 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 15:24:30 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-16 15:24:30 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-16 15:24:31 - src.text_processor - INFO - process_cases:151 - Found 171 cases for all years from registry requiring processing.
2025-10-16 15:24:31 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:24:31 - src.text_processor - INFO - process_cases:163 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/171)
2025-10-16 15:24:31 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:24:31 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 15:24:31 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:24:31 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:24:31 - src.html_transformer - INFO - transform:240 - ✗ No semantic headings found.
2025-10-16 15:24:31 - src.html_transformer - INFO - transform:241 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 15:24:31 - src.html_transformer - INFO - transform:242 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 15:24:31 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 15:24:31 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 15:24:31 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:24:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 15:24:31 - src.text_processor - WARNING - _generate_and_save_juriscontent:291 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 15:24:31 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 23491 bytes
2025-10-16 15:24:31 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.37s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:31 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:31 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: NOT USED
2025-10-16 15:24:31 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 15:24:31 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 0
2025-10-16 15:24:31 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_disabled)
2025-10-16 15:24:31 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:31 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:31 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 15:24:31 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:24:31 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:24:32 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 3 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:24:32 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 3 files from folder
2025-10-16 15:24:32 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:24:32 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 1 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 15:24:32 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 15:24:32 - src.section_extractor - WARNING - extract_sections:47 - No H1 or H2 headings found - extracting entire document as one section
2025-10-16 15:24:32 - src.section_extractor - INFO - _extract_entire_document:280 - Created single section with 2327 characters
2025-10-16 15:24:32 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 1 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 15:24:32 - src.text_processor - INFO - _extract_and_save_sections:460 - ✅ Section extraction SUCCESS: 1 section (no headings detected)
2025-10-16 15:24:32 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.09s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:32 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:32 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:32 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 15:24:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 15:24:33 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 2357 characters from HTML
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:557 - Extracted 2357 characters from miniviewer.html
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_original.txt
2025-10-16 15:24:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_original.txt
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content
2025-10-16 15:24:33 - src.text_processor - INFO - _list_section_files:697 - Found 1 numbered section files (excluding original/constructed)
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:578 - Found 1 section files
2025-10-16 15:24:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 1 sections into 2327 characters
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_constructed.txt
2025-10-16 15:24:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_constructed.txt
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:173 -   Original text length: 2,357 chars (55 line breaks)
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 2,327 chars (54 line breaks)
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 30 chars (1.3%)
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 1.0000
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.7000
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 15:24:33 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 15:24:33 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df | Score: 1.0000 | Status: PASS
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 2357 chars (from HTML)
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 2327 chars (from sections)
2025-10-16 15:24:33 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 15:24:33 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:24:33 - src.text_processor - INFO - process_cases:163 - Processing case: 5555e84b-b193-4ed7-8fbd-f96b55432f33 (2/171)
2025-10-16 15:24:33 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:24:33 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 5555e84b-b193-4ed7-8fbd-f96b55432f33
2025-10-16 15:24:33 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/5555e84b-b193-4ed7-8fbd-f96b55432f33/miniviewer.html
2025-10-16 15:24:33 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:24:33 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:24:33 - src.html_transformer - INFO - transform:240 - ✗ No semantic headings found.
2025-10-16 15:24:33 - src.html_transformer - INFO - transform:241 - ⚠ Gemini extraction DISABLED (genai_extract=False)
2025-10-16 15:24:33 - src.html_transformer - INFO - transform:242 - → Proceeding without headings. Section extraction will create single section.
2025-10-16 15:24:33 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 15:24:33 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 15:24:33 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:24:33 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/5555e84b-b193-4ed7-8fbd-f96b55432f33/juriscontent.html
2025-10-16 15:24:33 - src.text_processor - WARNING - _generate_and_save_juriscontent:291 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 15:24:33 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 19272 bytes
2025-10-16 15:24:33 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 0.24s for source_id: 5555e84b-b193-4ed7-8fbd-f96b55432f33
2025-10-16 15:25:29 - root - INFO - main:75 - ======================================================================
2025-10-16 15:25:29 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 15:25:29 - root - INFO - main:77 - Mode: both
2025-10-16 15:25:29 - root - INFO - main:78 - ======================================================================
2025-10-16 15:25:29 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 15:25:29 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 15:25:29 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 15:25:29 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:25:29 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 15:25:29 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 15:25:29 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 15:25:30 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 69a1e0f0-2dfe-4dfa-a928-60a8760c000b
2025-10-16 15:25:30 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:25:30 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 15:25:30 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 15:25:30 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 15:25:30 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 15:25:30 - src.content_verifier - INFO - __init__:28 - ContentVerifier initialized with pass_threshold=0.7
2025-10-16 15:25:30 - src.content_verifier - INFO - __init__:29 - Normalization: All line breaks will be replaced with single spaces
2025-10-16 15:25:30 - src.text_processor - INFO - __init__:48 - Content verification ENABLED (threshold=0.7)
2025-10-16 15:25:30 - src.text_processor - INFO - __init__:53 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 15:25:30 - src.text_processor - INFO - process_cases:88 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:107 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:108 - Processing mode: Juriscontent + Sections = True
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:109 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:151 - Found 170 cases for all years from registry requiring processing.
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:163 - Processing case: 0486d0f8-0849-4875-a238-8cbe2aa120df (1/170)
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:25:31 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:25:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 15:25:31 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:25:32 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:25:32 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:25:32 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:25:32 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:25:32 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:25:32 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6376
2025-10-16 15:26:41 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2762
2025-10-16 15:26:41 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 15:26:41 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 7628 characters
2025-10-16 15:26:41 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 15:26:41 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 3 H1 heading tags
2025-10-16 15:26:41 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 15:26:41 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 13 new anchor tags (preserved existing ones)
2025-10-16 15:26:41 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6376 in / 2762 out. Cost: $0.057370
2025-10-16 15:26:41 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 15:26:41 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 15:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer_genai.html
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 15:26:41 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent_gemini_response.json
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 6376 input, 2762 output | Cost: $0.057370
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 21798 bytes
2025-10-16 15:26:41 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 69.73s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:41 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:41 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 15:26:41 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 15:26:41 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 3
2025-10-16 15:26:41 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 15:26:41 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:41 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:41 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 15:26:41 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:26:41 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:26:42 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 3 objects from s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:26:42 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 3 files from folder
2025-10-16 15:26:42 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/
2025-10-16 15:26:42 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 1 existing sections for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:42 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/juriscontent.html
2025-10-16 15:26:42 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 15:26:42 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 15:26:42 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (604 chars)
2025-10-16 15:26:42 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 2212 total characters
2025-10-16 15:26:42 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 4 section(s) for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 15:26:42 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 15:26:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 15:26:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 15:26:43 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 15:26:43 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.60s for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:43 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 15:26:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/miniviewer.html
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 15:26:43 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 2357 characters from HTML
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:557 - Extracted 2357 characters from miniviewer.html
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_original.txt
2025-10-16 15:26:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_original.txt
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content
2025-10-16 15:26:43 - src.text_processor - INFO - _list_section_files:697 - Found 4 numbered section files (excluding original/constructed)
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:578 - Found 4 section files
2025-10-16 15:26:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_1.txt
2025-10-16 15:26:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_2.txt
2025-10-16 15:26:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_3.txt
2025-10-16 15:26:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_4.txt
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 4 sections into 2218 characters
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_constructed.txt
2025-10-16 15:26:43 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/0486d0f8-0849-4875-a238-8cbe2aa120df/section-level-content/miniviewer_constructed.txt
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:173 -   Original text length: 2,357 chars (55 line breaks)
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 2,218 chars (37 line breaks)
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 139 chars (5.9%)
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.9592
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.7000
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 15:26:43 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 15:26:43 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 0486d0f8-0849-4875-a238-8cbe2aa120df | Score: 0.9592 | Status: PASS
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 0486d0f8-0849-4875-a238-8cbe2aa120df
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 2357 chars (from HTML)
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 2218 chars (from sections)
2025-10-16 15:26:43 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 15:26:43 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:26:43 - src.text_processor - INFO - process_cases:163 - Processing case: 2de5be71-b915-4192-aac5-ae74dddc7b42 (2/170)
2025-10-16 15:26:43 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:26:44 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 2de5be71-b915-4192-aac5-ae74dddc7b42
2025-10-16 15:26:44 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2de5be71-b915-4192-aac5-ae74dddc7b42/miniviewer.html
2025-10-16 15:26:44 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:26:44 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:26:44 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:26:44 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:26:44 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:26:44 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:47:51 - root - INFO - main:75 - ======================================================================
2025-10-16 15:47:51 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 15:47:51 - root - INFO - main:77 - Mode: both
2025-10-16 15:47:51 - root - INFO - main:78 - ======================================================================
2025-10-16 15:47:51 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 15:47:51 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 15:47:51 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 15:47:51 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:47:51 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 15:47:51 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 15:47:51 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 15:47:51 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: 74f57a0c-6f5d-47fe-8391-a04a04ab05b7
2025-10-16 15:47:51 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:47:51 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 15:47:51 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 15:47:52 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 15:47:52 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 15:47:52 - src.content_verifier - INFO - __init__:28 - ContentVerifier initialized with pass_threshold=0.9
2025-10-16 15:47:52 - src.content_verifier - INFO - __init__:29 - Normalization: All line breaks will be replaced with single spaces
2025-10-16 15:47:52 - src.text_processor - INFO - __init__:48 - Content verification ENABLED (threshold=0.9)
2025-10-16 15:47:52 - src.text_processor - INFO - __init__:53 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 15:47:52 - src.text_processor - INFO - process_cases:88 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 15:47:52 - src.text_processor - INFO - process_cases:107 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 15:47:52 - src.text_processor - INFO - process_cases:108 - Processing mode: Juriscontent + Sections = True
2025-10-16 15:47:52 - src.text_processor - INFO - process_cases:109 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 15:47:52 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-16 15:47:52 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-16 15:47:53 - src.text_processor - INFO - process_cases:151 - Found 30642 cases for all years from registry requiring processing.
2025-10-16 15:47:53 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:47:53 - src.text_processor - INFO - process_cases:163 - Processing case: d0c326d2-4ce9-41d5-85f0-546346428efc (1/30642)
2025-10-16 15:47:53 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:47:53 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:47:53 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/miniviewer.html
2025-10-16 15:47:53 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:47:53 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:47:53 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:47:53 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:47:53 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:47:53 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:47:54 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 3576
2025-10-16 15:48:21 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1327
2025-10-16 15:48:21 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 15:48:21 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 4382 characters
2025-10-16 15:48:21 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 15:48:21 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 2 H1 heading tags
2025-10-16 15:48:21 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 15:48:21 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 3 new anchor tags (preserved existing ones)
2025-10-16 15:48:21 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 3576 in / 1327 out. Cost: $0.028845
2025-10-16 15:48:21 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 15:48:21 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:48:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/juriscontent.html
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 15:48:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/miniviewer_genai.html
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/juriscontent_gemini_response.json
2025-10-16 15:48:21 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/juriscontent_gemini_response.json
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 3576 input, 1327 output | Cost: $0.028845
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 16465 bytes
2025-10-16 15:48:21 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 27.84s for source_id: d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:21 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:21 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 15:48:21 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 15:48:21 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 2
2025-10-16 15:48:21 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 15:48:21 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:21 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:21 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 15:48:21 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/
2025-10-16 15:48:21 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/
2025-10-16 15:48:21 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 1 objects from s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/
2025-10-16 15:48:21 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 1 files from folder
2025-10-16 15:48:21 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/
2025-10-16 15:48:22 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 1 existing sections for source_id: d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:22 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/juriscontent.html
2025-10-16 15:48:22 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 15:48:22 - src.section_extractor - INFO - extract_sections:37 - Found 2 H1 headings
2025-10-16 15:48:22 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (111 chars)
2025-10-16 15:48:22 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 3 sections with 919 total characters
2025-10-16 15:48:22 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 3 section(s) for d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_1.txt
2025-10-16 15:48:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_2.txt
2025-10-16 15:48:22 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_3.txt
2025-10-16 15:48:23 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 15:48:23 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.43s for source_id: d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:23 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/miniviewer.html
2025-10-16 15:48:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/miniviewer.html
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 15:48:23 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 953 characters from HTML
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:557 - Extracted 953 characters from miniviewer.html
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_original.txt
2025-10-16 15:48:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_original.txt
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content
2025-10-16 15:48:23 - src.text_processor - INFO - _list_section_files:697 - Found 3 numbered section files (excluding original/constructed)
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:578 - Found 3 section files
2025-10-16 15:48:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_1.txt
2025-10-16 15:48:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_2.txt
2025-10-16 15:48:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_3.txt
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 3 sections into 923 characters
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_constructed.txt
2025-10-16 15:48:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/d0c326d2-4ce9-41d5-85f0-546346428efc/section-level-content/miniviewer_constructed.txt
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:173 -   Original text length: 953 chars (17 line breaks)
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 923 chars (15 line breaks)
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 30 chars (3.1%)
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.9908
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 15:48:23 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 15:48:23 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: d0c326d2-4ce9-41d5-85f0-546346428efc | Score: 0.9908 | Status: PASS
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for d0c326d2-4ce9-41d5-85f0-546346428efc
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 953 chars (from HTML)
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 923 chars (from sections)
2025-10-16 15:48:23 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 15:48:23 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:48:23 - src.text_processor - INFO - process_cases:163 - Processing case: 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6 (2/30642)
2025-10-16 15:48:23 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:48:23 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:48:23 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/miniviewer.html
2025-10-16 15:48:23 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:48:23 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:48:23 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:48:23 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:48:23 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:48:23 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:48:24 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 4187
2025-10-16 15:49:27 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1641
2025-10-16 15:49:27 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 15:49:27 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 4764 characters
2025-10-16 15:49:27 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 15:49:27 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 5 H1 heading tags
2025-10-16 15:49:27 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 15:49:27 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 5 new anchor tags (preserved existing ones)
2025-10-16 15:49:27 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 4187 in / 1641 out. Cost: $0.035083
2025-10-16 15:49:27 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 15:49:27 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 15:49:27 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:49:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/juriscontent.html
2025-10-16 15:49:27 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 15:49:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/miniviewer_genai.html
2025-10-16 15:49:27 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 15:49:27 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/juriscontent_gemini_response.json
2025-10-16 15:49:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/juriscontent_gemini_response.json
2025-10-16 15:49:27 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 15:49:27 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 4187 input, 1641 output | Cost: $0.035083
2025-10-16 15:49:27 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 18175 bytes
2025-10-16 15:49:27 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 64.10s for source_id: 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:28 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:28 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 15:49:28 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 15:49:28 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 5
2025-10-16 15:49:28 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 15:49:28 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:28 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:28 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 15:49:28 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/
2025-10-16 15:49:28 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/
2025-10-16 15:49:28 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 2 objects from s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/
2025-10-16 15:49:28 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 2 files from folder
2025-10-16 15:49:28 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/
2025-10-16 15:49:28 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 2 existing sections for source_id: 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:28 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/juriscontent.html
2025-10-16 15:49:28 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 15:49:28 - src.section_extractor - INFO - extract_sections:37 - Found 5 H1 headings
2025-10-16 15:49:28 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (685 chars)
2025-10-16 15:49:28 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 6 sections with 1455 total characters
2025-10-16 15:49:28 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 6 section(s) for 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_1.txt
2025-10-16 15:49:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_2.txt
2025-10-16 15:49:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_3.txt
2025-10-16 15:49:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_4.txt
2025-10-16 15:49:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_5.txt
2025-10-16 15:49:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_6.txt
2025-10-16 15:49:30 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 6 sections saved
2025-10-16 15:49:30 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.99s for source_id: 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:30 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/miniviewer.html
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/miniviewer.html
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 15:49:30 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 1494 characters from HTML
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:557 - Extracted 1494 characters from miniviewer.html
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_original.txt
2025-10-16 15:49:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_original.txt
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content
2025-10-16 15:49:30 - src.text_processor - INFO - _list_section_files:697 - Found 6 numbered section files (excluding original/constructed)
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:578 - Found 6 section files
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_1.txt
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_2.txt
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_3.txt
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_4.txt
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_5.txt
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_6.txt
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 6 sections into 1465 characters
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_constructed.txt
2025-10-16 15:49:30 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/3f7bfdae-68f8-4b6e-a580-c918fbb1fed6/section-level-content/miniviewer_constructed.txt
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:173 -   Original text length: 1,494 chars (44 line breaks)
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 1,465 chars (38 line breaks)
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 29 chars (1.9%)
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.9445
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 15:49:30 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 15:49:30 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6 | Score: 0.9445 | Status: PASS
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 3f7bfdae-68f8-4b6e-a580-c918fbb1fed6
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 1494 chars (from HTML)
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 1465 chars (from sections)
2025-10-16 15:49:30 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 15:49:30 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:49:30 - src.text_processor - INFO - process_cases:163 - Processing case: b68310f7-64b8-4837-9248-1921ead3932d (3/30642)
2025-10-16 15:49:30 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:49:30 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:49:30 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/miniviewer.html
2025-10-16 15:49:30 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:49:30 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:49:30 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:49:30 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:49:30 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:49:30 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:49:31 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5383
2025-10-16 15:50:10 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3188
2025-10-16 15:50:10 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 15:50:10 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 7754 characters
2025-10-16 15:50:10 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 15:50:10 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 4 H1 heading tags
2025-10-16 15:50:10 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 15:50:10 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 4 new anchor tags (preserved existing ones)
2025-10-16 15:50:10 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 5383 in / 3188 out. Cost: $0.061277
2025-10-16 15:50:10 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 15:50:10 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 15:50:10 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:50:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/juriscontent.html
2025-10-16 15:50:11 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 15:50:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/miniviewer_genai.html
2025-10-16 15:50:11 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 15:50:11 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/juriscontent_gemini_response.json
2025-10-16 15:50:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/juriscontent_gemini_response.json
2025-10-16 15:50:11 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 15:50:11 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 5383 input, 3188 output | Cost: $0.061277
2025-10-16 15:50:11 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 19746 bytes
2025-10-16 15:50:11 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 40.50s for source_id: b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:11 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:11 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 15:50:11 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 15:50:11 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 4
2025-10-16 15:50:11 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 15:50:11 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:11 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:11 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 15:50:11 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/
2025-10-16 15:50:11 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/
2025-10-16 15:50:11 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 5 objects from s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/
2025-10-16 15:50:11 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 5 files from folder
2025-10-16 15:50:11 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/
2025-10-16 15:50:12 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 5 existing sections for source_id: b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/juriscontent.html
2025-10-16 15:50:12 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 15:50:12 - src.section_extractor - INFO - extract_sections:37 - Found 4 H1 headings
2025-10-16 15:50:12 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (552 chars)
2025-10-16 15:50:12 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 5 sections with 1044 total characters
2025-10-16 15:50:12 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 5 section(s) for b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_1.txt
2025-10-16 15:50:12 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_2.txt
2025-10-16 15:50:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_3.txt
2025-10-16 15:50:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_4.txt
2025-10-16 15:50:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_5.txt
2025-10-16 15:50:13 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-16 15:50:13 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.89s for source_id: b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:13 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/miniviewer.html
2025-10-16 15:50:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/miniviewer.html
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 15:50:13 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 1074 characters from HTML
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:557 - Extracted 1074 characters from miniviewer.html
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_original.txt
2025-10-16 15:50:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_original.txt
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content
2025-10-16 15:50:13 - src.text_processor - INFO - _list_section_files:697 - Found 5 numbered section files (excluding original/constructed)
2025-10-16 15:50:13 - src.text_processor - INFO - _verify_section_content:578 - Found 5 section files
2025-10-16 15:50:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_1.txt
2025-10-16 15:50:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_2.txt
2025-10-16 15:50:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_3.txt
2025-10-16 15:50:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_4.txt
2025-10-16 15:50:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_5.txt
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 5 sections into 1052 characters
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_constructed.txt
2025-10-16 15:50:14 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b68310f7-64b8-4837-9248-1921ead3932d/section-level-content/miniviewer_constructed.txt
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:173 -   Original text length: 1,074 chars (28 line breaks)
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 1,052 chars (35 line breaks)
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 22 chars (2.0%)
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 1.0000
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 15:50:14 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 15:50:14 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: b68310f7-64b8-4837-9248-1921ead3932d | Score: 1.0000 | Status: PASS
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for b68310f7-64b8-4837-9248-1921ead3932d
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 1074 chars (from HTML)
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 1052 chars (from sections)
2025-10-16 15:50:14 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 15:50:14 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:50:14 - src.text_processor - INFO - process_cases:163 - Processing case: f2abc963-102d-479b-9f32-b22abd38237a (4/30642)
2025-10-16 15:50:14 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:50:14 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:50:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/miniviewer.html
2025-10-16 15:50:14 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:50:14 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:50:14 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:50:14 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:50:14 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:50:14 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:50:14 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 6705
2025-10-16 15:51:06 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 4400
2025-10-16 15:51:06 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 15:51:06 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 10606 characters
2025-10-16 15:51:06 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 15:51:06 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 5 H1 heading tags
2025-10-16 15:51:06 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 15:51:06 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 6 new anchor tags (preserved existing ones)
2025-10-16 15:51:06 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 6705 in / 4400 out. Cost: $0.082763
2025-10-16 15:51:06 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 15:51:06 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 15:51:06 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 15:51:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/juriscontent.html
2025-10-16 15:51:06 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 15:51:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/miniviewer_genai.html
2025-10-16 15:51:06 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 15:51:06 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/juriscontent_gemini_response.json
2025-10-16 15:51:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/juriscontent_gemini_response.json
2025-10-16 15:51:06 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 15:51:06 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 6705 input, 4400 output | Cost: $0.082763
2025-10-16 15:51:06 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 23167 bytes
2025-10-16 15:51:07 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 52.62s for source_id: f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:07 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:07 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 15:51:07 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 15:51:07 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 5
2025-10-16 15:51:07 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 15:51:07 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:07 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:07 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 15:51:07 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/
2025-10-16 15:51:07 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/
2025-10-16 15:51:07 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 3 objects from s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/
2025-10-16 15:51:07 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 3 files from folder
2025-10-16 15:51:07 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/
2025-10-16 15:51:07 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 3 existing sections for source_id: f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:08 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/juriscontent.html
2025-10-16 15:51:08 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 15:51:08 - src.section_extractor - INFO - extract_sections:37 - Found 5 H1 headings
2025-10-16 15:51:08 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (560 chars)
2025-10-16 15:51:08 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 6 sections with 1371 total characters
2025-10-16 15:51:08 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 6 section(s) for f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_1.txt
2025-10-16 15:51:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_2.txt
2025-10-16 15:51:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_3.txt
2025-10-16 15:51:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_4.txt
2025-10-16 15:51:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_5.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_6.txt
2025-10-16 15:51:09 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 6 sections saved
2025-10-16 15:51:09 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.00s for source_id: f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:09 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/miniviewer.html
2025-10-16 15:51:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/miniviewer.html
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 15:51:09 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 1397 characters from HTML
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:557 - Extracted 1397 characters from miniviewer.html
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_original.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_original.txt
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content
2025-10-16 15:51:09 - src.text_processor - INFO - _list_section_files:697 - Found 6 numbered section files (excluding original/constructed)
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:578 - Found 6 section files
2025-10-16 15:51:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_1.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_2.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_3.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_4.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_5.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_6.txt
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 6 sections into 1381 characters
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_constructed.txt
2025-10-16 15:51:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/f2abc963-102d-479b-9f32-b22abd38237a/section-level-content/miniviewer_constructed.txt
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:173 -   Original text length: 1,397 chars (47 line breaks)
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 1,381 chars (55 line breaks)
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 16 chars (1.1%)
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.9996
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 15:51:09 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 15:51:09 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: f2abc963-102d-479b-9f32-b22abd38237a | Score: 0.9996 | Status: PASS
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for f2abc963-102d-479b-9f32-b22abd38237a
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 1397 chars (from HTML)
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 1381 chars (from sections)
2025-10-16 15:51:09 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 15:51:09 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:51:09 - src.text_processor - INFO - process_cases:163 - Processing case: 83617ff9-f0b6-432e-9bac-22d851e960f8 (5/30642)
2025-10-16 15:51:09 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:51:10 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 15:51:10 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/miniviewer.html
2025-10-16 15:51:10 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:51:11 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:51:11 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:51:11 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:51:11 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:51:11 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:51:12 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 272560
2025-10-16 15:54:41 - root - INFO - main:75 - ======================================================================
2025-10-16 15:54:41 - root - INFO - main:76 - TEXT EXTRACTION SERVICE STARTED
2025-10-16 15:54:41 - root - INFO - main:77 - Mode: both
2025-10-16 15:54:41 - root - INFO - main:78 - ======================================================================
2025-10-16 15:54:41 - utils.config_manager - INFO - _load_environment_variables:56 - Loading environment variables from: .env
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_required_env_vars:72 - All required environment variables are set.
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_required_env_vars:73 -   ✓ DB_USER
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_required_env_vars:74 -   ✓ DB_PASSWORD
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_required_env_vars:75 -   ✓ AWS_ACCESS_KEY_ID
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_required_env_vars:76 -   ✓ AWS_SECRET_ACCESS_KEY
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_required_env_vars:77 -   ✓ GEMINI_API_KEY
2025-10-16 15:54:41 - utils.config_manager - INFO - _load_yaml_config:89 - Configuration loaded successfully from: ./config/config.yaml
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_config_structure:142 - Configuration structure validation passed.
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_config_structure:143 -   ✓ Database configuration
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_config_structure:144 -   ✓ AWS configuration
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_config_structure:145 -   ✓ Tables configuration
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_config_structure:146 -   ✓ Models configuration (Gemini)
2025-10-16 15:54:41 - utils.config_manager - INFO - _validate_config_structure:147 -   ✓ Heading detection configuration (Gemini ENABLED)
2025-10-16 15:54:41 - root - INFO - main:90 - Gemini model configured: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:54:41 - root - INFO - main:91 - Gemini pricing - Input: $2.5/M tokens
2025-10-16 15:54:41 - root - INFO - main:92 - Gemini pricing - Output: $15.0/M tokens
2025-10-16 15:54:41 - utils.audit_logger - INFO - _create_db_engine:55 - AuditLogger creating database engine for: legal_store
2025-10-16 15:54:41 - utils.audit_logger - INFO - log_start:91 - Job 'legislation juriscontent and section extraction' started. Log ID: e06c1342-7f79-424b-addf-ff4283421f90
2025-10-16 15:54:41 - utils.gemini_client - INFO - __init__:18 - GeminiClient initialized with model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:54:41 - src.html_transformer - INFO - _load_prompt:62 - Loaded heading detection prompt from config/heading_detection_prompt.txt
2025-10-16 15:54:41 - src.html_transformer - INFO - __init__:50 - HtmlTransformer initialized WITH Gemini HTML generation (genai_extract=True)
2025-10-16 15:54:41 - utils.s3_manager - INFO - __init__:40 - S3Manager initialized successfully.
2025-10-16 15:54:41 - utils.database_connector - INFO - _create_db_engine:36 - Creating database engine for: legal_store
2025-10-16 15:54:41 - src.content_verifier - INFO - __init__:28 - ContentVerifier initialized with pass_threshold=0.9
2025-10-16 15:54:41 - src.content_verifier - INFO - __init__:29 - Normalization: All line breaks will be replaced with single spaces
2025-10-16 15:54:41 - src.text_processor - INFO - __init__:48 - Content verification ENABLED (threshold=0.9)
2025-10-16 15:54:41 - src.text_processor - INFO - __init__:53 - TextProcessor initialized with Gemini HTML generation pipeline
2025-10-16 15:54:41 - src.text_processor - INFO - process_cases:88 - Config 'jurisdiction_codes' is empty. Fetching all available jurisdictions from the registry.
2025-10-16 15:54:42 - src.text_processor - INFO - process_cases:107 - Starting processing for jurisdictions: ['NSW', 'TAS', 'WA', 'FED', 'SA', 'QLD', 'ACT', 'VIC', 'NT']
2025-10-16 15:54:42 - src.text_processor - INFO - process_cases:108 - Processing mode: Juriscontent + Sections = True
2025-10-16 15:54:42 - src.text_processor - INFO - process_cases:109 - Pipeline: miniviewer.html → Gemini → miniviewer_genai.html → juriscontent.html → sections
2025-10-16 15:54:42 - src.text_processor - INFO - process_cases:115 - ===== Processing for All Years =====
2025-10-16 15:54:42 - src.text_processor - INFO - process_cases:124 - --- Checking Jurisdiction: NSW ---
2025-10-16 15:54:43 - src.text_processor - INFO - process_cases:151 - Found 30638 cases for all years from registry requiring processing.
2025-10-16 15:54:43 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 15:54:43 - src.text_processor - INFO - process_cases:163 - Processing case: 83617ff9-f0b6-432e-9bac-22d851e960f8 (1/30638)
2025-10-16 15:54:43 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 15:54:43 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 15:54:43 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/miniviewer.html
2025-10-16 15:54:43 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 15:54:44 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 15:54:44 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 15:54:44 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 15:54:44 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 15:54:44 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 15:54:46 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 272560
2025-10-16 16:04:46 - utils.gemini_client - ERROR - generate_html_with_headings:67 - Error calling Gemini API for HTML generation: 504 Deadline Exceeded
2025-10-16 16:04:46 - src.html_transformer - ERROR - transform:345 - ⚠ Gemini API error during HTML generation: 504 Deadline Exceeded
2025-10-16 16:04:46 - src.html_transformer - WARNING - transform:346 - Proceeding without headings.
2025-10-16 16:04:46 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 16:04:47 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 16:04:47 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 16:04:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/juriscontent.html
2025-10-16 16:04:47 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/juriscontent_gemini_response.json
2025-10-16 16:04:47 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/juriscontent_gemini_response.json
2025-10-16 16:04:47 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 16:04:47 - src.text_processor - WARNING - _generate_and_save_juriscontent:291 - AI heading detection was attempted but failed. Proceeding without headings.
2025-10-16 16:04:47 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 998263 bytes
2025-10-16 16:04:48 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 604.63s for source_id: 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:04:48 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:04:48 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 16:04:48 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 16:04:48 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 0
2025-10-16 16:04:48 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_api_error)
2025-10-16 16:04:48 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:04:48 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:04:48 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 16:04:48 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/
2025-10-16 16:04:48 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/
2025-10-16 16:04:48 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 11 objects from s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/
2025-10-16 16:04:48 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 11 files from folder
2025-10-16 16:04:48 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/
2025-10-16 16:04:49 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 11 existing sections for source_id: 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:04:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/juriscontent.html
2025-10-16 16:04:49 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 16:04:50 - src.section_extractor - INFO - extract_sections:37 - Found 116 H1 headings
2025-10-16 16:04:50 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (373 chars)
2025-10-16 16:04:50 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 117 sections with 285793 total characters
2025-10-16 16:04:50 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 117 section(s) for 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:04:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_1.txt
2025-10-16 16:04:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_2.txt
2025-10-16 16:04:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_3.txt
2025-10-16 16:04:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_4.txt
2025-10-16 16:04:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_5.txt
2025-10-16 16:04:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_6.txt
2025-10-16 16:04:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_7.txt
2025-10-16 16:04:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_8.txt
2025-10-16 16:04:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_9.txt
2025-10-16 16:04:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_10.txt
2025-10-16 16:04:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_11.txt
2025-10-16 16:04:52 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_12.txt
2025-10-16 16:04:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_13.txt
2025-10-16 16:04:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_14.txt
2025-10-16 16:04:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_15.txt
2025-10-16 16:04:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_16.txt
2025-10-16 16:04:53 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_17.txt
2025-10-16 16:04:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_18.txt
2025-10-16 16:04:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_19.txt
2025-10-16 16:04:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_20.txt
2025-10-16 16:04:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_21.txt
2025-10-16 16:04:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_22.txt
2025-10-16 16:04:54 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_23.txt
2025-10-16 16:04:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_24.txt
2025-10-16 16:04:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_25.txt
2025-10-16 16:04:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_26.txt
2025-10-16 16:04:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_27.txt
2025-10-16 16:04:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_28.txt
2025-10-16 16:04:55 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_29.txt
2025-10-16 16:04:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_30.txt
2025-10-16 16:04:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_31.txt
2025-10-16 16:04:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_32.txt
2025-10-16 16:04:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_33.txt
2025-10-16 16:04:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_34.txt
2025-10-16 16:04:56 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_35.txt
2025-10-16 16:04:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_36.txt
2025-10-16 16:04:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_37.txt
2025-10-16 16:04:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_38.txt
2025-10-16 16:04:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_39.txt
2025-10-16 16:04:57 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_40.txt
2025-10-16 16:04:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_41.txt
2025-10-16 16:04:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_42.txt
2025-10-16 16:04:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_43.txt
2025-10-16 16:04:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_44.txt
2025-10-16 16:04:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_45.txt
2025-10-16 16:04:58 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_46.txt
2025-10-16 16:04:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_47.txt
2025-10-16 16:04:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_48.txt
2025-10-16 16:04:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_49.txt
2025-10-16 16:04:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_50.txt
2025-10-16 16:04:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_51.txt
2025-10-16 16:04:59 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_52.txt
2025-10-16 16:05:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_53.txt
2025-10-16 16:05:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_54.txt
2025-10-16 16:05:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_55.txt
2025-10-16 16:05:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_56.txt
2025-10-16 16:05:00 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_57.txt
2025-10-16 16:05:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_58.txt
2025-10-16 16:05:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_59.txt
2025-10-16 16:05:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_60.txt
2025-10-16 16:05:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_61.txt
2025-10-16 16:05:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_62.txt
2025-10-16 16:05:01 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_63.txt
2025-10-16 16:05:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_64.txt
2025-10-16 16:05:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_65.txt
2025-10-16 16:05:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_66.txt
2025-10-16 16:05:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_67.txt
2025-10-16 16:05:02 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_68.txt
2025-10-16 16:05:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_69.txt
2025-10-16 16:05:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_70.txt
2025-10-16 16:05:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_71.txt
2025-10-16 16:05:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_72.txt
2025-10-16 16:05:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_73.txt
2025-10-16 16:05:03 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_74.txt
2025-10-16 16:05:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_75.txt
2025-10-16 16:05:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_76.txt
2025-10-16 16:05:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_77.txt
2025-10-16 16:05:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_78.txt
2025-10-16 16:05:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_79.txt
2025-10-16 16:05:04 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_80.txt
2025-10-16 16:05:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_81.txt
2025-10-16 16:05:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_82.txt
2025-10-16 16:05:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_83.txt
2025-10-16 16:05:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_84.txt
2025-10-16 16:05:05 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_85.txt
2025-10-16 16:05:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_86.txt
2025-10-16 16:05:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_87.txt
2025-10-16 16:05:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_88.txt
2025-10-16 16:05:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_89.txt
2025-10-16 16:05:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_90.txt
2025-10-16 16:05:06 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_91.txt
2025-10-16 16:05:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_92.txt
2025-10-16 16:05:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_93.txt
2025-10-16 16:05:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_94.txt
2025-10-16 16:05:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_95.txt
2025-10-16 16:05:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_96.txt
2025-10-16 16:05:07 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_97.txt
2025-10-16 16:05:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_98.txt
2025-10-16 16:05:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_99.txt
2025-10-16 16:05:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_100.txt
2025-10-16 16:05:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_101.txt
2025-10-16 16:05:08 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_102.txt
2025-10-16 16:05:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_103.txt
2025-10-16 16:05:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_104.txt
2025-10-16 16:05:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_105.txt
2025-10-16 16:05:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_106.txt
2025-10-16 16:05:09 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_107.txt
2025-10-16 16:05:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_108.txt
2025-10-16 16:05:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_109.txt
2025-10-16 16:05:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_110.txt
2025-10-16 16:05:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_111.txt
2025-10-16 16:05:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_112.txt
2025-10-16 16:05:10 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_113.txt
2025-10-16 16:05:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_114.txt
2025-10-16 16:05:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_115.txt
2025-10-16 16:05:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_116.txt
2025-10-16 16:05:11 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_117.txt
2025-10-16 16:05:11 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 117 sections saved
2025-10-16 16:05:11 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 23.36s for source_id: 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:05:11 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:05:11 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:05:11 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/miniviewer.html
2025-10-16 16:05:12 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/miniviewer.html
2025-10-16 16:05:12 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 16:05:13 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 447280 characters from HTML
2025-10-16 16:05:13 - src.text_processor - INFO - _verify_section_content:557 - Extracted 447280 characters from miniviewer.html
2025-10-16 16:05:13 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_original.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_original.txt
2025-10-16 16:05:13 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 16:05:13 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content
2025-10-16 16:05:13 - src.text_processor - INFO - _list_section_files:697 - Found 117 numbered section files (excluding original/constructed)
2025-10-16 16:05:13 - src.text_processor - INFO - _verify_section_content:578 - Found 117 section files
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_1.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_10.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_100.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_101.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_102.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_103.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_104.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_105.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_106.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_107.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_108.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_109.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_11.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_110.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_111.txt
2025-10-16 16:05:13 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_112.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_113.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_114.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_115.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_116.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_117.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_12.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_13.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_14.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_15.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_16.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_17.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_18.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_19.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_2.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_20.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_21.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_22.txt
2025-10-16 16:05:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_23.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_24.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_25.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_26.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_27.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_28.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_29.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_3.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_30.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_31.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_32.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_33.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_34.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_35.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_36.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_37.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_38.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_39.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_4.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_40.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_41.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_42.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_43.txt
2025-10-16 16:05:15 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_44.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_45.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_46.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_47.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_48.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_49.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_5.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_50.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_51.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_52.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_53.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_54.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_55.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_56.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_57.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_58.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_59.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_6.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_60.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_61.txt
2025-10-16 16:05:16 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_62.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_63.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_64.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_65.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_66.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_67.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_68.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_69.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_7.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_70.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_71.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_72.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_73.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_74.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_75.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_76.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_77.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_78.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_79.txt
2025-10-16 16:05:17 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_8.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_80.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_81.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_82.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_83.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_84.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_85.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_86.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_87.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_88.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_89.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_9.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_90.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_91.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_92.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_93.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_94.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_95.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_96.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_97.txt
2025-10-16 16:05:18 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_98.txt
2025-10-16 16:05:19 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_99.txt
2025-10-16 16:05:19 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 117 sections into 286025 characters
2025-10-16 16:05:19 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_constructed.txt
2025-10-16 16:05:19 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/83617ff9-f0b6-432e-9bac-22d851e960f8/section-level-content/miniviewer_constructed.txt
2025-10-16 16:05:19 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 16:05:19 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 16:05:19 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 16:06:14 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 16:06:14 - src.content_verifier - INFO - verify_content:173 -   Original text length: 447,280 chars (10494 line breaks)
2025-10-16 16:06:14 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 286,025 chars (7072 line breaks)
2025-10-16 16:06:14 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 161,255 chars (36.1%)
2025-10-16 16:06:14 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.4115
2025-10-16 16:06:14 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 16:06:14 - src.content_verifier - INFO - verify_content:178 -   Status: FAILED
2025-10-16 16:06:14 - src.content_verifier - WARNING - verify_content:181 - Content verification FAILED: score 0.4115 is below threshold 0.9000
2025-10-16 16:06:14 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 83617ff9-f0b6-432e-9bac-22d851e960f8 | Score: 0.4115 | Status: FAILED
2025-10-16 16:06:14 - src.text_processor - WARNING - _verify_section_content:631 - Content verification FAILED - generating detailed comparison
2025-10-16 16:06:14 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 83617ff9-f0b6-432e-9bac-22d851e960f8
2025-10-16 16:06:14 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 447280 chars (from HTML)
2025-10-16 16:06:14 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 286025 chars (from sections)
2025-10-16 16:06:14 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 16:06:14 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 16:06:14 - src.text_processor - INFO - process_cases:163 - Processing case: 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12 (2/30638)
2025-10-16 16:06:14 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 16:06:14 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:14 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/miniviewer.html
2025-10-16 16:06:14 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 16:06:14 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 16:06:14 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 16:06:14 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 16:06:14 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 16:06:14 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 16:06:16 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 3816
2025-10-16 16:06:46 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 1450
2025-10-16 16:06:46 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 16:06:46 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 4475 characters
2025-10-16 16:06:46 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 16:06:46 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 2 H1 heading tags
2025-10-16 16:06:46 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 16:06:46 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 9 new anchor tags (preserved existing ones)
2025-10-16 16:06:46 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 3816 in / 1450 out. Cost: $0.031290
2025-10-16 16:06:46 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 16:06:46 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 16:06:46 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 16:06:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/juriscontent.html
2025-10-16 16:06:46 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 16:06:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/miniviewer_genai.html
2025-10-16 16:06:46 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 16:06:46 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/juriscontent_gemini_response.json
2025-10-16 16:06:46 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/juriscontent_gemini_response.json
2025-10-16 16:06:46 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 16:06:46 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 3816 input, 1450 output | Cost: $0.031290
2025-10-16 16:06:46 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 17117 bytes
2025-10-16 16:06:47 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 32.41s for source_id: 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:47 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:47 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 16:06:47 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 16:06:47 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 2
2025-10-16 16:06:47 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 16:06:47 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:47 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:47 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 16:06:47 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/
2025-10-16 16:06:47 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/
2025-10-16 16:06:47 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 2 objects from s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/
2025-10-16 16:06:47 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 2 files from folder
2025-10-16 16:06:47 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/
2025-10-16 16:06:47 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 2 existing sections for source_id: 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/juriscontent.html
2025-10-16 16:06:48 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 16:06:48 - src.section_extractor - INFO - extract_sections:37 - Found 2 H1 headings
2025-10-16 16:06:48 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (111 chars)
2025-10-16 16:06:48 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 3 sections with 1464 total characters
2025-10-16 16:06:48 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 3 section(s) for 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_1.txt
2025-10-16 16:06:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_2.txt
2025-10-16 16:06:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_3.txt
2025-10-16 16:06:48 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 3 sections saved
2025-10-16 16:06:48 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.46s for source_id: 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:48 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/miniviewer.html
2025-10-16 16:06:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/miniviewer.html
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 16:06:48 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 1497 characters from HTML
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:557 - Extracted 1497 characters from miniviewer.html
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_original.txt
2025-10-16 16:06:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_original.txt
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content
2025-10-16 16:06:48 - src.text_processor - INFO - _list_section_files:697 - Found 3 numbered section files (excluding original/constructed)
2025-10-16 16:06:48 - src.text_processor - INFO - _verify_section_content:578 - Found 3 section files
2025-10-16 16:06:48 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_1.txt
2025-10-16 16:06:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_2.txt
2025-10-16 16:06:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_3.txt
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 3 sections into 1468 characters
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_constructed.txt
2025-10-16 16:06:49 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12/section-level-content/miniviewer_constructed.txt
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:173 -   Original text length: 1,497 chars (24 line breaks)
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 1,468 chars (19 line breaks)
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 29 chars (1.9%)
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.9993
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 16:06:49 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 16:06:49 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12 | Score: 0.9993 | Status: PASS
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 2ad0be89-9e3d-45ea-839e-4f5e6c0bbe12
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 1497 chars (from HTML)
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 1468 chars (from sections)
2025-10-16 16:06:49 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 16:06:49 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 16:06:49 - src.text_processor - INFO - process_cases:163 - Processing case: 6a122d28-ce54-4da0-bab9-b87455622dd5 (3/30638)
2025-10-16 16:06:49 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 16:06:49 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:06:49 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/miniviewer.html
2025-10-16 16:06:49 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 16:06:49 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 16:06:49 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 16:06:49 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 16:06:49 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 16:06:49 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 16:06:49 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 7058
2025-10-16 16:08:29 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 4438
2025-10-16 16:08:29 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 16:08:29 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 15878 characters
2025-10-16 16:08:29 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 16:08:29 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 4 H1 heading tags
2025-10-16 16:08:29 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 16:08:29 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 26 new anchor tags (preserved existing ones)
2025-10-16 16:08:29 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 7058 in / 4438 out. Cost: $0.084215
2025-10-16 16:08:29 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 16:08:29 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 16:08:29 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 16:08:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/juriscontent.html
2025-10-16 16:08:29 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 16:08:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/miniviewer_genai.html
2025-10-16 16:08:29 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 16:08:29 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/juriscontent_gemini_response.json
2025-10-16 16:08:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/juriscontent_gemini_response.json
2025-10-16 16:08:29 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 16:08:29 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 7058 input, 4438 output | Cost: $0.084215
2025-10-16 16:08:29 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 28722 bytes
2025-10-16 16:08:30 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 100.56s for source_id: 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:30 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:30 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 16:08:30 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 16:08:30 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 4
2025-10-16 16:08:30 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 16:08:30 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:30 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:30 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 16:08:30 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/
2025-10-16 16:08:30 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/
2025-10-16 16:08:30 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 4 objects from s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/
2025-10-16 16:08:30 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 4 files from folder
2025-10-16 16:08:30 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/
2025-10-16 16:08:31 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 4 existing sections for source_id: 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:31 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/juriscontent.html
2025-10-16 16:08:31 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 16:08:31 - src.section_extractor - INFO - extract_sections:37 - Found 3 H1 headings
2025-10-16 16:08:31 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (744 chars)
2025-10-16 16:08:31 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 4 sections with 7135 total characters
2025-10-16 16:08:31 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 4 section(s) for 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_1.txt
2025-10-16 16:08:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_2.txt
2025-10-16 16:08:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_3.txt
2025-10-16 16:08:31 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_4.txt
2025-10-16 16:08:31 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 4 sections saved
2025-10-16 16:08:32 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.71s for source_id: 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:32 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/miniviewer.html
2025-10-16 16:08:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/miniviewer.html
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 16:08:32 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 7177 characters from HTML
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:557 - Extracted 7177 characters from miniviewer.html
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_original.txt
2025-10-16 16:08:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_original.txt
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content
2025-10-16 16:08:32 - src.text_processor - INFO - _list_section_files:697 - Found 4 numbered section files (excluding original/constructed)
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:578 - Found 4 section files
2025-10-16 16:08:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_1.txt
2025-10-16 16:08:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_2.txt
2025-10-16 16:08:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_3.txt
2025-10-16 16:08:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_4.txt
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 4 sections into 7141 characters
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_constructed.txt
2025-10-16 16:08:32 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6a122d28-ce54-4da0-bab9-b87455622dd5/section-level-content/miniviewer_constructed.txt
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:173 -   Original text length: 7,177 chars (105 line breaks)
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 7,141 chars (83 line breaks)
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 36 chars (0.5%)
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.9383
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 16:08:32 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 16:08:32 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 6a122d28-ce54-4da0-bab9-b87455622dd5 | Score: 0.9383 | Status: PASS
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 6a122d28-ce54-4da0-bab9-b87455622dd5
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 7177 chars (from HTML)
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 7141 chars (from sections)
2025-10-16 16:08:32 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 16:08:32 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 16:08:32 - src.text_processor - INFO - process_cases:163 - Processing case: b998339b-ff10-4096-a25e-fc12412b891e (4/30638)
2025-10-16 16:08:32 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 16:08:32 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:08:32 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/miniviewer.html
2025-10-16 16:08:32 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 16:08:32 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 16:08:32 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 16:08:32 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 16:08:32 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 16:08:32 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 16:08:33 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 5624
2025-10-16 16:09:22 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 3082
2025-10-16 16:09:22 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 16:09:22 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 8599 characters
2025-10-16 16:09:22 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 16:09:22 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 5 H1 heading tags
2025-10-16 16:09:22 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 16:09:22 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 9 new anchor tags (preserved existing ones)
2025-10-16 16:09:22 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 5624 in / 3082 out. Cost: $0.060290
2025-10-16 16:09:22 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 16:09:22 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 16:09:22 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 16:09:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/juriscontent.html
2025-10-16 16:09:23 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 16:09:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/miniviewer_genai.html
2025-10-16 16:09:23 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 16:09:23 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/juriscontent_gemini_response.json
2025-10-16 16:09:23 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/juriscontent_gemini_response.json
2025-10-16 16:09:23 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 16:09:23 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 5624 input, 3082 output | Cost: $0.060290
2025-10-16 16:09:23 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 21835 bytes
2025-10-16 16:09:23 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 50.53s for source_id: b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:23 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:23 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 16:09:23 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 16:09:23 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 5
2025-10-16 16:09:23 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 16:09:23 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:23 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:23 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 16:09:23 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/
2025-10-16 16:09:23 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/
2025-10-16 16:09:23 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 2 objects from s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/
2025-10-16 16:09:23 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 2 files from folder
2025-10-16 16:09:23 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/
2025-10-16 16:09:24 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 2 existing sections for source_id: b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:24 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/juriscontent.html
2025-10-16 16:09:24 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 16:09:24 - src.section_extractor - INFO - extract_sections:37 - Found 5 H1 headings
2025-10-16 16:09:24 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (1737 chars)
2025-10-16 16:09:24 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 6 sections with 2984 total characters
2025-10-16 16:09:24 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 6 section(s) for b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_1.txt
2025-10-16 16:09:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_2.txt
2025-10-16 16:09:24 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_3.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_4.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_5.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_6.txt
2025-10-16 16:09:25 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 6 sections saved
2025-10-16 16:09:25 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.04s for source_id: b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:25 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/miniviewer.html
2025-10-16 16:09:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/miniviewer.html
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 16:09:25 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 3050 characters from HTML
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:557 - Extracted 3050 characters from miniviewer.html
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_original.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_original.txt
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content
2025-10-16 16:09:25 - src.text_processor - INFO - _list_section_files:697 - Found 6 numbered section files (excluding original/constructed)
2025-10-16 16:09:25 - src.text_processor - INFO - _verify_section_content:578 - Found 6 section files
2025-10-16 16:09:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_1.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_2.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_3.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_4.txt
2025-10-16 16:09:25 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_5.txt
2025-10-16 16:09:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_6.txt
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 6 sections into 2994 characters
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_constructed.txt
2025-10-16 16:09:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/b998339b-ff10-4096-a25e-fc12412b891e/section-level-content/miniviewer_constructed.txt
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:173 -   Original text length: 3,050 chars (65 line breaks)
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 2,994 chars (69 line breaks)
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 56 chars (1.8%)
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 0.9900
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 16:09:26 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 16:09:26 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: b998339b-ff10-4096-a25e-fc12412b891e | Score: 0.9900 | Status: PASS
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for b998339b-ff10-4096-a25e-fc12412b891e
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 3050 chars (from HTML)
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 2994 chars (from sections)
2025-10-16 16:09:26 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 16:09:26 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 16:09:26 - src.text_processor - INFO - process_cases:163 - Processing case: 6923e2e1-cd93-4213-8d2c-eb1ec23c646f (5/30638)
2025-10-16 16:09:26 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 16:09:26 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:09:26 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/miniviewer.html
2025-10-16 16:09:26 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 16:09:26 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 16:09:26 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 16:09:26 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 16:09:26 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 16:09:26 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 16:09:26 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 9097
2025-10-16 16:10:48 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 5036
2025-10-16 16:10:48 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 16:10:48 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 12738 characters
2025-10-16 16:10:48 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 16:10:48 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 5 H1 heading tags
2025-10-16 16:10:48 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 16:10:48 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 17 new anchor tags (preserved existing ones)
2025-10-16 16:10:48 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 9097 in / 5036 out. Cost: $0.098282
2025-10-16 16:10:48 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 16:10:48 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 16:10:48 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 16:10:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/juriscontent.html
2025-10-16 16:10:48 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 16:10:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/miniviewer_genai.html
2025-10-16 16:10:48 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 16:10:48 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/juriscontent_gemini_response.json
2025-10-16 16:10:48 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/juriscontent_gemini_response.json
2025-10-16 16:10:48 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 16:10:48 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 9097 input, 5036 output | Cost: $0.098282
2025-10-16 16:10:48 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 26444 bytes
2025-10-16 16:10:49 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 82.67s for source_id: 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:49 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:49 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 16:10:49 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 16:10:49 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 5
2025-10-16 16:10:49 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 16:10:49 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:49 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:49 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 16:10:49 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/
2025-10-16 16:10:49 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/
2025-10-16 16:10:49 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 2 objects from s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/
2025-10-16 16:10:49 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 2 files from folder
2025-10-16 16:10:49 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/
2025-10-16 16:10:50 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 2 existing sections for source_id: 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:50 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/juriscontent.html
2025-10-16 16:10:50 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 16:10:50 - src.section_extractor - INFO - extract_sections:37 - Found 5 H1 headings
2025-10-16 16:10:50 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (453 chars)
2025-10-16 16:10:50 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 6 sections with 3010 total characters
2025-10-16 16:10:50 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 6 section(s) for 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_1.txt
2025-10-16 16:10:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_2.txt
2025-10-16 16:10:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_3.txt
2025-10-16 16:10:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_4.txt
2025-10-16 16:10:50 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_5.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_6.txt
2025-10-16 16:10:51 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 6 sections saved
2025-10-16 16:10:51 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 2.05s for source_id: 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:51 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/miniviewer.html
2025-10-16 16:10:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/miniviewer.html
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 16:10:51 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 3040 characters from HTML
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:557 - Extracted 3040 characters from miniviewer.html
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_original.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_original.txt
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content
2025-10-16 16:10:51 - src.text_processor - INFO - _list_section_files:697 - Found 6 numbered section files (excluding original/constructed)
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:578 - Found 6 section files
2025-10-16 16:10:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_1.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_2.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_3.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_4.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_5.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_6.txt
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 6 sections into 3020 characters
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_constructed.txt
2025-10-16 16:10:51 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/6923e2e1-cd93-4213-8d2c-eb1ec23c646f/section-level-content/miniviewer_constructed.txt
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 16:10:51 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:173 -   Original text length: 3,040 chars (81 line breaks)
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 3,020 chars (78 line breaks)
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 20 chars (0.7%)
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 1.0000
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 16:10:51 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 16:10:52 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 6923e2e1-cd93-4213-8d2c-eb1ec23c646f | Score: 1.0000 | Status: PASS
2025-10-16 16:10:52 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 6923e2e1-cd93-4213-8d2c-eb1ec23c646f
2025-10-16 16:10:52 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 3040 chars (from HTML)
2025-10-16 16:10:52 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 3020 chars (from sections)
2025-10-16 16:10:52 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 16:10:52 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 16:10:52 - src.text_processor - INFO - process_cases:163 - Processing case: 1509daa2-d737-4be8-b050-91f4718edae0 (6/30638)
2025-10-16 16:10:52 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 16:10:52 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:10:52 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/miniviewer.html
2025-10-16 16:10:52 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 16:10:52 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 16:10:52 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 16:10:52 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 16:10:52 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 16:10:52 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 16:10:52 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 4933
2025-10-16 16:11:26 - utils.gemini_client - INFO - generate_html_with_headings:45 - Output tokens: 2461
2025-10-16 16:11:26 - utils.gemini_client - INFO - generate_html_with_headings:61 - Successfully received HTML with embedded headings from Gemini
2025-10-16 16:11:26 - utils.gemini_client - INFO - generate_html_with_headings:62 - Output HTML length: 6449 characters
2025-10-16 16:11:26 - utils.gemini_client - INFO - validate_html_output:92 - HTML validation passed - contains heading tags
2025-10-16 16:11:26 - src.html_transformer - INFO - transform:309 - ✓ Gemini generated HTML with 4 H1 heading tags
2025-10-16 16:11:26 - src.html_transformer - INFO - transform:312 - → Adding anchor tags to generated headings...
2025-10-16 16:11:26 - src.html_transformer - INFO - _add_anchor_tags_to_headings:132 - ✓ Added 4 new anchor tags (preserved existing ones)
2025-10-16 16:11:26 - src.html_transformer - INFO - transform:340 - ✓ HTML generation complete. Tokens: 4933 in / 2461 out. Cost: $0.049247
2025-10-16 16:11:26 - src.html_transformer - INFO - transform:375 - → Applying juriscontent styling (collapsible sections + navigation)...
2025-10-16 16:11:26 - src.html_transformer - INFO - transform:378 - ✓ Juriscontent generation complete
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:256 - Saving juriscontent.html...
2025-10-16 16:11:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/juriscontent.html
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:263 - Saving intermediate miniviewer_genai.html...
2025-10-16 16:11:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/miniviewer_genai.html
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:267 - ✓ Intermediate miniviewer_genai.html saved
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:275 - Saving Gemini response to S3: legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/juriscontent_gemini_response.json
2025-10-16 16:11:26 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/juriscontent_gemini_response.json
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:280 - ✓ Gemini response saved successfully
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:286 - AI Heading Detection - Tokens: 4933 input, 2461 output | Cost: $0.049247
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:303 - ✅ Juriscontent generation SUCCESS: 18907 bytes
2025-10-16 16:11:26 - utils.database_connector - INFO - update_step_result:166 - Updated text_extract to 'pass' with duration 34.39s for source_id: 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:26 - utils.database_connector - INFO - update_heading_detection_metadata:427 - Updated heading metadata for source_id: 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:26 - utils.database_connector - INFO - update_heading_detection_metadata:428 -   - Gemini path: USED
2025-10-16 16:11:26 - utils.database_connector - INFO - update_heading_detection_metadata:429 -   - Headings before: 0
2025-10-16 16:11:26 - utils.database_connector - INFO - update_heading_detection_metadata:430 -   - Headings after: 4
2025-10-16 16:11:26 - src.text_processor - INFO - _generate_and_save_juriscontent:330 - Heading metadata saved to database (path: gemini_success)
2025-10-16 16:11:26 - src.text_processor - INFO - process_cases:190 - [STAGE 2] Extracting sections for 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:26 - utils.database_connector - INFO - update_section_extract_status:280 - Updated section extract status to 'started' for source_id: 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:26 - src.text_processor - INFO - _extract_and_save_sections:397 - Preparing section-level-content folder...
2025-10-16 16:11:26 - utils.s3_manager - INFO - clear_and_recreate_folder:258 - Folder exists. Clearing contents: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/
2025-10-16 16:11:26 - utils.s3_manager - INFO - delete_folder:195 - Deleting folder: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/
2025-10-16 16:11:27 - utils.s3_manager - INFO - delete_folder:235 - Successfully deleted 9 objects from s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/
2025-10-16 16:11:27 - utils.s3_manager - INFO - clear_and_recreate_folder:260 - Cleared 9 files from folder
2025-10-16 16:11:27 - utils.s3_manager - INFO - clear_and_recreate_folder:266 - Folder ready for fresh content: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/
2025-10-16 16:11:27 - utils.database_connector - INFO - clear_existing_sections:305 - Cleared 9 existing sections for source_id: 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:27 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/juriscontent.html
2025-10-16 16:11:27 - src.text_processor - INFO - _extract_and_save_sections:409 - Extracting sections from juriscontent.html...
2025-10-16 16:11:27 - src.section_extractor - INFO - extract_sections:37 - Found 4 H1 headings
2025-10-16 16:11:27 - src.section_extractor - INFO - _extract_sections_from_h1:103 - Found content before first H1 heading (546 chars)
2025-10-16 16:11:27 - src.section_extractor - INFO - _extract_sections_from_h1:144 - Extracted 5 sections with 1119 total characters
2025-10-16 16:11:27 - src.text_processor - INFO - _extract_and_save_sections:421 - → Processing 5 section(s) for 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:27 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_1.txt
2025-10-16 16:11:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_2.txt
2025-10-16 16:11:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_3.txt
2025-10-16 16:11:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_4.txt
2025-10-16 16:11:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_5.txt
2025-10-16 16:11:28 - src.text_processor - INFO - _extract_and_save_sections:462 - ✅ Section extraction SUCCESS: 5 sections saved
2025-10-16 16:11:28 - utils.database_connector - INFO - update_step_result:166 - Updated section_extract to 'pass' with duration 1.90s for source_id: 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:28 - src.text_processor - INFO - process_cases:199 - [STAGE 3] Verifying content for 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:528 - Starting content verification for 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:544 - Downloading source HTML: legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/miniviewer.html
2025-10-16 16:11:28 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/miniviewer.html
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:547 - Extracting text content from HTML (excluding notes)...
2025-10-16 16:11:28 - src.html_content_extractor - INFO - extract_text_from_html:172 - Extracted 1149 characters from HTML
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:557 - Extracted 1149 characters from miniviewer.html
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:561 - Saving original extracted text to: legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_original.txt
2025-10-16 16:11:28 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_original.txt
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:565 - ✓ miniviewer_original.txt saved successfully
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:568 - Retrieving section files from: legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content
2025-10-16 16:11:28 - src.text_processor - INFO - _list_section_files:697 - Found 5 numbered section files (excluding original/constructed)
2025-10-16 16:11:28 - src.text_processor - INFO - _verify_section_content:578 - Found 5 section files
2025-10-16 16:11:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_1.txt
2025-10-16 16:11:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_2.txt
2025-10-16 16:11:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_3.txt
2025-10-16 16:11:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_4.txt
2025-10-16 16:11:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_5.txt
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:608 - Concatenated 5 sections into 1127 characters
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:612 - Saving constructed text to: legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_constructed.txt
2025-10-16 16:11:29 - utils.s3_manager - INFO - save_text_file:93 - Successfully saved file: s3://legal-store/legislation/nsw/1509daa2-d737-4be8-b050-91f4718edae0/section-level-content/miniviewer_constructed.txt
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:616 - ✓ miniviewer_constructed.txt saved successfully
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:619 - Comparing original HTML-extracted text with concatenated sections...
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:154 - Normalizing texts: replacing all line breaks with single spaces...
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:172 - Content Verification Results:
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:173 -   Original text length: 1,149 chars (29 line breaks)
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:174 -   Concatenated sections length: 1,127 chars (36 line breaks)
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:175 -   Length difference (before normalization): 22 chars (1.9%)
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:176 -   Similarity score (after normalization): 1.0000
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:177 -   Threshold: 0.9000
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:178 -   Status: PASS
2025-10-16 16:11:29 - src.content_verifier - INFO - verify_content:186 - ✅ Content verification PASSED
2025-10-16 16:11:29 - utils.database_connector - INFO - update_content_verification:473 - Updated content verification for source_id: 1509daa2-d737-4be8-b050-91f4718edae0 | Score: 1.0000 | Status: PASS
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:640 - ✅ Content verification complete for 1509daa2-d737-4be8-b050-91f4718edae0
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:641 -    - Original text: 1149 chars (from HTML)
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:642 -    - Constructed text: 1127 chars (from sections)
2025-10-16 16:11:29 - src.text_processor - INFO - _verify_section_content:643 -    - Files saved: miniviewer_original.txt, miniviewer_constructed.txt
2025-10-16 16:11:29 - src.text_processor - INFO - process_cases:162 - 
======================================================================
2025-10-16 16:11:29 - src.text_processor - INFO - process_cases:163 - Processing case: f1cbb8d0-c5de-4dff-9623-ec92ce59adb2 (7/30638)
2025-10-16 16:11:29 - src.text_processor - INFO - process_cases:164 - ======================================================================
2025-10-16 16:11:29 - src.text_processor - INFO - process_cases:182 - [STAGE 1] Generating juriscontent.html for f1cbb8d0-c5de-4dff-9623-ec92ce59adb2
2025-10-16 16:11:29 - utils.s3_manager - INFO - get_file_content:66 - Successfully retrieved file: s3://legal-store/legislation/nsw/f1cbb8d0-c5de-4dff-9623-ec92ce59adb2/miniviewer.html
2025-10-16 16:11:29 - src.text_processor - INFO - _generate_and_save_juriscontent:252 - Phase 1: Transforming HTML with intelligent heading detection...
2025-10-16 16:11:30 - src.html_transformer - INFO - transform:211 - H1 headings in source HTML (before processing): 0
2025-10-16 16:11:30 - src.html_transformer - INFO - transform:263 - ✗ No semantic headings found.
2025-10-16 16:11:30 - src.html_transformer - INFO - transform:264 - → Gemini extraction ENABLED (genai_extract=True)
2025-10-16 16:11:30 - src.html_transformer - INFO - transform:265 - → Using Gemini to generate HTML with headings...
2025-10-16 16:11:30 - utils.gemini_client - INFO - generate_html_with_headings:32 - Generating HTML with headings using model: models/gemini-2.5-pro-preview-05-06
2025-10-16 16:11:32 - utils.gemini_client - INFO - generate_html_with_headings:39 - Input tokens: 269715
